if(typeof jQuery==="undefined"){throw new Error("MDTimePicker: This plugin requires jQuery")}+function(g){var f="mdtimepicker",h=120,d=90,e=360,c=30,a=6,j=[9,112,113,114,115,116,117,118,119,120,121,122,123];var i=function(k,l){this.hour=k;this.minute=l;this.format=function(p,m){var n=this,o=(p.match(/h/g)||[]).length>1;return g.trim(p.replace(/(hh|h|mm|ss|tt|t)/g,function(r){switch(r.toLowerCase()){case"h":var q=n.getHour(true);return(m&&q<10?"0"+q:q);case"hh":return(n.hour<10?"0"+n.hour:n.hour);case"mm":return(n.minute<10?"0"+n.minute:n.minute);case"ss":return"00";case"t":return o?"":n.getT().toLowerCase();case"tt":return o?"":n.getT()}}))};this.setHour=function(m){this.hour=m};this.getHour=function(m){return m?this.hour===0||this.hour===12?12:(this.hour%12):this.hour};this.invert=function(){if(this.getT()==="AM"){this.setHour(this.getHour()+12)}else{this.setHour(this.getHour()-12)}};this.setMinutes=function(m){this.minute=m};this.getMinutes=function(m){return this.minute};this.getT=function(){return this.hour<12?"AM":"PM"}};var b=function(k,m){var n=this;this.visible=false;this.activeView="hours";this.hTimeout=null;this.mTimeout=null;this.input=g(k);this.config=m;this.time=new i(0,0);this.selected=new i(0,0);this.timepicker={overlay:g('<div class="mdtimepicker hidden"></div>'),wrapper:g('<div class="mdtp__wrapper"></div>'),timeHolder:{wrapper:g('<section class="mdtp__time_holder"></section>'),hour:g('<span class="mdtp__time_h">12</span>'),dots:g('<span class="mdtp__timedots">:</span>'),minute:g('<span class="mdtp__time_m">00</span>'),am_pm:g('<span class="mdtp__ampm">AM</span>')},clockHolder:{wrapper:g('<section class="mdtp__clock_holder"></section>'),am:g('<span class="mdtp__am">AM</span>'),pm:g('<span class="mdtp__pm">PM</span>'),clock:{wrapper:g('<div class="mdtp__clock"></div>'),dot:g('<span class="mdtp__clock_dot"></span>'),hours:g('<div class="mdtp__hour_holder"></div>'),minutes:g('<div class="mdtp__minute_holder"></div>')},buttonsHolder:{wrapper:g('<div class="mdtp__buttons">'),btnOk:g('<span class="mdtp__button ok">Ok</span>'),btnCancel:g('<span class="mdtp__button cancel">Cancelar</span>')}}};var l=n.timepicker;n.setup(l).appendTo("body");l.clockHolder.am.click(function(){if(n.selected.getT()!=="AM"){n.setT("am")}});l.clockHolder.pm.click(function(){if(n.selected.getT()!=="PM"){n.setT("pm")}});l.timeHolder.hour.click(function(){if(n.activeView!=="hours"){n.switchView("hours")}});l.timeHolder.minute.click(function(){if(n.activeView!=="minutes"){n.switchView("minutes")}});l.clockHolder.buttonsHolder.btnOk.click(function(){n.setValue(n.selected);var p=n.getFormattedTime();n.input.trigger(g.Event("timechanged",{time:p.time,value:p.value})).trigger("onchange");n.hide()});l.clockHolder.buttonsHolder.btnCancel.click(function(){n.hide()});n.input.on("keydown",function(p){if(p.keyCode===13){n.show()}return !(j.indexOf(p.which)<0&&n.config.readOnly)}).on("click",function(){n.show()}).prop("readonly",n.config.readOnly);if(n.input.val()!==""){var o=n.parseTime(n.input.val(),n.config.format);n.setValue(o)}else{var o=n.getSystemTime();n.time=new i(o.hour,o.minute)}n.resetSelected();n.switchView(n.activeView)};b.prototype={constructor:b,setup:function(u){if(typeof u==="undefined"){throw new Error("Expecting a value.")}var t=this,r=u.overlay,k=u.wrapper,m=u.timeHolder,n=u.clockHolder;m.wrapper.append(m.hour).append(m.dots).append(m.minute).append(m.am_pm).appendTo(k);for(var s=0;s<12;s++){var v=s+1,l=(h+(s*c))%e,p=g('<div class="mdtp__digit rotate-'+l+'" data-hour="'+v+'"><span>'+v+"</span></div>");p.find("span").click(function(){var y=parseInt(g(this).parent().data("hour")),x=t.selected.getT(),w=(y+((x==="PM"&&y<12)||(x==="AM"&&y===12)?12:0))%24;t.setHour(w);t.switchView("minutes")});n.clock.hours.append(p)}for(var s=0;s<60;s++){var q=s<10?"0"+s:s,l=(d+(s*a))%e,o=g('<div class="mdtp__digit rotate-'+l+'" data-minute="'+s+'"></div>');if(s%5===0){o.addClass("marker").html("<span>"+q+"</span>")}else{o.html("<span></span>")}o.find("span").click(function(){t.setMinute(g(this).parent().data("minute"))});n.clock.minutes.append(o)}n.clock.wrapper.append(n.am).append(n.pm).append(n.clock.dot).append(n.clock.hours).append(n.clock.minutes).appendTo(n.wrapper);n.buttonsHolder.wrapper.append(n.buttonsHolder.btnCancel).append(n.buttonsHolder.btnOk).appendTo(n.wrapper);n.wrapper.appendTo(k);switch(t.config.theme){case"red":case"blue":case"green":case"purple":case"indigo":case"teal":k.attr("data-theme",t.config.theme);break;default:k.attr("data-theme",g.fn.mdtimepicker.defaults.theme);break}k.appendTo(r);return r},setHour:function(k){if(typeof k==="undefined"){throw new Error("Expecting a value.")}var l=this;this.selected.setHour(k);this.timepicker.timeHolder.hour.text(this.selected.getHour(true));this.timepicker.clockHolder.clock.hours.children("div").each(function(m,p){var n=g(p),o=n.data("hour");n[o===l.selected.getHour(true)?"addClass":"removeClass"]("active")})},setMinute:function(k){if(typeof k==="undefined"){throw new Error("Expecting a value.")}this.selected.setMinutes(k);this.timepicker.timeHolder.minute.text(k<10?"0"+k:k);this.timepicker.clockHolder.clock.minutes.children("div").each(function(l,o){var m=g(o),n=m.data("minute");m[n===k?"addClass":"removeClass"]("active")})},setT:function(l){if(typeof l==="undefined"){throw new Error("Expecting a value.")}if(this.selected.getT()!==l.toUpperCase()){this.selected.invert()}var k=this.selected.getT();this.timepicker.timeHolder.am_pm.text(k);this.timepicker.clockHolder.am[k==="AM"?"addClass":"removeClass"]("active");this.timepicker.clockHolder.pm[k==="PM"?"addClass":"removeClass"]("active")},setValue:function(l){if(typeof l==="undefined"){throw new Error("Expecting a value.")}var m=typeof l==="string"?this.parseTime(l,this.config.format):l;this.time=new i(m.hour,m.minute);var k=this.getFormattedTime();this.input.val(k.value).attr("data-time",k.time).attr("value",k.value)},resetSelected:function(){this.setHour(this.time.hour);this.setMinute(this.time.minute);this.setT(this.time.getT())},getFormattedTime:function(){var k=this.time.format(this.config.timeFormat,false),l=this.time.format(this.config.format,this.config.hourPadding);return{time:k,value:l}},getSystemTime:function(){var k=new Date();return new i(k.getHours(),k.getMinutes())},parseTime:function(s,D){var v=this,E=typeof D==="undefined"?v.config.format:D,F=(E.match(/h/g)||[]).length,H=F>1,z=(E.match(/m/g)||[]).length,o=(E.match(/t/g)||[]).length,x=s.length,p=E.indexOf("h"),q=E.lastIndexOf("h"),r="",C="",y="";if(v.config.hourPadding||H){r=s.substr(p,2)}else{var A=E.substring(p-1,p),B=E.substring(q+1,q+2);if(q===E.length-1){r=s.substring(s.indexOf(A,p-1)+1,x)}else{if(p===0){r=s.substring(0,s.indexOf(B,p))}else{r=s.substring(s.indexOf(A,p-1)+1,s.indexOf(B,p+1))}}}E=E.replace(/(hh|h)/g,r);var k=E.indexOf("m"),l=E.lastIndexOf("m"),G=E.indexOf("t");var w=E.substring(k-1,k),m=E.substring(l+1,l+2);if(l===E.length-1){C=s.substring(s.indexOf(w,k-1)+1,x)}else{if(k===0){C=s.substring(0,2)}else{C=s.substr(k,2)}}if(H){y=parseInt(r)>11?(o>1?"PM":"pm"):(o>1?"AM":"am")}else{y=s.substr(G,2)}var n=y.toLowerCase()==="pm",u=new i(parseInt(r),parseInt(C));if((n&&parseInt(r)<12)||(!n&&parseInt(r)===12)){u.invert()}return u},switchView:function(l){var n=this,m=this.timepicker,k=350;if(l!=="hours"&&l!=="minutes"){return}n.activeView=l;m.timeHolder.hour[l==="hours"?"addClass":"removeClass"]("active");m.timeHolder.minute[l==="hours"?"removeClass":"addClass"]("active");m.clockHolder.clock.hours.addClass("animate");if(l==="hours"){m.clockHolder.clock.hours.removeClass("hidden")}clearTimeout(n.hTimeout);n.hTimeout=setTimeout(function(){if(l!=="hours"){m.clockHolder.clock.hours.addClass("hidden")}m.clockHolder.clock.hours.removeClass("animate")},l==="hours"?20:k);m.clockHolder.clock.minutes.addClass("animate");if(l==="minutes"){m.clockHolder.clock.minutes.removeClass("hidden")}clearTimeout(n.mTimeout);n.mTimeout=setTimeout(function(){if(l!=="minutes"){m.clockHolder.clock.minutes.addClass("hidden")}m.clockHolder.clock.minutes.removeClass("animate")},l==="minutes"?20:k)},show:function(){var k=this;if(k.input.val()===""){var l=k.getSystemTime();this.time=new i(l.hour,l.minute)}k.resetSelected();g("body").attr("mdtimepicker-display","on");k.timepicker.wrapper.addClass("animate");k.timepicker.overlay.removeClass("hidden").addClass("animate");setTimeout(function(){k.timepicker.overlay.removeClass("animate");k.timepicker.wrapper.removeClass("animate");k.visible=true;k.input.blur()},10)},hide:function(){var k=this;k.timepicker.overlay.addClass("animate");k.timepicker.wrapper.addClass("animate");setTimeout(function(){k.switchView("hours");k.timepicker.overlay.addClass("hidden").removeClass("animate");k.timepicker.wrapper.removeClass("animate");g("body").removeAttr("mdtimepicker-display");k.visible=false;k.input.focus()},300)},destroy:function(){var k=this;k.input.removeData(f).unbind("keydown").unbind("click").removeProp("readonly");k.timepicker.overlay.remove()}};g.fn.mdtimepicker=function(k){return g(this).each(function(l,o){var p=this,m=g(this),n=g(this).data(f);options=g.extend({},g.fn.mdtimepicker.defaults,m.data(),typeof k==="object"&&k);if(!n){m.data(f,(n=new b(p,options)))}if(typeof k==="string"){n[k]()}g(document).on("keydown",function(q){if(q.keyCode!==27){return}if(n.visible){n.hide()}})})};g.fn.mdtimepicker.defaults={timeFormat:"hh:mm:ss.000",format:"h:mm tt",theme:"blue",readOnly:true,hourPadding:false}}(jQuery);