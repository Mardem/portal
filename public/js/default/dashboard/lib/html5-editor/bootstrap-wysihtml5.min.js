!function(f,h){var d={"font-styles":function(i,j){var k=(j&&j.size)?" btn-"+j.size:"";return"<li class='dropdown'><a class='btn dropdown-toggle"+k+"' data-toggle='dropdown' href='#'><i class='fa fa-font'></i>&nbsp;<span class='current-font'>"+i.font_styles.normal+"</span>&nbsp;<b class='caret'></b></a><ul class='dropdown-menu'><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='div'>"+i.font_styles.normal+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h1'>"+i.font_styles.h1+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h2'>"+i.font_styles.h2+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h3'>"+i.font_styles.h3+"</a></li></ul></li>"},emphasis:function(i,j){var k=(j&&j.size)?" btn-"+j.size:"";return"<li><div class='btn-group'><a class='btn"+k+"' data-wysihtml5-command='bold' title='CTRL+B'>"+i.emphasis.bold+"</a><a class='btn"+k+"' data-wysihtml5-command='italic' title='CTRL+I'>"+i.emphasis.italic+"</a><a class='btn"+k+"' data-wysihtml5-command='underline' title='CTRL+U'>"+i.emphasis.underline+"</a></div></li>"},lists:function(i,j){var k=(j&&j.size)?" btn-"+j.size:"";return"<li><div class='btn-group'><a class='btn"+k+"' data-wysihtml5-command='insertUnorderedList' title='"+i.lists.unordered+"'><i class='fa fa-list'></i></a><a class='btn"+k+"' data-wysihtml5-command='insertOrderedList' title='"+i.lists.ordered+"'><i class='fa fa-th-list'></i></a><a class='btn"+k+"' data-wysihtml5-command='Outdent' title='"+i.lists.outdent+"'><i class='fa fa-outdent'></i></a><a class='btn"+k+"' data-wysihtml5-command='Indent' title='"+i.lists.indent+"'><i class='fa fa-indent'></i></a></div></li>"},link:function(i,j){var k=(j&&j.size)?" btn-"+j.size:"";return"<li><div class='bootstrap-wysihtml5-insert-link-modal modal fade bs-example-modal-lg'><div class='modal-dialog modal-lg'><div class='modal-content'><div class='modal-header'><a class='close' data-dismiss='modal'></a><h3>"+i.link.insert+"</h3></div><div class='modal-body'><div class='form-group'><input value='http://' class='bootstrap-wysihtml5-insert-link-url form-control' type='text'></div></div><div class='modal-footer'><a href='#' class='btn btn-inverse' data-dismiss='modal'>"+i.link.cancel+"</a><a href='#' class='btn btn-primary' data-dismiss='modal'>"+i.link.insert+"</a></div></div></div></div><a class='btn"+k+"' data-wysihtml5-command='createLink' title='"+i.link.insert+"'><i class='fa fa-link'></i></a></li>"},image:function(i,j){var k=(j&&j.size)?" btn-"+j.size:"";return"<li><div class='bootstrap-wysihtml5-insert-image-modal modal fade bs-example-modal-lg'><div class='modal-dialog modal-lg'><div class='modal-content'><div class='modal-header'><a class='close' data-dismiss='modal'></a><h3>"+i.image.insert+"</h3></div><div class='modal-body'><div class='form-group'><input value='http://' class='bootstrap-wysihtml5-insert-image-url  m-wrap large form-control' type='text'></div></div><div class='modal-footer'><a href='#' class='btn' data-dismiss='modal'>"+i.image.cancel+"</a><a href='#' class='btn  green btn-primary' data-dismiss='modal'>"+i.image.insert+"</a></div></div></div></div><a class='btn"+k+"' data-wysihtml5-command='insertImage' title='"+i.image.insert+"'><i class='fa fa-image '></i></a></li>"},html:function(i,j){var k=(j&&j.size)?" btn-"+j.size:"";return"<li><div class='btn-group'><a class='btn"+k+"' data-wysihtml5-action='change_view' title='"+i.html.edit+"'><i class='fa fa-pencil'></i></a></div></li>"},color:function(i,j){var k=(j&&j.size)?" btn-"+j.size:"";return"<li class='dropdown'><a class='btn dropdown-toggle"+k+"' data-toggle='dropdown' href='#'><span class='current-color'>"+i.colours.black+"</span>&nbsp;<b class='caret'></b></a><ul class='dropdown-menu'><li><div class='wysihtml5-colors' data-wysihtml5-command-value='black'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='black'>"+i.colours.black+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='silver'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='silver'>"+i.colours.silver+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='gray'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='gray'>"+i.colours.gray+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='maroon'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='maroon'>"+i.colours.maroon+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='red'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='red'>"+i.colours.red+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='purple'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='purple'>"+i.colours.purple+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='green'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='green'>"+i.colours.green+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='olive'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='olive'>"+i.colours.olive+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='navy'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='navy'>"+i.colours.navy+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='blue'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='blue'>"+i.colours.blue+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='orange'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='orange'>"+i.colours.orange+"</a></li></ul></li>"}};var e=function(k,i,j){return d[k](i,j)};var g=function(k,i){this.el=k;var l=i||b;for(var j in l.customTemplates){d[j]=l.customTemplates[j]}this.toolbar=this.createToolbar(k,l);this.editor=this.createEditor(i);window.editor=this.editor;f("iframe.wysihtml5-sandbox").each(function(m,n){f(n.contentWindow).off("focus.wysihtml5").on({"focus.wysihtml5":function(){f("li.dropdown").removeClass("open")}})})};g.prototype={constructor:g,createEditor:function(j){j=j||{};j.toolbar=this.toolbar[0];var k=new h.Editor(this.el[0],j);if(j&&j.events){for(var i in j.events){k.on(i,j.events[i])}}return k},createToolbar:function(m,k){var j=this;var n=f("<ul/>",{"class":"wysihtml5-toolbar",style:"display:none"});var i=k.locale||b.locale||"en";for(var l in b){var o=false;if(k[l]!==undefined){if(k[l]===true){o=true}}else{o=b[l]}if(o===true){n.append(e(l,a[i],k));if(l==="html"){this.initHtml(n)}if(l==="link"){this.initInsertLink(n)}if(l==="image"){this.initInsertImage(n)}}}if(k.toolbar){for(l in k.toolbar){n.append(k.toolbar[l])}}n.find("a[data-wysihtml5-command='formatBlock']").click(function(r){var q=r.target||r.srcElement;var p=f(q);j.toolbar.find(".current-font").text(p.html())});n.find("a[data-wysihtml5-command='foreColor']").click(function(r){var q=r.target||r.srcElement;var p=f(q);j.toolbar.find(".current-color").text(p.html())});this.el.before(n);return n},initHtml:function(i){var j="a[data-wysihtml5-action='change_view']";i.find(j).click(function(k){i.find("a.btn").not(j).toggleClass("disabled")})},initInsertImage:function(o){var k=this;var n=o.find(".bootstrap-wysihtml5-insert-image-modal");var l=n.find(".bootstrap-wysihtml5-insert-image-url");var j=n.find("a.btn-primary");var i=l.val();var m=function(){var p=l.val();l.val(i);k.editor.currentView.element.focus();k.editor.composer.commands.exec("insertImage",p)};l.keypress(function(p){if(p.which==13){m();n.modal("hide")}});j.click(m);n.on("shown",function(){l.focus()});n.on("hide",function(){k.editor.currentView.element.focus()});o.find("a[data-wysihtml5-command=insertImage]").click(function(){var p=f(this).hasClass("wysihtml5-command-active");if(!p){n.modal("show");n.on("click.dismiss.modal",'[data-dismiss="modal"]',function(q){q.stopPropagation()});return false}else{return true}})},initInsertLink:function(o){var l=this;var p=o.find(".bootstrap-wysihtml5-insert-link-modal");var n=p.find(".bootstrap-wysihtml5-insert-link-url");var j=p.find("a.btn-primary");var i=n.val();var m=function(){var q=n.val();n.val(i);l.editor.currentView.element.focus();l.editor.composer.commands.exec("createLink",{href:q,target:"_blank",rel:"nofollow"})};var k=false;n.keypress(function(q){if(q.which==13){m();p.modal("hide")}});j.click(m);p.on("shown",function(){n.focus()});p.on("hide",function(){l.editor.currentView.element.focus()});o.find("a[data-wysihtml5-command=createLink]").click(function(){var q=f(this).hasClass("wysihtml5-command-active");if(!q){p.appendTo("body").modal("show");p.on("click.dismiss.modal",'[data-dismiss="modal"]',function(r){r.stopPropagation()});return false}else{return true}})}};var c={resetDefaults:function(){f.fn.wysihtml5.defaultOptions=f.extend(true,{},f.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(i){return this.each(function(){var j=f(this);j.data("wysihtml5",new g(j,i))})},shallowExtend:function(i){var j=f.extend({},f.fn.wysihtml5.defaultOptions,i||{});var k=this;return c.bypassDefaults.apply(k,[j])},deepExtend:function(i){var j=f.extend(true,{},f.fn.wysihtml5.defaultOptions,i||{});var k=this;return c.bypassDefaults.apply(k,[j])},init:function(i){var j=this;return c.shallowExtend.apply(j,[i])}};f.fn.wysihtml5=function(i){if(c[i]){return c[i].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof i==="object"||!i){return c.init.apply(this,arguments)}else{f.error("Method "+i+" does not exist on jQuery.wysihtml5")}}};f.fn.wysihtml5.Constructor=g;var b=f.fn.wysihtml5.defaultOptions={"font-styles":true,color:false,emphasis:true,lists:true,html:false,link:true,image:true,events:{},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{set_attributes:{target:"_blank",rel:"nofollow"},check_attributes:{href:"url"}},span:1,div:1}},stylesheets:["./lib/css/wysiwyg-color.css"],locale:"en"};if(typeof f.fn.wysihtml5.defaultOptionsCache==="undefined"){f.fn.wysihtml5.defaultOptionsCache=f.extend(true,{},f.fn.wysihtml5.defaultOptions)}var a=f.fn.wysihtml5.locale={en:{font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}}(window.jQuery,window.wysihtml5);