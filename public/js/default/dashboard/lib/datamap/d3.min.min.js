d3=function(){function hD(a){return null!=a&&!isNaN(a)}function hs(a){return a.length}function hS(b){for(var a=1;b*a%1;){a*=10}return a}function hx(d,a){try{for(var c in a){Object.defineProperty(d.prototype,c,{value:a[c],enumerable:!1})}}catch(b){d.prototype=a}}function hM(){}function hp(){}function hZ(c,a,b){return function(){var d=b.apply(a,arguments);return d===a?c:d}}function hB(f,b){if(b in f){return b}b=b.charAt(0).toUpperCase()+b.substring(1);for(var d=0,c=cs.length;c>d;++d){var a=cs[d]+b;if(a in f){return a}}}function hV(d){for(var a=-1,c=d.length,b=[];++a<c;){b.push(d[a])}return b}function hH(a){return Array.prototype.slice.call(a)}function hQ(){}function hv(){}function hO(d){function a(){for(var g,h=c,f=-1,e=h.length;++f<e;){(g=h[f].on)&&g.apply(this,arguments)}return d}var c=[],b=new hM;return a.on=function(h,g){var f,e=b.get(h);return arguments.length<2?e&&e.on:(e&&(e.on=null,c=c.slice(0,f=c.indexOf(e)).concat(c.slice(f+1)),b.remove(h)),g&&c.push(b.set(h,{on:g})),d)},a}function hP(){a8.event.preventDefault()}function hA(){for(var b,a=a8.event;b=a.sourceEvent;){a=b}return a}function hU(d){for(var a=new hv,c=0,b=arguments.length;++c<b;){a[arguments[c]]=hO(a)}return a.of=function(g,f){return function(h){try{var e=h.sourceEvent=a8.event;h.target=d,a8.event=h,a[h.type].apply(g,f)}finally{a8.event=e}}},a}function hF(a){return es(a,jw),a}function hm(a){return function(){return jd(a,this)}}function hh(a){return function(){return bk(a,this)}}function iz(k,f){function h(){this.removeAttribute(k)}function g(){this.removeAttributeNS(k.space,k.local)}function d(){this.setAttribute(k,f)}function c(){this.setAttributeNS(k.space,k.local,f)}function b(){var a=f.apply(this,arguments);null==a?this.removeAttribute(k):this.setAttribute(k,a)}function j(){var a=f.apply(this,arguments);null==a?this.removeAttributeNS(k.space,k.local):this.setAttributeNS(k.space,k.local,a)}return k=a8.ns.qualify(k),null==f?k.local?g:h:"function"==typeof f?k.local?j:b:k.local?c:d}function hj(a){return a.trim().replace(/\s+/g," ")}function hX(a){return new RegExp("(?:^|\\s+)"+a8.requote(a)+"(?:\\s+|$)","g")}function h0(f,b){function d(){for(var g=-1;++g<a;){f[g](this,b)}}function c(){for(var h=-1,g=b.apply(this,arguments);++h<a;){f[h](this,g)}}f=f.trim().split(/\s+/).map(hk);var a=f.length;return"function"==typeof b?c:d}function hk(b){var a=hX(b);return function(f,d){if(c=f.classList){return d?c.add(b):c.remove(b)}var c=f.getAttribute("class")||"";d?(a.lastIndex=0,a.test(c)||f.setAttribute("class",hj(c+" "+b))):f.setAttribute("class",hj(c.replace(a," ")))}}function ij(g,c,f){function d(){this.style.removeProperty(g)}function b(){this.style.setProperty(g,c,f)}function a(){var e=c.apply(this,arguments);null==e?this.style.removeProperty(g):this.style.setProperty(g,e,f)}return null==c?d:"function"==typeof c?a:b}function iM(f,b){function d(){delete this[f]}function c(){this[f]=b}function a(){var g=b.apply(this,arguments);null==g?delete this[f]:this[f]=g}return null==b?d:"function"==typeof b?a:c}function hI(a){return{__data__:a}}function iS(a){return function(){return gW(this,a)}}function ix(a){return arguments.length||(a=a8.ascending),function(b,c){return !b-!c||a(b.__data__,c.__data__)}}function hy(k,f){for(var h=0,g=k.length;g>h;h++){for(var d,c=k[h],b=0,j=c.length;j>b;b++){(d=c[b])&&f(d,b,h)}}return k}function ig(a){return es(a,fH),a}function iP(f,q,j){function b(){var a=this[m];a&&(this.removeEventListener(f,a,a.$),delete this[m])}function h(){var a=k(q,gj(arguments));b.call(this),this.addEventListener(f,this[m]=a,a.$=j),a._=q}function p(){var c,n=new RegExp("^__on([^.]+)"+a8.requote(f)+"$");for(var l in this){if(c=l.match(n)){var a=this[l];this.removeEventListener(c[1],a,a.$),delete this[l]}}}var m="__on"+f,d=f.indexOf("."),k=hf;d>0&&(f=f.substring(0,d));var g=e1.get(f);return g&&(f=g,k=iN),d?q?h:b:q?hQ:p}function hf(b,a){return function(d){var c=a8.event;a8.event=d,a[0]=this.__data__;try{b.apply(this,a)}finally{a8.event=c}}}function iN(c,a){var b=hf(c,a);return function(f){var d=this,e=f.relatedTarget;e&&(e===d||8&e.compareDocumentPosition(d))||b.call(d,f)}}function hK(j){var f="selectstart."+j,h="dragstart."+j,g="click."+j,d=a8.select(ay).on(f,hP).on(h,hP),c=gF.style,b=c[cI];return c[cI]="none",function(e){function a(){d.on(g,null)}d.on(f,null).on(h,null),c[cI]=b,e&&(d.on(g,function(){hP(),a()},!0),setTimeout(a,0))}}function iA(g,c){var f=g.ownerSVGElement||g;if(f.createSVGPoint){var d=f.createSVGPoint();if(0>d5&&(ay.scrollX||ay.scrollY)){f=a8.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var b=f[0][0].getScreenCTM();d5=!(b.f||b.e),f.remove()}return d5?(d.x=c.pageX,d.y=c.pageY):(d.x=c.clientX,d.y=c.clientY),d=d.matrixTransform(g.getScreenCTM().inverse()),[d.x,d.y]}var a=g.getBoundingClientRect();return[c.clientX-a.left-g.clientLeft,c.clientY-a.top-g.clientTop]}function iH(){}function iK(c,a,b){return new iq(c,a,b)}function iq(c,a,b){this.h=c,this.s=a,this.l=b}function iw(j,f,h){function g(a){return a>360?a-=360:0>a&&(a+=360),60>a?c+(b-c)*a/60:180>a?b:240>a?c+(b-c)*(240-a)/60:c}function d(a){return Math.round(255*g(a))}var c,b;return j=isNaN(j)?0:(j%=360)<0?j+360:j,f=isNaN(f)?0:0>f?0:f>1?1:f,h=0>h?0:h>1?1:h,b=0.5>=h?h*(1+f):h+f-h*f,c=2*h-b,gH(d(j+120),d(j),d(j-120))}function ik(a){return a>0?1:0>a?-1:0}function h5(a){return a>1?0:-1>a?bW:Math.acos(a)}function id(a){return a>1?bW/2:-1>a?-bW/2:Math.asin(a)}function iG(a){return(Math.exp(a)-Math.exp(-a))/2}function h9(a){return(Math.exp(a)+Math.exp(-a))/2}function h6(a){return(a=Math.sin(a/2))*a}function h4(c,a,b){return new iR(c,a,b)}function iR(c,a,b){this.h=c,this.c=a,this.l=b}function jl(c,a,b){return isNaN(c)&&(c=0),isNaN(a)&&(a=0),h8(b,Math.cos(c*=h3)*a,Math.sin(c)*a)}function h8(c,a,b){return new iE(c,a,b)}function iE(c,a,b){this.l=c,this.a=a,this.b=b}function iI(g,c,f){var d=(g+16)/116,b=d+c/500,a=d-f/200;return b=ip(b)*dO,d=ip(d)*bG,a=ip(a)*gJ,gH(bC(3.2404542*b-1.5371385*d-0.4985314*a),bC(-0.969266*b+1.8760108*d+0.041556*a),bC(0.0556434*b-0.2040259*d+1.0572252*a))}function iC(c,a,b){return c>0?h4(Math.atan2(b,a)*af,Math.sqrt(a*a+b*b),c):h4(0/0,0/0,c)}function ip(a){return a>0.206893034?a*a*a:(a-4/29)/7.787037}function dL(a){return a>0.008856?Math.pow(a,1/3):7.787037*a+4/29}function bC(a){return Math.round(255*(0.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-0.055))}function gH(c,a,b){return new cn(c,a,b)}function cn(c,a,b){this.r=c,this.g=a,this.b=b}function fp(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function bg(f,m,h){var b,g,l,k=0,d=0,j=0;if(b=/([a-z]+)\((.*)\)/i.exec(f)){switch(g=b[2].split(","),b[1]){case"hsl":return h(parseFloat(g[0]),parseFloat(g[1])/100,parseFloat(g[2])/100);case"rgb":return m(ew(g[0]),ew(g[1]),ew(g[2]))}}return(l=bl.get(f))?m(l.r,l.g,l.b):(null!=f&&"#"===f.charAt(0)&&(4===f.length?(k=f.charAt(1),k+=k,d=f.charAt(2),d+=d,j=f.charAt(3),j+=j):7===f.length&&(k=f.substring(1,3),d=f.substring(3,5),j=f.substring(5,7)),k=parseInt(k,16),d=parseInt(d,16),j=parseInt(j,16)),m(k,d,j))}function i1(f,m,h){var b,g,l=Math.min(f/=255,m/=255,h/=255),k=Math.max(f,m,h),d=k-l,j=(k+l)/2;return d?(g=0.5>j?d/(k+l):d/(2-k-l),b=f==k?(m-h)/d+(h>m?6:0):m==k?(h-f)/d+2:(f-m)/d+4,b*=60):(b=0/0,g=j>0&&1>j?0:b),iK(b,g,j)}function dm(g,c,f){g=hq(g),c=hq(c),f=hq(f);var d=dL((0.4124564*g+0.3575761*c+0.1804375*f)/dO),b=dL((0.2126729*g+0.7151522*c+0.072175*f)/bG),a=dL((0.0193339*g+0.119192*c+0.9503041*f)/gJ);return h8(116*b-16,500*(d-b),200*(b-a))}function hq(a){return(a/=255)<=0.04045?a/12.92:Math.pow((a+0.055)/1.055,2.4)}function ew(b){var a=parseFloat(b);return"%"===b.charAt(b.length-1)?Math.round(2.55*a):a}function gm(a){return"function"==typeof a?a:function(){return a}}function bT(a){return a}function fJ(a){return function(b,d,c){return 2===arguments.length&&"function"==typeof d&&(c=d,d=null),f0(b,d,a,c)}}function f0(f,q,j,b){function h(){var e,a=k.status;if(!a&&k.responseText||a>=200&&300>a||304===a){try{e=j.call(p,k)}catch(c){return m.error.call(p,c),void 0}m.load.call(p,e)}else{m.error.call(p,k)}}var p={},m=a8.dispatch("progress","load","error"),d={},k=new XMLHttpRequest,g=null;return !ay.XDomainRequest||"withCredentials" in k||!/^(http(s)?:)?\/\//.test(f)||(k=new XDomainRequest),"onload" in k?k.onload=k.onerror=h:k.onreadystatechange=function(){k.readyState>3&&h()},k.onprogress=function(c){var a=a8.event;a8.event=c;try{m.progress.call(p,k)}finally{a8.event=a}},p.header=function(c,a){return c=(c+"").toLowerCase(),arguments.length<2?d[c]:(null==a?delete d[c]:d[c]=a+"",p)},p.mimeType=function(a){return arguments.length?(q=null==a?null:a+"",p):q},p.responseType=function(a){return arguments.length?(g=a,p):g},p.response=function(a){return j=a,p},["get","post"].forEach(function(a){p[a]=function(){return p.send.apply(p,[a].concat(gj(arguments)))}}),p.send=function(o,n,l){if(2===arguments.length&&"function"==typeof n&&(l=n,n=null),k.open(o,f,!0),null==q||"accept" in d||(d.accept=q+",*/*"),k.setRequestHeader){for(var c in d){k.setRequestHeader(c,d[c])}}return null!=q&&k.overrideMimeType&&k.overrideMimeType(q),null!=g&&(k.responseType=g),null!=l&&p.on("error",l).on("load",function(a){l(null,a)}),k.send(null==n?null:n),p},p.abort=function(){return k.abort(),p},a8.rebind(p,m,"on"),null==b?p:p.get(c0(b))}function c0(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function gY(){var b=d7(),a=aX()-b;a>24?(isFinite(a)&&(clearTimeout(ey),ey=setTimeout(gY,a)),hz=0):(hz=1,gp(gY))}function d7(){for(var b=Date.now(),a=i4;a;){b>=a.time&&(a.flush=a.callback(b-a.time)),a=a.next}return b}function aX(){for(var c,a=i4,b=1/0;a;){a.flush?a=c?c.next=a.next:i4=a.next:(a.time<b&&(b=a.time),a=(c=a).next)}return dp=c,b}function jq(c,a){var b=Math.pow(10,3*Math.abs(8-a));return{scale:a>8?function(d){return d/b}:function(d){return d*b},symbol:c}}function gv(b,a){return a-(b?Math.ceil(Math.log(b)/Math.LN10):1)}function jJ(a){return a+""}function ib(){}function aj(g,c,f){var d=f.s=g+c,b=d-g,a=d-b;f.t=g-a+(c-b)}function aH(b,a){b&&an.hasOwnProperty(b.type)&&an[b.type](b,a)}function eB(g,c,f){var d,b=-1,a=g.length-f;for(c.lineStart();++b<a;){d=g[b],c.point(d[0],d[1])}c.lineEnd()}function aP(d,a){var c=-1,b=d.length;for(a.polygonStart();++c<b;){eB(d[c],a,1)}a.polygonEnd()}function eN(){function g(r,j){r*=h3,j=j*h3/2+bW/4;var m=r-d,i=Math.cos(j),p=Math.sin(j),q=a*p,h=b*i+q*Math.cos(m),k=q*Math.sin(m);eE.add(Math.atan2(k,h)),d=r,b=i,a=p}var c,f,d,b,a;aT.point=function(e,h){aT.point=g,d=(c=e)*h3,b=Math.cos(h=(f=h)*h3/2+bW/4),a=Math.sin(h)},aT.lineEnd=function(){g(c,f)}}function b6(d){var a=d[0],c=d[1],b=Math.cos(c);return[b*Math.cos(a),b*Math.sin(a),Math.sin(c)]}function f5(b,a){return b[0]*a[0]+b[1]*a[1]+b[2]*a[2]}function cK(b,a){return[b[1]*a[2]-b[2]*a[1],b[2]*a[0]-b[0]*a[2],b[0]*a[1]-b[1]*a[0]]}function ed(b,a){b[0]+=a[0],b[1]+=a[1],b[2]+=a[2]}function bs(b,a){return[b[0]*a,b[1]*a,b[2]*a]}function iV(b){var a=Math.sqrt(b[0]*b[0]+b[1]*b[1]+b[2]*b[2]);b[0]/=a,b[1]/=a,b[2]/=a}function a5(a){return[Math.atan2(a[1],a[0]),id(a[2])]}function e3(b,a){return Math.abs(b[0]-a[0])<dW&&Math.abs(b[1]-a[1])<dW}function gM(c,a){c*=h3;var b=Math.cos(a*=h3);i8(b*Math.cos(c),b*Math.sin(c),Math.sin(a))}function i8(c,a,b){++eP,f8+=(c-f8)/eP,cM+=(a-cM)/eP,eh+=(b-eh)/eP}function av(){function d(m,h){m*=h3;var g=Math.cos(h*=h3),f=g*Math.cos(m),j=g*Math.sin(m),k=Math.sin(h),e=Math.atan2(Math.sqrt((e=c*k-b*j)*e+(e=b*f-a*k)*e+(e=a*j-c*f)*e),a*f+c*j+b*k);cd+=e,by+=e*(a+(a=f)),iZ+=e*(c+(c=j)),a9+=e*(b+(b=k)),i8(a,c,b)}var a,c,b;aA.point=function(g,f){g*=h3;var e=Math.cos(f*=h3);a=e*Math.cos(g),c=e*Math.sin(g),b=Math.sin(f),aA.point=d,i8(a,c,b)}}function fx(){aA.point=gM}function fO(){function g(k,z){k*=h3;var v=Math.cos(z*=h3),y=v*Math.cos(k),j=v*Math.sin(k),x=Math.sin(z),m=b*x-a*j,u=a*y-d*x,A=d*j-b*y,q=Math.sqrt(m*m+u*u+A*A),r=d*y+b*j+a*x,i=q&&-h5(r)/q,w=Math.atan2(q,r);e5+=i*m,gP+=i*u,jg+=i*A,cd+=w,by+=w*(d+(d=y)),iZ+=w*(b+(b=j)),a9+=w*(a+(a=x)),i8(d,b,a)}var c,f,d,b,a;aA.point=function(e,h){c=e,f=h,aA.point=g,e*=h3;var i=Math.cos(h*=h3);d=i*Math.cos(e),b=i*Math.sin(e),a=Math.sin(h),i8(d,b,a)},aA.lineEnd=function(){g(c,f),aA.lineEnd=fx,aA.point=gM}}function eR(){return !0}function cy(j,A,w,b,m){var z=[],y=[];if(j.forEach(function(u){if(!((f=u.length-1)<=0)){var f,h=u[0],g=u[f];if(e3(h,g)){m.lineStart();for(var i=0;f>i;++i){m.point((h=u[i])[0],h[1])}return m.lineEnd(),void 0}var s={point:h,points:u,other:null,visited:!1,entry:!0,subject:!0},a={point:h,points:[h],other:s,visited:!1,entry:!1,subject:!1};s.other=a,z.push(s),y.push(a),s={point:g,points:[g],other:null,visited:!1,entry:!1,subject:!0},a={point:g,points:[g],other:s,visited:!1,entry:!0,subject:!1},s.other=a,z.push(s),y.push(a)}}),y.sort(A),dS(z),dS(y),z.length){if(w){for(var d=1,x=!w(y[0].point),k=y.length;k>d;++d){y[d].entry=x=!x}}for(var v,B,p,q=z[0];;){for(v=q;v.visited;){if((v=v.next)===q){return}}B=v.points,m.lineStart();do{if(v.visited=v.other.visited=!0,v.entry){if(v.subject){for(var d=0;d<B.length;d++){m.point((p=B[d])[0],p[1])}}else{b(v.point,v.next.point,1,m)}v=v.next}else{if(v.subject){B=v.prev.points;for(var d=B.length;--d>=0;){m.point((p=B[d])[0],p[1])}}else{b(v.point,v.prev.point,-1,m)}v=v.prev}v=v.other,B=v.points}while(!v.visited);m.lineEnd()}}}function dS(f){if(b=f.length){for(var b,d,c=0,a=f[0];++c<b;){a.next=d=f[c],d.prev=a,a=d}a.next=d=f[0],d.prev=a}}function iy(d,a,c,b){return function(q){function D(f,g){d(f,g)&&q.point(f,g)}function B(g,f){x.point(g,f)}function j(){k.point=B,x.lineStart()}function z(){k.point=D,x.lineEnd()}function n(g,f){A.point(g,f),e.push([g,f])}function w(){A.lineStart(),e=[]}function E(){n(e[0][0],e[0][1]),A.lineEnd();var m,h=A.clean(),l=C.buffer(),i=l.length;if(e.pop(),t.push(e),e=null,i){if(1&h){m=l[0];var g,i=m.length-1,f=-1;for(q.lineStart();++f<i;){q.point((g=m[f])[0],g[1])}return q.lineEnd(),void 0}i>1&&2&h&&l.push(l.pop().concat(l.shift())),r.push(l.filter(dv))}}var r,t,e,x=a(q),k={point:D,lineStart:j,lineEnd:z,polygonStart:function(){k.point=n,k.lineStart=w,k.lineEnd=E,r=[],t=[],q.polygonStart()},polygonEnd:function(){k.point=D,k.lineStart=j,k.lineEnd=z,r=a8.merge(r),r.length?cy(r,b0,null,c,q):b(t)&&(q.lineStart(),c(null,null,1,q),q.lineEnd()),q.polygonEnd(),r=t=null},sphere:function(){q.polygonStart(),q.lineStart(),c(null,null,1,q),q.lineEnd(),q.polygonEnd()}},C=cO(),A=a(C);return k}}function dv(a){return a.length>1}function cO(){var b,a=[];return{lineStart:function(){a.push(b=[])},point:function(c,d){b.push([c,d])},lineEnd:hQ,buffer:function(){var c=a;return a=[],b=null,c},rejoin:function(){a.length>1&&a.push(a.pop().concat(a.shift()))}}}function b0(b,a){return((b=b.point)[0]<0?b[1]-bW/2-dW:bW/2-b[1])-((a=a.point)[0]<0?a[1]-bW/2-dW:bW/2-a[1])}function bL(Q,I){var Z=Q[0],K=Q[1],V=[Math.sin(Z),-Math.cos(Z),0],G=0,ai=!1,P=!1,ac=0;eE.reset();for(var T=0,Y=I.length;Y>T;++T){var J=I[T],W=J.length;if(W){for(var X=J[0],O=X[0],aa=X[1]/2+bW/4,R=Math.sin(aa),F=Math.cos(aa),B=1;;){B===W&&(B=0),Q=J[B];var z=Q[0],C=Q[1]/2+bW/4,ae=Math.sin(C),al=Math.cos(C),D=z-O,j=Math.abs(D)>bW,H=R*ae;if(eE.add(Math.atan2(H*Math.sin(D),F*al+H*Math.cos(D))),Math.abs(C)<dW&&(P=!0),G+=j?D+(D>=0?2:-2)*bW:D,j^O>=Z^z>=Z){var U=cK(b6(X),b6(Q));iV(U);var L=cK(V,U);iV(L);var q=(j^D>=0?-1:1)*id(L[2]);K>q&&(ac+=j^D>=0?1:-1)}if(!B++){break}O=z,R=ae,F=al,X=Q}Math.abs(G)>dW&&(ai=!0)}}return(!P&&!ai&&0>eE||-dW>G)^1&ac}function dF(f){var b,d=0/0,c=0/0,a=0/0;return{lineStart:function(){f.lineStart(),b=1},point:function(g,e){var h=g>0?bW:-bW,i=Math.abs(g-d);Math.abs(i-bW)<dW?(f.point(d,c=(c+e)/2>0?bW/2:-bW/2),f.point(a,c),f.lineEnd(),f.lineStart(),f.point(h,c),f.point(g,c),b=0):a!==h&&i>=bW&&(Math.abs(d-a)<dW&&(d-=a*dW),Math.abs(g-h)<dW&&(g-=h*dW),c=c5(d,c,g,e),f.point(a,c),f.lineEnd(),f.lineStart(),f.point(h,c),b=0),f.point(d=g,c=e),a=h},lineEnd:function(){f.lineEnd(),d=c=0/0},clean:function(){return 2-b}}}function c5(j,f,h,g){var d,c,b=Math.sin(j-h);return Math.abs(b)>dW?Math.atan((Math.sin(f)*(c=Math.cos(g))*Math.sin(h)-Math.sin(g)*(d=Math.cos(f))*Math.sin(j))/(d*c*b)):(f+g)/2}function hG(g,c,f,d){var b;if(null==g){b=f*bW/2,d.point(-bW,b),d.point(0,b),d.point(bW,b),d.point(bW,0),d.point(bW,-b),d.point(0,-b),d.point(-bW,-b),d.point(-bW,0),d.point(-bW,b)}else{if(Math.abs(g[0]-c[0])>dW){var a=(g[0]<c[0]?1:-1)*bW;b=f*a/2,d.point(-a,b),d.point(0,b),d.point(a,b)}else{d.point(c[0],c[1])}}}function jB(a){return bL(fR,a)}function g2(g){function v(c,a){return Math.cos(c)*Math.cos(a)>q}function m(w){var r,l,i,t,o;return{lineStart:function(){t=i=!1,o=1},point:function(f,e){var n,u=[f,e],x=v(f,e),a=d?x?0:j(f,e):x?j(f+(0>f?bW:-bW),e):0;if(!r&&(t=i=x)&&w.lineStart(),x!==i&&(n=b(r,u),(e3(r,n)||e3(u,n))&&(u[0]+=dW,u[1]+=dW,x=v(u[0],u[1]))),x!==i){o=0,x?(w.lineStart(),n=b(u,r),w.point(n[0],n[1])):(n=b(r,u),w.point(n[0],n[1]),w.lineEnd()),r=n}else{if(h&&r&&d^x){var c;a&l||!(c=b(u,r,!0))||(o=0,d?(w.lineStart(),w.point(c[0][0],c[0][1]),w.point(c[1][0],c[1][1]),w.lineEnd()):(w.point(c[1][0],c[1][1]),w.lineEnd(),w.lineStart(),w.point(c[0][0],c[0][1])))}}!x||r&&e3(r,u)||w.point(u[0],u[1]),r=u,i=x,l=a},lineEnd:function(){i&&w.lineEnd(),r=null},clean:function(){return o|(t&&i)<<1}}}function b(V,K,ai){var O=b6(V),Z=b6(K),I=[1,0,0],U=cK(O,Z),ao=f5(U,U),X=U[0],ae=ao-X*X;if(!ae){return !ai&&V}var L=q*ao/ae,aa=-q*X/ae,ac=cK(I,U),R=bs(I,L),al=bs(U,aa);ed(R,al);var W=ac,H=f5(R,W),D=f5(W,W),C=H*H-D*(f5(R,R)-1);if(!(0>C)){var F=Math.sqrt(C),ar=bs(W,(-H-F)/D);if(ed(ar,R),ar=a5(ar),!ai){return ar}var at,G=V[0],z=K[0],J=V[1],Y=K[1];G>z&&(at=G,G=z,z=at);var Q=z-G,B=Math.abs(Q-bW)<dW,P=B||dW>Q;if(!B&&J>Y&&(at=J,J=Y,Y=at),P?B?J+Y>0^ar[1]<(Math.abs(ar[0]-G)<dW?J:Y):J<=ar[1]&&ar[1]<=Y:Q>bW^(G<=ar[0]&&ar[0]<=z)){var a=bs(W,(-H+F)/D);return ed(a,R),[ar,a5(a)]}}}function j(c,l){var f=d?g:bW-g,a=0;return -f>c?a|=1:c>f&&(a|=2),-f>l?a|=4:l>f&&(a|=8),a}function s(a){return bL(p,a)}var q=Math.cos(g),d=q>0,p=[g,0],h=Math.abs(q)>dW,k=aO(g,6*h3);return iy(v,m,k,s)}function e7(k,f,h,g){function d(e,a){return Math.abs(e[0]-k)<dW?a>0?0:3:Math.abs(e[0]-h)<dW?a>0?2:1:Math.abs(e[1]-f)<dW?a>0?1:0:a>0?3:2}function c(e,a){return b(e.point,a.point)}function b(m,a){var l=d(m,1),i=d(a,1);return l!==i?l-i:0===l?a[1]-m[1]:1===l?m[0]-a[0]:2===l?m[1]-a[1]:a[0]-m[0]}function j(m,l){var e=l[0]-m[0],n=l[1]-m[1],p=[0,1];return Math.abs(e)<dW&&Math.abs(n)<dW?k<=m[0]&&m[0]<=h&&f<=m[1]&&m[1]<=g:dY(k-m[0],e,p)&&dY(m[0]-h,-e,p)&&dY(f-m[1],n,p)&&dY(m[1]-g,-n,p)?(p[1]<1&&(l[0]=m[0]+p[1]*e,l[1]=m[1]+p[1]*n),p[0]>0&&(m[0]+=p[0]*e,m[1]+=p[0]*n),!0):!1}return function(P){function H(m){var l=d(m,-1),p=L([0===l||3===l?k:h,l>1?g:f]);return p}function L(q){for(var E=0,w=n.length,m=q[1],v=0;w>v;++v){for(var A,y=1,p=n[v],x=p.length,s=p[0];x>y;++y){A=p[y],s[1]<=m?A[1]>m&&B(s,A,q)>0&&++E:A[1]<=m&&B(s,A,q)<0&&--E,s=A}}return 0!==E}function B(p,l,m){return(l[0]-p[0])*(m[1]-p[1])-(m[0]-p[0])*(l[1]-p[1])}function J(p,w,x,m){var v=0,q=0;if(null==p||(v=d(p,x))!==(q=d(w,x))||b(p,w)<0^x>0){do{m.point(0===v||3===v?k:h,v>1?g:f)}while((v=(v+x+4)%4)!==q)}else{m.point(w[0],w[1])}}function K(m,l){return m>=k&&h>=m&&l>=f&&g>=l}function F(m,l){K(m,l)&&P.point(m,l)}function O(){a.point=u,n&&n.push(r=[]),D=!0,I=!1,e=z=0/0}function G(){o&&(u(Q,R),t&&I&&C.rejoin(),o.push(C.buffer())),a.point=F,I&&P.lineEnd()}function u(s,m){s=Math.max(-eU,Math.min(eU,s)),m=Math.max(-eU,Math.min(eU,m));var q=K(s,m);if(n&&r.push([s,m]),D){Q=s,R=m,t=q,D=!1,q&&(P.lineStart(),P.point(s,m))}else{if(q&&I){P.point(s,m)}else{var p=[e,z],l=[s,m];j(p,l)?(I||(P.lineStart(),P.point(p[0],p[1])),P.point(l[0],l[1]),q||P.lineEnd()):q&&(P.lineStart(),P.point(s,m))}}e=s,z=m,I=q}var o,n,r,Q,R,t,e,z,I,D,i=P,C=cO(),a={point:F,lineStart:O,lineEnd:G,polygonStart:function(){P=C,o=[],n=[]},polygonEnd:function(){P=i,(o=a8.merge(o)).length?(P.polygonStart(),cy(o,c,H,J,P),P.polygonEnd()):L([k,f])&&(P.polygonStart(),P.lineStart(),J(null,null,1,P),P.lineEnd(),P.polygonEnd()),o=n=r=null}};return a}}function dY(d,a,c){if(Math.abs(a)<dW){return 0>=d}var b=d/a;if(a>0){if(b>c[1]){return !1}b>c[0]&&(c[0]=b)}else{if(b<c[0]){return !1}b<c[1]&&(c[1]=b)}return !0}function bK(c,a){function b(f,d){return f=c(f,d),a(f[0],f[1])}return c.invert&&a.invert&&(b.invert=function(f,d){return f=a.invert(f,d),f&&c.invert(f[0],f[1])}),b}function gQ(f){var b=0,d=bW/3,c=ej(f),a=c(b,d);return a.parallels=function(e){return arguments.length?c(b=e[0]*bW/180,d=e[1]*bW/180):[180*(b/bW),180*(d/bW)]},a}function cC(j,f){function h(k,a){var i=Math.sqrt(c-2*d*Math.sin(a))/d;return[i*Math.sin(k*=d),b-i*Math.cos(k)]}var g=Math.sin(j),d=(g+Math.sin(f))/2,c=1+g*(2*d-g),b=Math.sqrt(c)/d;return h.invert=function(k,a){var i=b-a;return[Math.atan2(k,i)/d,id((c-(k*k+i*i)*d*d)/(2*d))]},h}function fB(){function f(g,e){dX+=a*g-c*e,c=g,a=e}var b,d,c,a;bP.point=function(g,e){bP.point=f,b=c=g,d=a=e},bP.lineEnd=function(){f(b,d)}}function bq(b,a){iF>b&&(iF=b),b>cR&&(cR=b),dy>a&&(dy=a),a>b3&&(b3=a)}function jh(){function k(e,a){b.push("M",e,",",a,c)}function f(e,a){b.push("M",e,",",a),j.point=h}function h(e,a){b.push("L",e,",",a)}function g(){j.point=k}function d(){b.push("Z")}var c=dz(4.5),b=[],j={point:k,lineStart:function(){j.point=f},lineEnd:g,polygonStart:function(){j.lineEnd=d},polygonEnd:function(){j.lineEnd=g,j.point=k},pointRadius:function(a){return c=dz(a),j},result:function(){if(b.length){var a=b.join("");return b=[],a}}};return j}function dz(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function hR(b,a){f8+=b,cM+=a,++eh}function eF(){function c(h,g){var f=h-a,e=g-b,d=Math.sqrt(f*f+e*e);by+=d*(a+h)/2,iZ+=d*(b+g)/2,a9+=d,hR(a=h,b=g)}var a,b;c8.point=function(e,d){c8.point=c,hR(a=e,b=d)}}function gz(){c8.point=hR}function b5(){function f(k,i){var j=k-c,h=i-a,g=Math.sqrt(j*j+h*h);by+=g*(c+k)/2,iZ+=g*(a+i)/2,a9+=g,g=a*k-c*i,e5+=g*(c+k),gP+=g*(a+i),jg+=3*g,hR(c=k,a=i)}var b,d,c,a;c8.point=function(g,e){c8.point=f,hR(b=c=g,d=a=e)},c8.lineEnd=function(){f(b,d)}}function fS(k){function f(a,i){k.moveTo(a,i),k.arc(a,i,b,0,2*bW)}function h(a,i){k.moveTo(a,i),j.point=g}function g(a,i){k.lineTo(a,i)}function d(){j.point=f}function c(){k.closePath()}var b=4.5,j={point:f,lineStart:function(){j.point=h},lineEnd:d,polygonStart:function(){j.lineEnd=c},polygonEnd:function(){j.lineEnd=d,j.point=f},pointRadius:function(a){return b=a,j},result:hQ};return j}function f9(g){function c(z){function B(i,h){i=g(i,h),z.point(i[0],i[1])}function G(){j=0/0,e.point=O,z.lineStart()}function O(m,l){var h=b6([m,l]),p=g(m,l);f(j,n,k,N,P,q,j=p[0],n=p[1],k=m,N=h[0],P=h[1],q=h[2],a,z),z.point(j,n)}function D(){e.point=B,z.lineEnd()}function L(){G(),e.point=F,e.lineEnd=J}function F(i,h){O(A=i,H=h),I=j,C=n,K=N,E=P,u=q,e.point=O}function J(){f(j,n,k,N,P,q,I,C,A,K,E,u,a,z),e.lineEnd=D,D()}var A,H,I,C,K,E,u,k,j,n,N,P,q,e={point:B,lineStart:G,lineEnd:D,polygonStart:function(){z.polygonStart(),e.lineStart=L},polygonEnd:function(){z.polygonEnd(),e.lineStart=G}};return e}function f(J,H,ai,R,ac,V,Z,K,X,Y,Q,aa,U,G){var B=Z-J,n=K-H,D=B*B+n*n;if(D>4*d&&U--){var ae=R+Y,al=ac+Q,F=V+aa,i=Math.sqrt(ae*ae+al*al+F*F),I=Math.asin(F/=i),W=Math.abs(Math.abs(F)-1)<dW?(ai+X)/2:Math.atan2(al,ae),P=g(W,I),j=P[0],O=P[1],e=j-J,L=O-H,r=n*e-B*L;(r*r/D>d||Math.abs((B*e+n*L)/D-0.5)>0.3||b>R*Y+ac*Q+V*aa)&&(f(J,H,ai,R,ac,V,j,O,W,ae/=i,al/=i,F,U,G),G.point(j,O),f(j,O,W,ae,al,F,Z,K,X,Y,Q,aa,U,G))}}var d=0.5,b=Math.cos(30*h3),a=16;return c.precision=function(e){return arguments.length?(a=(d=e*e)>0&&16,c):Math.sqrt(d)},c}function c9(b){var a=f9(function(c,d){return b([c*af,d*af])});return function(c){return c=a(c),{point:function(d,f){c.point(d*h3,f*h3)},sphere:function(){c.sphere()},lineStart:function(){c.lineStart()},lineEnd:function(){c.lineEnd()},polygonStart:function(){c.polygonStart()},polygonEnd:function(){c.polygonEnd()}}}}function g6(a){return ej(function(){return a})()}function ej(H){function C(a){return a=G(a[0]*h3,a[1]*h3),[a[0]*L+R,J-a[1]*L]}function P(a){return a=G.invert((a[0]-R)/L,(J-a[1])/L),a&&[a[0]*af,a[1]*af]}function E(){G=bK(T=gD(A,k,j),B);var a=B(Q,I);return R=N-a[0]*L,J=F+a[1]*L,K()}function K(){return O&&(O.valid=!1,O=null),C}var B,T,G,R,J,O,D=f9(function(b,a){return b=B(b,a),[b[0]*L+R,J-b[1]*L]}),L=150,N=480,F=250,Q=0,I=0,A=0,k=0,j=0,q=fA,S=bT,U=null,z=null;return C.stream=function(a){return O&&(O.valid=!1),O=a4(T,q(D(S(a)))),O.valid=!0,O},C.clipAngle=function(a){return arguments.length?(q=null==a?(U=a,fA):g2((U=+a)*h3),K()):U},C.clipExtent=function(a){return arguments.length?(z=a,S=null==a?bT:e7(a[0][0],a[0][1],a[1][0],a[1][1]),K()):z},C.scale=function(a){return arguments.length?(L=+a,E()):L},C.translate=function(a){return arguments.length?(N=+a[0],F=+a[1],E()):[N,F]},C.center=function(a){return arguments.length?(Q=a[0]%360*h3,I=a[1]%360*h3,E()):[Q*af,I*af]},C.rotate=function(a){return arguments.length?(A=a[0]%360*h3,k=a[1]%360*h3,j=a.length>2?a[2]%360*h3:0,E()):[A*af,k*af,j*af]},a8.rebind(C,D,"precision"),function(){return B=H.apply(this,arguments),C.invert=B.invert&&P,E()}}function a4(b,a){return{point:function(d,c){c=b(d*h3,c*h3),d=c[0],a.point(d>bW?d-2*bW:-bW>d?d+2*bW:d,c[1])},sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function jA(b,a){return[b,a]}function gD(c,a,b){return c?a||b?bK(iJ(c),aB(a,b)):iJ(c):a||b?aB(a,b):jA}function aq(a){return function(b,c){return b+=a,[b>bW?b-2*bW:-bW>b?b+2*bW:b,c]}}function iJ(b){var a=aq(b);return a.invert=aq(-b),a}function aB(j,f){function h(r,i){var m=Math.cos(i),p=Math.cos(r)*m,q=Math.sin(r)*m,a=Math.sin(i),k=a*g+p*d;return[Math.atan2(q*c-k*b,p*g-a*d),id(k*c+q*b)]}var g=Math.cos(j),d=Math.sin(j),c=Math.cos(f),b=Math.sin(f);return h.invert=function(r,i){var m=Math.cos(i),p=Math.cos(r)*m,q=Math.sin(r)*m,a=Math.sin(i),k=a*c-q*b;return[Math.atan2(q*c+a*b,p*g+k*d),id(k*g-p*d)]},h}function aO(d,a){var c=Math.cos(d),b=Math.sin(d);return function(j,h,g,m){null!=j?(j=eJ(c,j),h=eJ(c,h),(g>0?h>j:j>h)&&(j+=2*g*bW)):(j=d+2*g*bW,h=d);for(var n,e=g*a,k=j;g>0?k>h:h>k;k-=e){m.point((n=a5([c,-b*Math.cos(k),-b*Math.sin(k)]))[0],n[1])}}}function eJ(d,a){var c=b6(a);c[0]-=d,iV(c);var b=h5(-c[1]);return((-c[2]<0?-b:b)+2*Math.PI-dW)%(2*Math.PI)}function aW(d,a,c){var b=a8.range(d,a-dW,c).concat(a);return function(e){return b.map(function(f){return[e,f]})}}function eV(d,a,c){var b=a8.range(d,a-dW,c).concat(a);return function(e){return b.map(function(f){return[f,e]})}}function cm(a){return a.source}function gg(a){return a.target}function cS(k,C,y,b){var q=Math.cos(C),B=Math.sin(C),A=Math.cos(b),j=Math.sin(b),z=q*Math.cos(k),m=q*Math.sin(k),x=A*Math.cos(y),D=A*Math.sin(y),v=2*Math.asin(Math.sqrt(h6(b-C)+q*A*h6(y-k))),w=1/Math.sin(v),d=v?function(o){var g=Math.sin(o*=v)*w,l=Math.sin(v-o)*w,h=l*z+g*x,f=l*m+g*D,c=l*B+g*j;return[Math.atan2(f,h)*af,Math.atan2(c,Math.sqrt(h*h+f*f))*af]}:function(){return[k*af,C*af]};return d.distance=v,d}function ep(){function d(k,g){var f=Math.sin(g*=h3),e=Math.cos(g),h=Math.abs((k*=h3)-a),j=Math.cos(h);hN+=Math.atan2(Math.sqrt((h=e*Math.sin(h))*h+(h=b*f-c*e*j)*h),c*f+b*e*j),a=k,c=f,b=e}var a,c,b;jF.point=function(f,e){a=f*h3,c=Math.sin(e*=h3),b=Math.cos(e),jF.point=d},jF.lineEnd=function(){jF.point=jF.lineEnd=hQ}}function bB(c,a){function b(g,j){var h=Math.cos(g),f=Math.cos(j),d=c(h*f);return[d*f*Math.sin(g),d*Math.sin(j)]}return b.invert=function(k,j){var h=Math.sqrt(k*k+j*j),g=a(h),f=Math.sin(g),d=Math.cos(g);return[Math.atan2(k*f,h*d),Math.asin(h&&j*f/h)]},b}function i6(j,f){function h(k,a){var i=Math.abs(Math.abs(a)-bW/2)<dW?0:b/Math.pow(d(a),c);return[i*Math.sin(c*k),b-i*Math.cos(c*k)]}var g=Math.cos(j),d=function(a){return Math.tan(bW/4+a/2)},c=j===f?Math.sin(j):Math.log(g/Math.cos(f))/Math.log(d(f)/d(j)),b=g*Math.pow(d(j),c)/c;return c?(h.invert=function(l,a){var k=b-a,i=ik(c)*Math.sqrt(l*l+k*k);return[Math.atan2(l,k)/c,2*Math.atan(Math.pow(b/i,1/c))-bW/2]},h):fd}function bf(g,c){function f(j,h){var i=a-h;return[i*Math.sin(b*j),a-i*Math.cos(b*j)]}var d=Math.cos(g),b=g===c?Math.sin(g):(d-Math.cos(c))/(c-g),a=d/b+g;return Math.abs(b)<dW?jA:(f.invert=function(j,h){var i=a-h;return[Math.atan2(j,i)/b,a-ik(b)*Math.sqrt(j*j+i*i)]},f)}function fd(b,a){return[b,Math.log(Math.tan(bW/4+a/2))]}function gU(g){var c,f=g6(g),d=f.scale,b=f.translate,a=f.clipExtent;return f.scale=function(){var e=d.apply(f,arguments);return e===f?c?f.clipExtent(null):f:e},f.translate=function(){var e=b.apply(f,arguments);return e===f?c?f.clipExtent(null):f:e},f.clipExtent=function(j){var e=a.apply(f,arguments);if(e===f){if(c=null==j){var h=bW*d(),i=b();a([[i[0]-h,i[1]-h],[i[0]+h,i[1]+h]])}}else{c&&(e=null)}return e},f.clipExtent(null)}function jp(c,a){var b=Math.cos(a)*Math.sin(c);return[Math.log((1+b)/(1-b))/2,Math.atan2(Math.tan(a),Math.cos(c))]}function aG(k){function f(u){function r(){i.push("M",c(k(o),j))}for(var q,i=[],o=[],v=-1,m=u.length,n=gm(h),e=gm(g);++v<m;){d.call(this,q=u[v],v)?o.push([+n.call(this,q,v),+e.call(this,q,v)]):o.length&&(r(),o=[])}return o.length&&r(),i.length?i.join(""):null}var h=fF,g=fW,d=eR,c=eZ,b=c.key,j=0.7;return f.x=function(a){return arguments.length?(h=a,f):h},f.y=function(a){return arguments.length?(g=a,f):g},f.defined=function(a){return arguments.length?(d=a,f):d},f.interpolate=function(a){return arguments.length?(b="function"==typeof a?c=a:(c=cD.get(a)||eZ).key,f):b},f.tension=function(a){return arguments.length?(j=a,f):j},f}function fF(a){return a[0]}function fW(a){return a[1]}function eZ(a){return a.join("L")}function cG(a){return eZ(a)+"Z"}function d2(f){for(var b=0,d=f.length,c=f[0],a=[c[0],",",c[1]];++b<d;){a.push("H",(c[0]+(c=f[b])[0])/2,"V",c[1])}return d>1&&a.push("H",c[0]),a.join("")}function iU(f){for(var b=0,d=f.length,c=f[0],a=[c[0],",",c[1]];++b<d;){a.push("V",(c=f[b])[1],"H",c[0])}return a.join("")}function dE(f){for(var b=0,d=f.length,c=f[0],a=[c[0],",",c[1]];++b<d;){a.push("H",(c=f[b])[0],"V",c[1])}return a.join("")}function cW(b,a){return b.length<4?eZ(b):b[1]+dR(b.slice(1,b.length-1),dg(b,a))}function cf(b,a){return b.length<3?eZ(b):b[0]+dR((b.push(b[0]),b),dg([b[b.length-2]].concat(b,[b[1]]),a))}function bS(b,a){return b.length<3?eZ(b):b[0]+dR(b,dg(b,a))}function dR(g,v){if(v.length<1||g.length!=v.length&&g.length!=v.length+2){return eZ(g)}var m=g.length!=v.length,b="",j=g[0],s=g[1],q=v[0],d=q,p=1;if(m&&(b+="Q"+(s[0]-2*q[0]/3)+","+(s[1]-2*q[1]/3)+","+s[0]+","+s[1],j=g[1],p=2),v.length>1){d=v[1],s=g[p],p++,b+="C"+(j[0]+q[0])+","+(j[1]+q[1])+","+(s[0]-d[0])+","+(s[1]-d[1])+","+s[0]+","+s[1];for(var h=2;h<v.length;h++,p++){s=g[p],d=v[h],b+="S"+(s[0]-d[0])+","+(s[1]-d[1])+","+s[0]+","+s[1]}}if(m){var k=g[p];b+="Q"+(s[0]+2*d[0]/3)+","+(s[1]+2*d[1]/3)+","+k[0]+","+k[1]}return b}function dg(f,m){for(var h,b=[],g=(1-m)/2,l=f[0],k=f[1],d=1,j=f.length;++d<j;){h=l,l=k,k=f[d],b.push([g*(k[0]-h[0]),g*(k[1]-h[1])])}return b}function h1(f){if(f.length<3){return eZ(f)}var m=1,h=f.length,b=f[0],g=b[0],l=b[1],k=[g,g,g,(b=f[1])[0]],d=[l,l,l,b[1]],j=[g,",",l];for(bE(j,k,d);++m<h;){b=f[m],k.shift(),k.push(b[0]),d.shift(),d.push(b[1]),bE(j,k,d)}for(m=-1;++m<2;){k.shift(),k.push(b[0]),d.shift(),d.push(b[1]),bE(j,k,d)}return j.join("")}function jI(j){if(j.length<4){return eZ(j)}for(var f,h=[],g=-1,d=j.length,c=[0],b=[0];++g<3;){f=j[g],c.push(f[0]),b.push(f[1])}for(h.push(dM(jj,c)+","+dM(jj,b)),--g;++g<d;){f=j[g],c.shift(),c.push(f[0]),b.shift(),b.push(f[1]),bE(h,c,b)}return h.join("")}function hb(k){for(var f,h,g=-1,d=k.length,c=d+4,b=[],j=[];++g<4;){h=k[g%d],b.push(h[0]),j.push(h[1])}for(f=[dM(jj,b),",",dM(jj,j)],--g;++g<c;){h=k[g%d],b.shift(),b.push(h[0]),j.shift(),j.push(h[1]),bE(f,b,j)}return f.join("")}function fj(f,q){var j=f.length-1;if(j){for(var b,h,p=f[0][0],m=f[0][1],d=f[j][0]-p,k=f[j][1]-m,g=-1;++g<=j;){b=f[g],h=g/j,b[0]=q*b[0]+(1-q)*(p+h*d),b[1]=q*b[1]+(1-q)*(m+h*k)}}return h1(f)}function dM(b,a){return b[0]*a[0]+b[1]*a[1]+b[2]*a[2]+b[3]*a[3]}function bE(c,a,b){c.push("C",dM(fC,a),",",dM(fC,b),",",dM(bv,a),",",dM(bv,b),",",dM(jj,a),",",dM(jj,b))}function gI(b,a){return(a[1]-b[1])/(a[0]-b[0])}function cq(j){for(var f=0,h=j.length-1,g=[],d=j[0],c=j[1],b=g[0]=gI(d,c);++f<h;){g[f]=(b+(b=gI(d=c,c=j[f+1])))/2}return g[f]=b,g}function fq(f){for(var m,h,b,g,l=[],k=cq(f),d=-1,j=f.length-1;++d<j;){m=gI(f[d],f[d+1]),Math.abs(m)<0.000001?k[d]=k[d+1]=0:(h=k[d]/m,b=k[d+1]/m,g=h*h+b*b,g>9&&(g=3*m/Math.sqrt(g),k[d]=g*h,k[d+1]=g*b))}for(d=-1;++d<=j;){g=(f[Math.min(j,d+1)][0]-f[Math.max(0,d-1)][0])/(6*(1+k[d]*k[d])),l.push([g||0,k[d]*g||0])}return l}function bj(a){return a.length<3?eZ(a):a[0]+dR(a,fq(a))}function i2(g,v,m,b){var j,s,q,d,p,h,k;return j=b[g],s=j[0],q=j[1],j=b[v],d=j[0],p=j[1],j=b[m],h=j[0],k=j[1],(k-q)*(d-s)-(p-q)*(h-s)>0}function dn(c,a,b){return(b[0]-a[0])*(c[1]-a[1])<(b[1]-a[1])*(c[0]-a[0])}function hw(g,y,q,b){var k=g[0],x=q[0],w=y[0]-k,d=b[0]-x,v=g[1],j=q[1],p=y[1]-v,z=b[1]-j,m=(d*(v-j)-z*(k-x))/(z*w-d*p);return[k+m*w,v+m*p]}function ex(C,w){var J={list:C.map(function(c,a){return{index:a,x:c[0],y:c[1]}}).sort(function(c,a){return c.y<a.y?-1:c.y>a.y?1:c.x<a.x?-1:c.x>a.x?1:0}),bottomSite:null},z={list:[],leftEnd:null,rightEnd:null,init:function(){z.leftEnd=z.createHalfEdge(null,"l"),z.rightEnd=z.createHalfEdge(null,"l"),z.leftEnd.r=z.rightEnd,z.rightEnd.l=z.leftEnd,z.list.unshift(z.leftEnd,z.rightEnd)},createHalfEdge:function(c,a){return{edge:c,side:a,vertex:null,l:null,r:null}},insert:function(c,a){a.l=c,a.r=c.r,c.r.l=a,c.r=a},leftBound:function(c){var a=z.leftEnd;do{a=a.r}while(a!=z.rightEnd&&F.rightOf(a,c));return a=a.l},del:function(a){a.l.r=a.r,a.r.l=a.l,a.edge=null},right:function(a){return a.r},left:function(a){return a.l},leftRegion:function(a){return null==a.edge?J.bottomSite:a.edge.region[a.side]},rightRegion:function(a){return null==a.edge?J.bottomSite:a.edge.region[dA[a.side]]}},F={bisect:function(m,g){var l={region:{l:m,r:g},ep:{l:null,r:null}},h=g.x-m.x,f=g.y-m.y,d=h>0?h:-h,c=f>0?f:-f;return l.c=m.x*h+m.y*f+0.5*(h*h+f*f),d>c?(l.a=1,l.b=f/h,l.c/=h):(l.b=1,l.a=h/f,l.c/=f),l},intersect:function(h,Q){var y=h.edge,d=Q.edge;if(!y||!d||y.region.r==d.region.r){return null}var p=y.a*d.b-y.b*d.a;if(Math.abs(p)<1e-10){return null}var P,O,g=(y.c*d.b-d.c*y.b)/p,M=(d.c*y.a-y.c*d.a)/p,m=y.region.r,v=d.region.r;m.y<v.y||m.y==v.y&&m.x<v.x?(P=h,O=y):(P=Q,O=d);var R=g>=O.region.r.x;return R&&"l"===P.side||!R&&"r"===P.side?null:{x:g,y:M}},rightOf:function(p,U){var Q=p.edge,d=Q.region.r,y=U.x>d.x;if(y&&"l"===p.side){return 1}if(!y&&"r"===p.side){return 0}if(1===Q.a){var T=U.y-d.y,S=U.x-d.x,m=0,R=0;if(!y&&Q.b<0||y&&Q.b>=0?R=m=T>=Q.b*S:(R=U.x+U.y*Q.b>Q.c,Q.b<0&&(R=!R),R||(m=1)),!m){var v=d.x-Q.region.l.x;R=Q.b*(S*S-T*T)<v*T*(1+2*S/v+Q.b*Q.b),Q.b<0&&(R=!R)}}else{var P=Q.c-Q.a*U.x,V=U.y-P,M=U.x-d.x,O=P-d.y;R=V*V>M*M+O*O}return"l"===p.side?R:!R},endPoint:function(d,c,a){d.ep[c]=a,d.ep[dA[c]]&&w(d)},distance:function(f,a){var d=f.x-a.x,c=f.y-a.y;return Math.sqrt(d*d+c*c)}},q={list:[],insert:function(m,f,h){m.vertex=f,m.ystar=f.y+h;for(var g=0,d=q.list,c=d.length;c>g;g++){var l=d[g];if(!(m.ystar>l.ystar||m.ystar==l.ystar&&f.x>l.vertex.x)){break}}d.splice(g,0,m)},del:function(f){for(var a=0,d=q.list,c=d.length;c>a&&d[a]!=f;++a){}d.splice(a,1)},empty:function(){return 0===q.list.length},nextEvent:function(f){for(var a=0,d=q.list,c=d.length;c>a;++a){if(d[a]==f){return d[a+1]}}return null},min:function(){var a=q.list[0];return{x:a.vertex.x,y:a.ystar}},extractMin:function(){return q.list.shift()}};z.init(),J.bottomSite=J.list.shift();for(var N,B,L,E,I,x,G,H,A,K,D,k,j,b=J.list.shift();;){if(q.empty()||(N=q.min()),b&&(q.empty()||b.y<N.y||b.y==N.y&&b.x<N.x)){B=z.leftBound(b),L=z.right(B),G=z.rightRegion(B),k=F.bisect(G,b),x=z.createHalfEdge(k,"l"),z.insert(B,x),K=F.intersect(B,x),K&&(q.del(B),q.insert(B,K,F.distance(K,b))),B=x,x=z.createHalfEdge(k,"r"),z.insert(B,x),K=F.intersect(x,L),K&&q.insert(x,K,F.distance(K,b)),b=J.list.shift()}else{if(q.empty()){break}B=q.extractMin(),E=z.left(B),L=z.right(B),I=z.right(L),G=z.leftRegion(B),H=z.rightRegion(L),D=B.vertex,F.endPoint(B.edge,B.side,D),F.endPoint(L.edge,L.side,D),z.del(B),q.del(L),z.del(L),j="l",G.y>H.y&&(A=G,G=H,H=A,j="r"),k=F.bisect(G,H),x=z.createHalfEdge(k,j),z.insert(E,x),F.endPoint(k,dA[j],D),K=F.intersect(E,x),K&&(q.del(E),q.insert(E,K,F.distance(K,G))),K=F.intersect(x,I),K&&q.insert(x,K,F.distance(K,G))}}for(B=z.right(z.leftEnd);B!=z.rightEnd;B=z.right(B)){w(B.edge)}}function gn(a){return a.x}function bV(a){return a.y}function fK(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function f1(f,m,h,b,g,l){if(!f(m,h,b,g,l)){var k=0.5*(h+g),d=0.5*(b+l),j=m.nodes;j[0]&&f1(f,j[0],h,b,k,d),j[1]&&f1(f,j[1],k,b,g,d),j[2]&&f1(f,j[2],h,d,k,l),j[3]&&f1(f,j[3],k,d,g,l)}}function c1(k,f){k=a8.rgb(k),f=a8.rgb(f);var h=k.r,g=k.g,d=k.b,c=f.r-h,b=f.g-g,j=f.b-d;return function(a){return"#"+fp(Math.round(h+c*a))+fp(Math.round(g+b*a))+fp(Math.round(d+j*a))}}function gZ(g){var c=[g.a,g.b],f=[g.c,g.d],d=aZ(c),b=d8(c,f),a=aZ(jv(f,c,-b))||0;c[0]*f[1]<f[0]*c[1]&&(c[0]*=-1,c[1]*=-1,d*=-1,b*=-1),this.rotate=(d?Math.atan2(c[1],c[0]):Math.atan2(-f[0],f[1]))*af,this.translate=[g.e,g.f],this.scale=[d,a],this.skew=a?Math.atan2(b,a)*af:0}function d8(b,a){return b[0]*a[0]+b[1]*a[1]}function aZ(b){var a=Math.sqrt(d8(b,b));return a&&(b[0]/=a,b[1]/=a),a}function jv(c,a,b){return c[0]+=b*a[0],c[1]+=b*a[1],c}function gw(b,a){return a-=b=+b,function(c){return b+a*c}}function ad(k,C){var y,b=[],q=[],B=a8.transform(k),A=a8.transform(C),j=B.translate,z=A.translate,m=B.rotate,x=A.rotate,D=B.skew,v=A.skew,w=B.scale,d=A.scale;return j[0]!=z[0]||j[1]!=z[1]?(b.push("translate(",null,",",null,")"),q.push({i:1,x:gw(j[0],z[0])},{i:3,x:gw(j[1],z[1])})):z[0]||z[1]?b.push("translate("+z+")"):b.push(""),m!=x?(m-x>180?x+=360:x-m>180&&(m+=360),q.push({i:b.push(b.pop()+"rotate(",null,")")-2,x:gw(m,x)})):x&&b.push(b.pop()+"rotate("+x+")"),D!=v?q.push({i:b.push(b.pop()+"skewX(",null,")")-2,x:gw(D,v)}):v&&b.push(b.pop()+"skewX("+v+")"),w[0]!=d[0]||w[1]!=d[1]?(y=b.push(b.pop()+"scale(",null,",",null,")"),q.push({i:y-4,x:gw(w[0],d[0])},{i:y-2,x:gw(w[1],d[1])})):(1!=d[0]||1!=d[1])&&b.push(b.pop()+"scale("+d+")"),y=q.length,function(e){for(var c,a=-1;++a<y;){b[(c=q[a]).i]=c.x(e)}return b.join("")}}function ih(f,b){var d,c={},a={};for(d in f){d in b?c[d]=eC(d)(f[d],b[d]):a[d]=f[d]}for(d in b){d in f||(a[d]=b[d])}return function(e){for(d in c){a[d]=c[d](e)}return a}}function ak(g,v){var m,b,j,s,q,d=0,p=0,h=[],k=[];for(g+="",v+="",eG.lastIndex=0,b=0;m=eG.exec(v);++b){m.index&&h.push(v.substring(d,p=m.index)),k.push({i:h.length,x:m[0]}),h.push(null),d=eG.lastIndex}for(d<v.length&&h.push(v.substring(d)),b=0,s=k.length;(m=eG.exec(g))&&s>b;++b){if(q=k[b],q.x==m[0]){if(q.i){if(null==h[q.i+1]){for(h[q.i-1]+=q.x,h.splice(q.i,1),j=b+1;s>j;++j){k[j].i--}}else{for(h[q.i-1]+=q.x+h[q.i+1],h.splice(q.i,2),j=b+1;s>j;++j){k[j].i-=2}}}else{if(null==h[q.i+1]){h[q.i]=q.x}else{for(h[q.i]=q.x+h[q.i+1],h.splice(q.i+1,1),j=b+1;s>j;++j){k[j].i--}}}k.splice(b,1),s--,b--}else{q.x=gw(parseFloat(m[0]),parseFloat(q.x))}}for(;s>b;){q=k.pop(),null==h[q.i+1]?h[q.i]=q.x:(h[q.i]=q.x+h[q.i+1],h.splice(q.i+1,1)),s--}return 1===h.length?null==h[0]?(q=k[0].x,function(a){return q(a)+""}):function(){return v}:function(a){for(b=0;s>b;++b){h[(q=k[b]).i]=q.x(a)}return h.join("")}}function aJ(d,a){for(var c,b=a8.interpolators.length;--b>=0&&!(c=a8.interpolators[b](d,a));){}return c}function eC(a){return"transform"==a?ad:aJ}function aR(k,f){var h,g=[],d=[],c=k.length,b=f.length,j=Math.min(k.length,f.length);for(h=0;j>h;++h){g.push(aJ(k[h],f[h]))}for(;c>h;++h){d[h]=k[h]}for(;b>h;++h){d[h]=f[h]}return function(a){for(h=0;j>h;++h){d[h]=g[h](a)}return d}}function eO(a){return function(b){return 0>=b?0:b>=1?1:a(b)}}function b8(a){return function(b){return 1-a(1-b)}}function f6(a){return function(b){return 0.5*(0.5>b?a(2*b):2-a(2-2*b))}}function cL(a){return a*a}function ef(a){return a*a*a}function bw(c){if(0>=c){return 0}if(c>=1){return 1}var a=c*c,b=a*c;return 4*(0.5>c?b:3*(c-a)+b-0.75)}function iX(a){return function(b){return Math.pow(b,a)}}function a7(a){return 1-Math.cos(a*bW/2)}function e4(a){return Math.pow(2,10*(a-1))}function gN(a){return 1-Math.sqrt(1-a*a)}function jb(c,a){var b;return arguments.length<2&&(a=0.45),arguments.length?b=a/(2*bW)*Math.asin(1/c):(c=1,b=a/4),function(d){return 1+c*Math.pow(2,10*-d)*Math.sin(2*(d-b)*bW/a)}}function ax(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}}function fy(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+0.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}function fP(k,f){k=a8.hcl(k),f=a8.hcl(f);var h=k.h,g=k.c,d=k.l,c=f.h-h,b=f.c-g,j=f.l-d;return isNaN(b)&&(b=0,g=isNaN(g)?f.c:g),isNaN(c)?(c=0,h=isNaN(h)?f.h:h):c>180?c-=360:-180>c&&(c+=360),function(a){return jl(h+c*a,g+b*a,d+j*a)+""}}function eS(k,f){k=a8.hsl(k),f=a8.hsl(f);var h=k.h,g=k.s,d=k.l,c=f.h-h,b=f.s-g,j=f.l-d;return isNaN(b)&&(b=0,g=isNaN(g)?f.s:g),isNaN(c)?(c=0,h=isNaN(h)?f.h:h):c>180?c-=360:-180>c&&(c+=360),function(a){return iw(h+c*a,g+b*a,d+j*a)+""}}function cz(k,f){k=a8.lab(k),f=a8.lab(f);var h=k.l,g=k.a,d=k.b,c=f.l-h,b=f.a-g,j=f.b-d;return function(a){return iI(h+c*a,g+b*a,d+j*a)+""}}function dU(b,a){return a-=b,function(c){return Math.round(b+a*c)}}function iB(b,a){return a=a-(b=+b)?1/(a-b):0,function(c){return(c-b)*a}}function dw(b,a){return a=a-(b=+b)?1/(a-b):0,function(c){return Math.max(0,Math.min(1,(c-b)*a))}}function cP(g){for(var c=g.source,f=g.target,d=bN(c,f),b=[c];c!==d;){c=c.parent,b.push(c)}for(var a=b.length;f!==d;){b.splice(a,0,f),f=f.parent}return b}function b1(c){for(var a=[],b=c.parent;null!=b;){a.push(c),c=b,b=b.parent}return a.push(c),a}function bN(j,f){if(j===f){return j}for(var h=b1(j),g=b1(f),d=h.pop(),c=g.pop(),b=null;d===c;){b=d,d=h.pop(),c=g.pop()}return b}function dH(a){a.fixed|=2}function c6(a){a.fixed&=-7}function hJ(a){a.fixed|=4,a.px=a.x,a.py=a.y}function jD(a){a.fixed&=-5}function g3(f,q,j){var b=0,h=0;if(f.charge=0,!f.leaf){for(var p,m=f.nodes,d=m.length,k=-1;++k<d;){p=m[k],null!=p&&(g3(p,q,j),f.charge+=p.charge,b+=p.charge*p.cx,h+=p.charge*p.cy)}}if(f.point){f.leaf||(f.point.x+=Math.random()-0.5,f.point.y+=Math.random()-0.5);var g=q*j[f.point.index];f.charge+=f.pointCharge=g,b+=g*f.point.x,h+=g*f.point.y}f.cx=b/f.charge,f.cy=h/f.charge}function e8(b,a){return a8.rebind(b,a,"sort","children","value"),b.nodes=b,b.links=cA,b}function dV(a){return a.children}function bI(a){return a.value}function gO(b,a){return a.value-b.value}function cA(a){return a8.merge(a.map(function(b){return(b.children||[]).map(function(c){return{source:b,target:c}})}))}function fz(a){return a.x}function bn(a){return a.y}function jf(c,a,b){c.y0=a,c.y=b}function dx(a){return a8.range(a.length)}function hL(d){for(var a=-1,c=d[0].length,b=[];++a<c;){b[a]=0}return b}function eD(g){for(var c,f=1,d=0,b=g[0][1],a=g.length;a>f;++f){(c=g[f][1])>b&&(d=f,b=c)}return d}function gx(a){return a.reduce(b2,0)}function b2(b,a){return b+a[1]}function fQ(b,a){return f7(b,Math.ceil(Math.log(a.length)/Math.LN2+1))}function f7(g,c){for(var f=-1,d=+g[0],b=(g[1]-d)/c,a=[];++f<=c;){a[f]=b*f+d}return a}function c7(a){return[a8.min(a),a8.max(a)]}function g4(b,a){return b.parent==a.parent?1:2}function eg(b){var a=b.children;return a&&a.length?a[0]:b._tree.thread}function a2(c){var a,b=c.children;return b&&(a=b.length)?b[a-1]:c._tree.thread}function jy(g,c){var f=g.children;if(f&&(b=f.length)){for(var d,b,a=-1;++a<b;){c(d=jy(f[a],c),g)>0&&(g=d)}}return g}function gC(b,a){return b.x-a.x}function am(b,a){return a.x-b.x}function iD(b,a){return b.depth-a.depth}function az(c,a){function b(k,g){var f=k.children;if(f&&(d=f.length)){for(var e,d,h=null,j=-1;++j<d;){e=f[j],b(e,h),h=e}}a(k,g)}b(c,null)}function aM(g){for(var c,f=0,d=0,b=g.children,a=b.length;--a>=0;){c=b[a]._tree,c.prelim+=f,c.mod+=f,f+=c.shift+(d+=c.change)}}function eI(d,a,c){d=d._tree,a=a._tree;var b=c/(a.number-d.number);d.change+=b,a.change-=b,a.shift+=c,a.prelim+=c,a.mod+=c}function aU(c,a,b){return c._tree.ancestor.parent==a.parent?c._tree.ancestor:b}function eT(b,a){return b.value-a.value}function cj(c,a){var b=c._pack_next;c._pack_next=a,a._pack_prev=c,a._pack_next=b,b._pack_prev=a}function gf(b,a){b._pack_next=a,a._pack_prev=b}function cQ(f,b){var d=b.x-f.x,c=b.y-f.y,a=f.r+b.r;return 0.999*a*a>d*d+c*c}function en(C){function w(a){I=Math.min(a.x-a.r,I),x=Math.max(a.x+a.r,x),G=Math.min(a.y-a.r,G),H=Math.max(a.y+a.r,H)}if((J=C.children)&&(E=J.length)){var J,z,F,q,N,B,L,E,I=1/0,x=-1/0,G=1/0,H=-1/0;if(J.forEach(bz),z=J[0],z.x=-z.r,z.y=0,w(z),E>1&&(F=J[1],F.x=F.r,F.y=0,w(F),E>2)){for(q=J[2],e9(z,F,q),w(q),cj(z,q),z._pack_prev=q,cj(q,F),F=z._pack_next,N=3;E>N;N++){e9(z,F,q=J[N]);var A=0,K=1,D=1;for(B=F._pack_next;B!==F;B=B._pack_next,K++){if(cQ(B,q)){A=1;break}}if(1==A){for(L=z._pack_prev;L!==B._pack_prev&&!cQ(L,q);L=L._pack_prev,D++){}}A?(D>K||K==D&&F.r<z.r?gf(z,F=B):gf(z=L,F),N--):(cj(z,q),F=q,w(q))}}var k=(I+x)/2,j=(G+H)/2,b=0;for(N=0;E>N;N++){q=J[N],q.x-=k,q.y-=j,b=Math.max(b,q.r+Math.sqrt(q.x*q.x+q.y*q.y))}C.r=b,J.forEach(i3)}}function bz(a){a._pack_next=a._pack_prev=a}function i3(a){delete a._pack_next,delete a._pack_prev}function bb(j,f,h,g){var d=j.children;if(j.x=f+=g*j.x,j.y=h+=g*j.y,j.r*=g,d){for(var c=-1,b=d.length;++c<b;){bb(d[c],f,h,g)}}}function e9(f,q,j){var b=f.r+j.r,h=q.x-f.x,p=q.y-f.y;if(b&&(h||p)){var m=q.r+j.r,d=h*h+p*p;m*=m,b*=b;var k=0.5+(b-m)/(2*d),g=Math.sqrt(Math.max(0,2*m*(b+d)-(b-=d)*b-m*m))/(2*d);j.x=f.x+k*h+g*p,j.y=f.y+k*p-g*h}else{j.x=f.x+b,j.y=f.y}}function gT(a){return 1+a8.max(a,function(b){return b.y})}function jm(a){return a.reduce(function(c,b){return c+b.x},0)/a.length}function aE(b){var a=b.children;return a&&a.length?aE(a[0]):b}function fE(c){var a,b=c.children;return b&&(a=b.length)?fE(b[a-1]):c}function fV(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function eY(g,c){var f=g.x+c[3],d=g.y+c[0],b=g.dx-c[1]-c[3],a=g.dy-c[0]-c[2];return 0>b&&(f+=b/2,b=0),0>a&&(d+=a/2,a=0),{x:f,y:d,dx:b,dy:a}}function cF(c){var a=c[0],b=c[c.length-1];return b>a?[a,b]:[b,a]}function d1(a){return a.rangeExtent?a.rangeExtent():cF(a.range())}function iQ(g,c,f,d){var b=f(g[0],g[1]),a=d(c[0],c[1]);return function(e){return a(b(e))}}function dC(j,f){var h,g=0,d=j.length-1,c=j[g],b=j[d];return c>b&&(h=g,g=d,d=h,h=c,c=b,b=h),j[g]=f.floor(c),j[d]=f.ceil(b),j}function cV(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:jC}function cb(k,f,h,g){var d=[],c=[],b=0,j=Math.min(k.length,f.length)-1;for(k[j]<k[0]&&(k=k.slice().reverse(),f=f.slice().reverse());++b<=j;){d.push(h(k[b-1],k[b])),c.push(g(f[b-1],f[b]))}return function(a){var i=a8.bisect(k,a,1,j)-1;return c[i](d[i](a))}}function bQ(k,f,h,g){function d(){var a=Math.min(k.length,f.length)>2?cb:iQ,e=g?dw:iB;return b=a(k,f,e,h),j=a(f,k,e,aJ),c}function c(a){return b(a)}var b,j;return c.invert=function(a){return j(a)},c.domain=function(a){return arguments.length?(k=a.map(Number),d()):k},c.range=function(a){return arguments.length?(f=a,d()):f},c.rangeRound=function(a){return c.range(a).interpolate(dU)},c.clamp=function(a){return arguments.length?(g=a,d()):g},c.interpolate=function(a){return arguments.length?(h=a,d()):h},c.ticks=function(a){return g9(k,a)},c.tickFormat=function(a,i){return fh(k,a,i)},c.nice=function(a){return df(k,a),d()},c.copy=function(){return bQ(k,f,h,g)},d()}function dN(b,a){return a8.rebind(b,a,"range","rangeRound","interpolate","clamp")}function df(b,a){return dC(b,cV(a?jG(b,a)[2]:hY(b)))}function hY(c){var a=cF(c),b=a[1]-a[0];return Math.pow(10,Math.round(Math.log(b)/Math.LN10)-1)}function jG(g,c){var f=cF(g),d=f[1]-f[0],b=Math.pow(10,Math.floor(Math.log(d/c)/Math.LN10)),a=c/d*b;return 0.15>=a?b*=10:0.35>=a?b*=5:0.75>=a&&(b*=2),f[0]=Math.ceil(f[0]/b)*b,f[1]=Math.floor(f[1]/b)*b+0.5*b,f[2]=b,f}function g9(b,a){return a8.range.apply(a8,jG(b,a))}function fh(d,a,c){var b=-Math.floor(Math.log(jG(d,a)[2])/Math.LN10+0.01);return a8.format(c?c.replace(d9,function(h,v,p,k,s,r,g,q,j,m){return[v,p,k,s,r,g,q,j||"."+(b-2*("%"===m)),m].join("")}):",."+b+"f")}function dK(g,c,f,d,b){function a(e){return g(f(e))}return a.invert=function(e){return d(g.invert(e))},a.domain=function(e){return arguments.length?(e[0]<0?(f=ck,d=fn):(f=bA,d=gG),g.domain((b=e.map(Number)).map(f)),a):b},a.base=function(e){return arguments.length?(c=+e,a):c},a.nice=function(){function h(i){return Math.pow(c,Math.floor(Math.log(i)/Math.log(c)))}function e(i){return Math.pow(c,Math.ceil(Math.log(i)/Math.log(c)))}return g.domain(dC(b,f===bA?{floor:h,ceil:e}:{floor:function(i){return -e(-i)},ceil:function(i){return -h(-i)}}).map(f)),a},a.ticks=function(){var k=cF(g.domain()),r=[];if(k.every(isFinite)){var q=Math.log(c),e=Math.floor(k[0]/q),p=Math.ceil(k[1]/q),j=d(k[0]),n=d(k[1]),t=c%1?2:c;if(f===ck){for(r.push(-Math.pow(c,-e));e++<p;){for(var m=t-1;m>0;m--){r.push(-Math.pow(c,-e)*m)}}}else{for(;p>e;e++){for(var m=1;t>m;m++){r.push(Math.pow(c,e)*m)}}r.push(Math.pow(c,e))}for(e=0;r[e]<j;e++){}for(p=r.length;r[p-1]>n;p--){}r=r.slice(e,p)}return r},a.tickFormat=function(p,j){if(!arguments.length){return gE}arguments.length<2?j=gE:"function"!=typeof j&&(j=a8.format(j));var h,k=Math.log(c),m=Math.max(0.1,p/a.ticks().length),e=f===ck?(h=-1e-12,Math.floor):(h=1e-12,Math.ceil);return function(i){return i/d(k*e(f(i)/k+h))<=m?j(i):""}},a.copy=function(){return dK(g.copy(),c,f,d,b)},dN(a,g)}function bA(a){return Math.log(0>a?0:a)}function gG(a){return Math.exp(a)}function ck(a){return -Math.log(a>0?0:-a)}function fn(a){return -Math.exp(-a)}function bd(g,c,f){function d(e){return g(b(e))}var b=i0(c),a=i0(1/c);return d.invert=function(e){return a(g.invert(e))},d.domain=function(e){return arguments.length?(g.domain((f=e.map(Number)).map(b)),d):f},d.ticks=function(e){return g9(f,e)},d.tickFormat=function(h,e){return fh(f,h,e)},d.nice=function(e){return d.domain(df(f,e))},d.exponent=function(e){return arguments.length?(b=i0(c=e),a=i0(1/c),g.domain(f.map(b)),d):c},d.copy=function(){return bd(g.copy(),c,f)},dN(d,g)}function i0(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function dk(i,d){function g(a){return b[((c.get(a)||c.set(a,i.push(a)))-1)%b.length]}function f(a,j){return a8.range(i.length).map(function(e){return a+j*e})}var c,b,h;return g.domain=function(j){if(!arguments.length){return i}i=[],c=new hM;for(var e,k=-1,l=j.length;++k<l;){c.has(e=j[k])||c.set(e,i.push(e))}return g[d.t].apply(g,d.a)},g.range=function(a){return arguments.length?(b=a,h=0,d={t:"range",a:arguments},g):b},g.rangePoints=function(j,e){arguments.length<2&&(e=0);var m=j[0],a=j[1],k=(a-m)/(Math.max(1,i.length-1)+e);return b=f(i.length<2?(m+a)/2:m+k*e/2,k),h=0,d={t:"rangePoints",a:arguments},g},g.rangeBands=function(j,e,o){arguments.length<2&&(e=0),arguments.length<3&&(o=e);var a=j[1]<j[0],n=j[a-0],m=j[1-a],k=(m-n)/(i.length-e+2*o);return b=f(n+k*o,k),a&&b.reverse(),h=k*(1-e),d={t:"rangeBands",a:arguments},g},g.rangeRoundBands=function(j,e,p){arguments.length<2&&(e=0),arguments.length<3&&(p=e);var a=j[1]<j[0],o=j[a-0],m=j[1-a],k=Math.floor((m-o)/(i.length-e+2*p)),n=m-o-(i.length-e)*k;return b=f(o+Math.round(n/2),k),a&&b.reverse(),h=Math.round(k*(1-e)),d={t:"rangeRoundBands",a:arguments},g},g.rangeBand=function(){return h},g.rangeExtent=function(){return cF(d.a[0])},g.copy=function(){return dk(i,d)},g.domain(i)}function hn(f,b){function d(){var h=0,g=b.length;for(a=[];++h<g;){a[h-1]=a8.quantile(f,h/g)}return c}function c(e){return isNaN(e=+e)?void 0:b[a8.bisect(a,e)]}var a;return c.domain=function(e){return arguments.length?(f=e.filter(function(g){return !isNaN(g)}).sort(a8.ascending),d()):f},c.range=function(e){return arguments.length?(b=e,d()):b},c.quantiles=function(){return a},c.copy=function(){return hn(f,b)},d()}function ev(j,f,h){function g(a){return h[Math.max(0,Math.min(b,Math.floor(c*(a-j))))]}function d(){return c=h.length/(f-j),b=h.length-1,g}var c,b;return g.domain=function(a){return arguments.length?(j=+a[0],f=+a[a.length-1],d()):[j,f]},g.range=function(a){return arguments.length?(h=a,d()):h},g.copy=function(){return ev(j,f,h)},g.invertExtent=function(a){return a=h.indexOf(a),a=0>a?0/0:a/c+j,[a,a+1/c]},d()}function gk(c,a){function b(d){return d>=d?a[a8.bisect(c,d)]:void 0}return b.domain=function(d){return arguments.length?(c=d,b):c},b.range=function(d){return arguments.length?(a=d,b):a},b.invertExtent=function(d){return d=a.indexOf(d),[c[d-1],c[d]]},b.copy=function(){return gk(c,a)},b}function bR(b){function a(c){return +c}return a.invert=a,a.domain=a.range=function(c){return arguments.length?(b=c.map(a),a):b},a.ticks=function(c){return g9(b,c)},a.tickFormat=function(c,d){return fh(b,c,d)},a.copy=function(){return bR(b)},a}function fI(a){return a.innerRadius}function fZ(a){return a.outerRadius}function cZ(a){return a.startAngle}function gX(a){return a.endAngle}function d6(g){for(var c,f,d,b=-1,a=g.length;++b<a;){c=g[b],f=c[0],d=c[1]+eK,c[0]=f*Math.cos(d),c[1]=f*Math.sin(d)}return g}function aV(g){function w(C){function o(){n.push("M",d(g(B),x),k,h(g(e.reverse()),x),"Z")}for(var f,i,a,n=[],e=[],B=[],s=-1,l=C.length,u=gm(m),r=gm(j),A=m===b?function(){return i}:gm(b),z=j===v?function(){return a}:gm(v);++s<l;){q.call(this,f=C[s],s)?(e.push([i=+u.call(this,f,s),a=+r.call(this,f,s)]),B.push([+A.call(this,f,s),+z.call(this,f,s)])):e.length&&(o(),e=[],B=[])}return e.length&&o(),n.length?n.join(""):null}var m=fF,b=fF,j=0,v=fW,q=eR,d=eZ,p=d.key,h=d,k="L",x=0.7;return w.x=function(a){return arguments.length?(m=b=a,w):b},w.x0=function(a){return arguments.length?(m=a,w):m},w.x1=function(a){return arguments.length?(b=a,w):b},w.y=function(a){return arguments.length?(j=v=a,w):v},w.y0=function(a){return arguments.length?(j=a,w):j},w.y1=function(a){return arguments.length?(v=a,w):v},w.defined=function(a){return arguments.length?(q=a,w):q},w.interpolate=function(a){return arguments.length?(p="function"==typeof a?d=a:(d=cD.get(a)||eZ).key,h=d.reverse||d,k=d.closed?"M":"L",w):p},w.tension=function(a){return arguments.length?(x=a,w):x},w}function jn(a){return a.radius}function gq(a){return[a.x,a.y]}function jH(a){return function(){var b=a.apply(this,arguments),d=b[0],c=b[1]+eK;return[d*Math.cos(c),d*Math.sin(c)]}}function h7(){return 64}function ah(){return"circle"}function aF(b){var a=Math.sqrt(b/bW);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function ez(b,a){return es(b,eq),b.id=a,b}function aN(f,b,d,c){var a=f.id;return hy(f,"function"==typeof d?function(h,g,e){h.__transition__[a].tween.set(b,c(d.call(h,h.__data__,g,e)))}:(d=c(d),function(e){e.__transition__[a].tween.set(b,d)}))}function eM(a){return null==a&&(a=""),function(){this.textContent=a}}function b4(i,d,g,f){var c=i.__transition__||(i.__transition__={active:0,count:0}),b=c[g];if(!b){var h=f.time;return b=c[g]={tween:new hM,event:a8.dispatch("start","end"),time:h,ease:f.ease,delay:f.delay,duration:f.duration},++c.count,a8.timer(function(a){function k(l){return c.active>g?j():(c.active=g,m.start.call(i,o,d),b.tween.forEach(function(s,p){(p=p.call(i,o,d))&&q.push(p)}),t(l)||a8.timer(t,0,h),1)}function t(s){if(c.active!==g){return j()}for(var p=(s-n)/e,l=u(p),v=q.length;v>0;){q[--v].call(i,l)}return p>=1?(j(),m.end.call(i,o,d),1):void 0}function j(){return --c.count?delete c[g]:delete i.__transition__,1}var o=i.__data__,u=b.ease,m=b.event,n=b.delay,e=b.duration,q=[];return a>=n?k(a):a8.timer(k,n,h),1},0,h),b}}function f3(b,a){b.attr("transform",function(c){return"translate("+a(c)+",0)"})}function cJ(b,a){b.attr("transform",function(c){return"translate(0,"+a(c)+")"})}function eb(f,q,j){if(b=[],j&&q.length>1){for(var b,h,p,m=cF(f.domain()),d=-1,k=q.length,g=(q[1]-q[0])/++j;++d<k;){for(h=j;--h>0;){(p=+q[d]-h*g)>=m[0]&&b.push(p)}}for(--d,h=0;++h<j&&(p=+q[d]+h*g)<m[1];){b.push(p)}}return b}function bp(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function iT(f,m,h){function b(a){var i=f(a),c=l(i,1);return c-a>a-i?i:c}function g(a){return m(a=f(new aI(a-1)),1),a}function l(c,a){return m(c=new aI(+c),a),c}function k(q,i,e){var c=g(q),p=[];if(e>1){for(;i>c;){h(c)%e||p.push(new Date(+c)),m(c,1)}}else{for(;i>c;){p.push(new Date(+c)),m(c,1)}}return p}function d(o,a,i){try{aI=bp;var c=new bp;return c._=o,k(c,a,i)}finally{aI=Date}}f.floor=f,f.round=b,f.ceil=g,f.offset=l,f.range=k;var j=f.utc=a3(f);return j.floor=j,j.round=a3(b),j.ceil=a3(g),j.offset=a3(l),j.range=d,f}function a3(a){return function(b,d){try{aI=bp;var c=new bp;return c._=b,a(c,d)._}finally{aI=Date}}}function e2(f,m,h,b){for(var g,l,k=0,d=m.length,j=h.length;d>k;){if(b>=j){return -1}if(g=m.charCodeAt(k++),37===g){if(l=fw[m.charAt(k++)],!l||(b=l(f,h,b))<0){return -1}}else{if(g!=h.charCodeAt(b++)){return -1}}}return b}function gK(a){return new RegExp("^(?:"+a.map(a8.requote).join("|")+")","i")}function i5(d){for(var a=new hM,c=-1,b=d.length;++c<b;){a.set(d[c].toLowerCase(),c)}return a}function ap(g,c,f){var d=0>g?"-":"",b=(d?-g:g)+"",a=b.length;return d+(f>a?new Array(f-a+1).join(c)+b:b)}function fv(d,a,c){dh.lastIndex=0;var b=dh.exec(a.substring(c));return b?(d.w=h2.get(b[0].toLowerCase()),c+b[0].length):-1}function fM(d,a,c){bU.lastIndex=0;var b=bU.exec(a.substring(c));return b?(d.w=dT.get(b[0].toLowerCase()),c+b[0].length):-1}function eQ(d,a,c){bm.lastIndex=0;var b=bm.exec(a.substring(c,c+1));return b?(d.w=+b[0],c+b[0].length):-1}function cw(d,a,c){bm.lastIndex=0;var b=bm.exec(a.substring(c));return b?(d.U=+b[0],c+b[0].length):-1}function dP(d,a,c){bm.lastIndex=0;var b=bm.exec(a.substring(c));return b?(d.W=+b[0],c+b[0].length):-1}function iv(d,a,c){fk.lastIndex=0;var b=fk.exec(a.substring(c));return b?(d.m=dQ.get(b[0].toLowerCase()),c+b[0].length):-1}function dq(d,a,c){ab.lastIndex=0;var b=ab.exec(a.substring(c));return b?(d.m=hd.get(b[0].toLowerCase()),c+b[0].length):-1}function cN(c,a,b){return e2(c,cx.c.toString(),a,b)}function bY(c,a,b){return e2(c,cx.x.toString(),a,b)}function bJ(c,a,b){return e2(c,cx.X.toString(),a,b)}function dD(d,a,c){bm.lastIndex=0;var b=bm.exec(a.substring(c,c+4));return b?(d.y=+b[0],c+b[0].length):-1}function c3(d,a,c){bm.lastIndex=0;var b=bm.exec(a.substring(c,c+2));return b?(d.y=hC(+b[0]),c+b[0].length):-1}function hC(a){return a+(a>68?1900:2000)}function jz(d,a,c){bm.lastIndex=0;var b=bm.exec(a.substring(c,c+2));return b?(d.m=b[0]-1,c+b[0].length):-1}function g0(d,a,c){bm.lastIndex=0;var b=bm.exec(a.substring(c,c+2));return b?(d.d=+b[0],c+b[0].length):-1}function e6(d,a,c){bm.lastIndex=0;var b=bm.exec(a.substring(c,c+3));return b?(d.j=+b[0],c+b[0].length):-1}function d0(d,a,c){bm.lastIndex=0;var b=bm.exec(a.substring(c,c+2));return b?(d.H=+b[0],c+b[0].length):-1}function bO(d,a,c){bm.lastIndex=0;var b=bm.exec(a.substring(c,c+2));return b?(d.M=+b[0],c+b[0].length):-1}function gS(d,a,c){bm.lastIndex=0;var b=bm.exec(a.substring(c,c+2));return b?(d.S=+b[0],c+b[0].length):-1}function cE(d,a,c){bm.lastIndex=0;var b=bm.exec(a.substring(c,c+3));return b?(d.L=+b[0],c+b[0].length):-1}function fD(d,a,c){var b=i7.get(a.substring(c,c+=2).toLowerCase());return null==b?-1:(d.p=b,c)}function bx(f){var b=f.getTimezoneOffset(),d=b>0?"-":"+",c=~~(Math.abs(b)/60),a=Math.abs(b)%60;return d+ap(c,"0",2)+ap(a,"0",2)}function jk(d,a,c){bH.lastIndex=0;var b=bH.exec(a.substring(c,c+1));return b?c+b[0].length:-1}function dB(a){return a.toISOString()}function hW(d,a,c){function b(e){return d(e)}return b.invert=function(e){return eH(d.invert(e))},b.domain=function(e){return arguments.length?(d.domain(e),b):d.domain().map(eH)},b.nice=function(e){return b.domain(dC(b.domain(),e))},b.ticks=function(j,h){var g=cF(b.domain());if("function"!=typeof j){var f=g[1]-g[0],k=f/j,l=a8.bisect(hE,k);if(l==hE.length){return a.year(g,j)}if(!l){return d.ticks(j).map(eH)}Math.log(k/hE[l-1])<Math.log(hE[l]/k)&&--l,j=a[l],h=j[1],j=j[0].range}return j(g[0],new Date(+g[1]+1),h)},b.tickFormat=function(){return c},b.copy=function(){return hW(d.copy(),a,c)},dN(b,d)}function eH(a){return new Date(a)}function gB(a){return function(b){for(var d=a.length-1,c=a[d];!c[1](b);){c=a[--d]}return c[0](b)}}function b9(b){var a=new Date(b,0,1);return a.setFullYear(b),a}function fU(d){var a=d.getFullYear(),c=b9(a),b=b9(a+1);return a+(d-c)/(b-c)}function gd(b){var a=new Date(Date.UTC(b,0,1));return a.setUTCFullYear(b),a}function dd(d){var a=d.getUTCFullYear(),c=gd(a),b=gd(a+1);return a+(d-c)/(b-c)}function g8(a){return JSON.parse(a.responseText)}function em(b){var a=jE.createRange();return a.selectNode(jE.body),a.createContextualFragment(b.responseText)}var a8={version:"3.2.2"};Date.now||(Date.now=function(){return +new Date});var jE=document,gF=jE.documentElement,ay=window;try{jE.createElement("div").style.setProperty("opacity",0,"")}catch(iO){var aD=ay.CSSStyleDeclaration.prototype,aS=aD.setProperty;aD.setProperty=function(c,a,b){aS.call(this,c,a+"",b)}}a8.ascending=function(b,a){return a>b?-1:b>a?1:b>=a?0:0/0},a8.descending=function(b,a){return b>a?-1:a>b?1:a>=b?0:0/0},a8.min=function(g,c){var f,d,b=-1,a=g.length;if(1===arguments.length){for(;++b<a&&!(null!=(f=g[b])&&f>=f);){f=void 0}for(;++b<a;){null!=(d=g[b])&&f>d&&(f=d)}}else{for(;++b<a&&!(null!=(f=c.call(g,g[b],b))&&f>=f);){f=void 0}for(;++b<a;){null!=(d=c.call(g,g[b],b))&&f>d&&(f=d)}}return f},a8.max=function(g,c){var f,d,b=-1,a=g.length;if(1===arguments.length){for(;++b<a&&!(null!=(f=g[b])&&f>=f);){f=void 0}for(;++b<a;){null!=(d=g[b])&&d>f&&(f=d)}}else{for(;++b<a&&!(null!=(f=c.call(g,g[b],b))&&f>=f);){f=void 0}for(;++b<a;){null!=(d=c.call(g,g[b],b))&&d>f&&(f=d)}}return f},a8.extent=function(j,f){var h,g,d,c=-1,b=j.length;if(1===arguments.length){for(;++c<b&&!(null!=(h=d=j[c])&&h>=h);){h=d=void 0}for(;++c<b;){null!=(g=j[c])&&(h>g&&(h=g),g>d&&(d=g))}}else{for(;++c<b&&!(null!=(h=d=f.call(j,j[c],c))&&h>=h);){h=void 0}for(;++c<b;){null!=(g=f.call(j,j[c],c))&&(h>g&&(h=g),g>d&&(d=g))}}return[h,d]},a8.sum=function(g,c){var f,d=0,b=g.length,a=-1;if(1===arguments.length){for(;++a<b;){isNaN(f=+g[a])||(d+=f)}}else{for(;++a<b;){isNaN(f=+c.call(g,g[a],a))||(d+=f)}}return d},a8.mean=function(f,h){var g,d=f.length,c=0,b=-1,j=0;if(1===arguments.length){for(;++b<d;){hD(g=f[b])&&(c+=(g-c)/++j)}}else{for(;++b<d;){hD(g=h.call(f,f[b],b))&&(c+=(g-c)/++j)}}return j?c:void 0},a8.quantile=function(g,c){var f=(g.length-1)*c+1,d=Math.floor(f),b=+g[d-1],a=f-d;return a?b+a*(g[d]-b):b},a8.median=function(a,b){return arguments.length>1&&(a=a.map(b)),a=a.filter(hD),a.length?a8.quantile(a.sort(a8.ascending),0.5):void 0},a8.bisector=function(a){return{left:function(d,g,f,c){for(arguments.length<3&&(f=0),arguments.length<4&&(c=d.length);c>f;){var b=f+c>>>1;a.call(d,d[b],b)<g?f=b+1:c=b}return f},right:function(d,g,f,c){for(arguments.length<3&&(f=0),arguments.length<4&&(c=d.length);c>f;){var b=f+c>>>1;g<a.call(d,d[b],b)?c=b:f=b+1}return f}}};var eL=a8.bisector(function(a){return a});a8.bisectLeft=eL.left,a8.bisect=a8.bisectRight=eL.right,a8.shuffle=function(d){for(var a,c,b=d.length;b;){c=0|Math.random()*b--,a=d[b],d[b]=d[c],d[c]=a}return d},a8.permute=function(f,b){for(var d=[],c=-1,a=b.length;++c<a;){d[c]=f[b[c]]}return d},a8.zip=function(){if(!(d=arguments.length)){return[]}for(var h=-1,g=a8.min(arguments,hs),f=new Array(g);++h<g;){for(var d,c=-1,b=f[h]=new Array(d);++c<d;){b[c]=arguments[c][h]}}return f},a8.transpose=function(a){return a8.zip.apply(a8,a)},a8.keys=function(c){var a=[];for(var b in c){a.push(b)}return a},a8.values=function(c){var a=[];for(var b in c){a.push(c[b])}return a},a8.entries=function(c){var a=[];for(var b in c){a.push({key:b,value:c[b]})}return a},a8.merge=function(a){return Array.prototype.concat.apply([],a)},a8.range=function(h,e,f){if(arguments.length<3&&(f=1,arguments.length<2&&(e=h,h=0)),1/0===(e-h)/f){throw new Error("infinite range")}var d,c=[],b=hS(Math.abs(f)),g=-1;if(h*=b,e*=b,f*=b,0>f){for(;(d=h+f*++g)>e;){c.push(d/b)}}else{for(;(d=h+f*++g)<e;){c.push(d/b)}}return c},a8.map=function(c){var a=new hM;for(var b in c){a.set(b,c[b])}return a},hx(hM,{has:function(a){return a0+a in this},get:function(a){return this[a0+a]},set:function(b,a){return this[a0+b]=a},remove:function(a){return a=a0+a,a in this&&delete this[a]},keys:function(){var a=[];return this.forEach(function(b){a.push(b)}),a},values:function(){var a=[];return this.forEach(function(b,c){a.push(c)}),a},entries:function(){var a=[];return this.forEach(function(b,c){a.push({key:b,value:c})}),a},forEach:function(b){for(var a in this){a.charCodeAt(0)===eX&&b.call(this,a.substring(1),this[a])}}});var a0="\0",eX=a0.charCodeAt(0);a8.nest=function(){function i(w,e,v){if(v>=b.length){return f?f.call(c,e):g?e.sort(g):e}for(var k,r,x,n,q=-1,a=e.length,u=b[v++],j=new hM;++q<a;){(n=j.get(k=u(r=e[q])))?n.push(r):j.set(k,[r])}return w?(r=w(),x=function(m,l){r.set(m,i(w,l,v))}):(r={},x=function(m,l){r[m]=i(w,l,v)}),j.forEach(x),r}function d(l,k){if(k>=b.length){return l}var j=[],a=h[k++];return l.forEach(function(m,e){j.push({key:m,values:d(e,k)})}),a?j.sort(function(m,e){return a(m.key,e.key)}):j}var g,f,c={},b=[],h=[];return c.map=function(a,j){return i(j,a,0)},c.entries=function(a){return d(i(a8.map,a,0),0)},c.key=function(a){return b.push(a),c},c.sortKeys=function(a){return h[b.length-1]=a,c},c.sortValues=function(a){return g=a,c},c.rollup=function(a){return f=a,c},c},a8.set=function(c){var a=new hp;if(c){for(var b=0;b<c.length;b++){a.add(c[b])}}return a},hx(hp,{has:function(a){return a0+a in this},add:function(a){return this[a0+a]=!0,a},remove:function(a){return a=a0+a,a in this&&delete this[a]},values:function(){var a=[];return this.forEach(function(b){a.push(b)}),a},forEach:function(b){for(var a in this){a.charCodeAt(0)===eX&&b.call(this,a.substring(1))}}}),a8.behavior={},a8.rebind=function(f,b){for(var d,c=1,a=arguments.length;++c<a;){f[d=arguments[c]]=hZ(f,b,b[d])}return f};var cs=["webkit","ms","moz","Moz","o","O"],gj=hH;try{gj(gF.childNodes)[0].nodeType}catch(cU){gj=hV}var es=[].__proto__?function(b,a){b.__proto__=a}:function(c,a){for(var b in a){c[b]=a[b]}};a8.dispatch=function(){for(var c=new hv,a=-1,b=arguments.length;++a<b;){c[arguments[a]]=hO(c)}return c},hv.prototype.on=function(d,a){var c=d.indexOf("."),b="";if(c>=0&&(b=d.substring(c+1),d=d.substring(0,c)),d){return arguments.length<2?this[d].on(b):this[d].on(b,a)}if(2===arguments.length){if(null==a){for(d in this){this.hasOwnProperty(d)&&this[d].on(b,null)}}return this}},a8.event=null,a8.requote=function(a){return a.replace(bF,"\\$&")};var bF=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,jd=function(b,a){return a.querySelector(b)},bk=function(b,a){return a.querySelectorAll(b)},fg=gF[hB(gF,"matchesSelector")],gW=function(b,a){return fg.call(b,a)};"function"==typeof Sizzle&&(jd=function(b,a){return Sizzle(b,a)[0]||null},bk=function(b,a){return Sizzle.uniqueSort(Sizzle(b,a))},gW=Sizzle.matchesSelector),a8.selection=function(){return fY};var jw=a8.selection.prototype=[];jw.select=function(f){var q,j,b,h,p=[];"function"!=typeof f&&(f=hm(f));for(var m=-1,d=this.length;++m<d;){p.push(q=[]),q.parentNode=(b=this[m]).parentNode;for(var k=-1,g=b.length;++k<g;){(h=b[k])?(q.push(j=f.call(h,h.__data__,k)),j&&"__data__" in h&&(j.__data__=h.__data__)):q.push(null)}}return hF(p)},jw.selectAll=function(f){var m,h,b=[];"function"!=typeof f&&(f=hh(f));for(var g=-1,l=this.length;++g<l;){for(var k=this[g],d=-1,j=k.length;++d<j;){(h=k[d])&&(b.push(m=gj(f.call(h,h.__data__,d))),m.parentNode=h)}}return hF(b)};var aK={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a8.ns={prefix:aK,qualify:function(c){var a=c.indexOf(":"),b=c;return a>=0&&(b=c.substring(0,a),c=c.substring(a+1)),aK.hasOwnProperty(b)?{space:aK[b],local:c}:c}},jw.attr=function(c,a){if(arguments.length<2){if("string"==typeof c){var b=this.node();return c=a8.ns.qualify(c),c.local?b.getAttributeNS(c.space,c.local):b.getAttribute(c)}for(a in c){this.each(iz(a,c[a]))}return this}return this.each(iz(c,a))},jw.classed=function(f,b){if(arguments.length<2){if("string"==typeof f){var d=this.node(),c=(f=f.trim().split(/^|\s+/g)).length,a=-1;if(b=d.classList){for(;++a<c;){if(!b.contains(f[a])){return !1}}}else{for(b=d.getAttribute("class");++a<c;){if(!hX(f[a]).test(b)){return !1}}}return !0}for(b in f){this.each(h0(b,f[b]))}return this}return this.each(h0(f,b))},jw.style=function(d,a,c){var b=arguments.length;if(3>b){if("string"!=typeof d){2>b&&(a="");for(c in d){this.each(ij(c,d[c],a))}return this}if(2>b){return ay.getComputedStyle(this.node(),null).getPropertyValue(d)}c=""}return this.each(ij(d,a,c))},jw.property=function(b,a){if(arguments.length<2){if("string"==typeof b){return this.node()[b]}for(a in b){this.each(iM(a,b[a]))}return this}return this.each(iM(b,a))},jw.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent},jw.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML},jw.append=function(c){function a(){return this.appendChild(jE.createElementNS(this.namespaceURI,c))}function b(){return this.appendChild(jE.createElementNS(c.space,c.local))}return c=a8.ns.qualify(c),this.select(c.local?b:a)},jw.insert=function(d,a){function c(g,f){return this.insertBefore(jE.createElementNS(this.namespaceURI,d),a.call(this,g,f))}function b(g,f){return this.insertBefore(jE.createElementNS(d.space,d.local),a.call(this,g,f))}return d=a8.ns.qualify(d),"function"!=typeof a&&(a=hm(a)),this.select(d.local?b:c)},jw.remove=function(){return this.each(function(){var a=this.parentNode;a&&a.removeChild(this)})},jw.data=function(g,q){function j(t,A){var c,G,E,l=t.length,H=A.length,x=Math.min(l,H),z=new Array(H),f=new Array(H),C=new Array(l);if(q){var w,F=new hM,D=new hM,B=[];for(c=-1;++c<l;){w=q.call(G=t[c],G.__data__,c),F.has(w)?C[c]=G:F.set(w,G),B.push(w)}for(c=-1;++c<H;){w=q.call(A,E=A[c],c),(G=F.get(w))?(z[c]=G,G.__data__=E):D.has(w)||(f[c]=hI(E)),D.set(w,E),F.remove(w)}for(c=-1;++c<l;){F.has(B[c])&&(C[c]=t[c])}}else{for(c=-1;++c<x;){G=t[c],E=A[c],G?(G.__data__=E,z[c]=G):f[c]=hI(E)}for(;H>c;++c){f[c]=hI(A[c])}for(;l>c;++c){C[c]=t[c]}}f.update=z,f.parentNode=z.parentNode=C.parentNode=t.parentNode,k.push(f),h.push(z),i.push(C)}var b,p,m=-1,d=this.length;if(!arguments.length){for(g=new Array(d=(b=this[0]).length);++m<d;){(p=b[m])&&(g[m]=p.__data__)}return g}var k=ig([]),h=hF([]),i=hF([]);if("function"==typeof g){for(;++m<d;){j(b=this[m],g.call(b,b.parentNode.__data__,m))}}else{for(;++m<d;){j(b=this[m],g)}}return h.enter=function(){return k},h.exit=function(){return i},h},jw.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")},jw.filter=function(f){var m,h,b,g=[];"function"!=typeof f&&(f=iS(f));for(var l=0,k=this.length;k>l;l++){g.push(m=[]),m.parentNode=(h=this[l]).parentNode;for(var d=0,j=h.length;j>d;d++){(b=h[d])&&f.call(b,b.__data__,d)&&m.push(b)}}return hF(g)},jw.order=function(){for(var g=-1,c=this.length;++g<c;){for(var f,d=this[g],b=d.length-1,a=d[b];--b>=0;){(f=d[b])&&(a&&a!==f.nextSibling&&a.parentNode.insertBefore(f,a),a=f)}}return this},jw.sort=function(c){c=ix.apply(this,arguments);for(var a=-1,b=this.length;++a<b;){this[a].sort(c)}return this.order()},jw.each=function(a){return hy(this,function(b,d,c){a.call(b,b.__data__,d,c)})},jw.call=function(b){var a=gj(arguments);return b.apply(a[0]=this,a),this},jw.empty=function(){return !this.node()},jw.node=function(){for(var g=0,c=this.length;c>g;g++){for(var f=this[g],d=0,b=f.length;b>d;d++){var a=f[d];if(a){return a}}}return null},jw.size=function(){var a=0;return this.each(function(){++a}),a};var fH=[];a8.selection.enter=ig,a8.selection.enter.prototype=fH,fH.append=jw.append,fH.insert=jw.insert,fH.empty=jw.empty,fH.node=jw.node,fH.call=jw.call,fH.size=jw.size,fH.select=function(g){for(var v,m,b,j,s,q=[],d=-1,p=this.length;++d<p;){b=(j=this[d]).update,q.push(v=[]),v.parentNode=j.parentNode;for(var h=-1,k=j.length;++h<k;){(s=j[h])?(v.push(b[h]=m=g.call(j.parentNode,s.__data__,h)),m.__data__=s.__data__):v.push(null)}}return hF(q)},jw.transition=function(){var f,q,j=cp||++bD,b=[],h=Object.create(i9);h.time=Date.now();for(var p=-1,m=this.length;++p<m;){b.push(f=[]);for(var d=this[p],k=-1,g=d.length;++k<g;){(q=d[k])&&b4(q,k,j,h),f.push(q)}}return ez(b,j)},a8.select=function(b){var a=["string"==typeof b?jd(b,jE):b];return a.parentNode=gF,hF([a])},a8.selectAll=function(b){var a=gj("string"==typeof b?bk(b,jE):b);return a.parentNode=gF,hF([a])};var fY=a8.select(gF);jw.on=function(d,a,c){var b=arguments.length;if(3>b){if("string"!=typeof d){2>b&&(a=!1);for(c in d){this.each(iP(c,d[c],a))}return this}if(2>b){return(b=this.node()["__on"+d])&&b._}c=!1}return this.each(iP(d,a,c))};var e1=a8.map({mouseenter:"mouseover",mouseleave:"mouseout"});e1.forEach(function(a){"on"+a in jE&&e1.remove(a)});var cI=hB(gF.style,"userSelect");a8.mouse=function(a){return iA(a,hA())};var d5=/WebKit/.test(ay.navigator.userAgent)?-1:0;a8.touches=function(b,a){return arguments.length<2&&(a=hA().touches),a?gj(a).map(function(c){var d=iA(b,c);return d.identifier=c.identifier,d}):[]},a8.behavior.drag=function(){function d(){this.on("mousedown.drag",a).on("touchstart.drag",a)}function a(){function j(){var f=w.parentNode;return null!=k?a8.touches(f).filter(function(g){return g.identifier===k})[0]:a8.mouse(f)}function y(){if(!w.parentNode){return m()}var f=j(),h=f[0]-r[0],g=f[1]-r[1];z|=h|g,r=f,e({type:"drag",x:f[0]+x[0],y:f[1]+x[1],dx:h,dy:g})}function m(){q.on(null!=k?"touchmove.drag-"+k:"mousemove.drag",null).on(null!=k?"touchend.drag-"+k:"mouseup.drag",null),p(z&&a8.event.target===v),e({type:"dragend"})}var x,w=this,e=c.of(w,arguments),v=a8.event.target,k=a8.event.touches?a8.event.changedTouches[0].identifier:null,r=j(),z=0,p=hK(null!=k?"drag-"+k:"drag"),q=a8.select(ay).on(null!=k?"touchmove.drag-"+k:"mousemove.drag",y).on(null!=k?"touchend.drag-"+k:"mouseup.drag",m,!0);b?(x=b.apply(w,arguments),x=[x.x-r[0],x.y-r[1]]):x=[0,0],e({type:"dragstart"})}var c=hU(d,"drag","dragstart","dragend"),b=null;return d.origin=function(e){return arguments.length?(b=e,d):b},a8.rebind(d,c,"on")},a8.behavior.zoom=function(){function J(){this.on("mousedown.zoom",I).on("mousemove.zoom",L).on(cY+".zoom",T).on("dblclick.zoom",Q).on("touchstart.zoom",F).on("touchmove.zoom",O).on("touchend.zoom",F)}function D(a){return[(a[0]-W[0])/z,(a[1]-W[1])/z]}function R(a){return[a[0]*z+W[0],a[1]*z+W[1]]}function G(a){z=Math.max(d[0],Math.min(d[1],a))}function N(b,a){a=R(a),W[0]+=b[0]-a[0],W[1]+=b[1]-a[1]}function B(){k&&k.domain(A.range().map(function(a){return(a-W[0])/z}).map(A.invert)),q&&q.domain(j.range().map(function(a){return(a-W[1])/z}).map(j.invert))}function V(a){B(),a8.event.preventDefault(),a({type:"zoom",scale:z,translate:W})}function I(){function g(){p=1,N(a8.mouse(a),i),V(t)}function m(){h.on("mousemove.zoom",null).on("mouseup.zoom",null),v(p&&a8.event.target===b)}var a=this,t=C.of(a,arguments),b=a8.event.target,p=0,h=a8.select(ay).on("mousemove.zoom",g).on("mouseup.zoom",m),i=D(a8.mouse(a)),v=hK("zoom")}function T(){P||(P=D(a8.mouse(this))),G(Math.pow(2,0.002*iY())*z),N(a8.mouse(this),P),V(C.of(this,arguments))}function L(){P=null}function Q(){var c=a8.mouse(this),b=D(c),a=Math.log(z)/Math.LN2;G(Math.pow(2,a8.event.shiftKey?Math.ceil(a)-1:Math.floor(a)+1)),N(c,b),V(C.of(this,arguments))}function F(){var p=a8.touches(this),h=Date.now();if(K=z,P={},H=0,p.forEach(function(c){P[c.identifier]=D(c)}),1===p.length){if(500>h-U){var b=p[0],i=D(p[0]);G(2*z),N(b,i),V(C.of(this,arguments))}U=h}else{if(p.length>1){var b=p[0],m=p[1],a=b[0]-m[0],g=b[1]-m[1];H=a*a+g*g}}}function O(){var m=a8.touches(this),f=m[0],g=P[f.identifier];if(b=m[1]){var b,h=P[b.identifier],i=a8.event.scale;if(null==i){var a=(a=b[0]-f[0])*a+(a=b[1]-f[1])*a;i=H&&Math.sqrt(a/H)}f=[(f[0]+b[0])/2,(f[1]+b[1])/2],g=[(g[0]+h[0])/2,(g[1]+h[1])/2],G(i*K)}N(f,g),U=null,V(C.of(this,arguments))}var P,H,K,A,k,j,q,U,W=[0,0],z=1,d=dI,C=hU(J,"zoom");return J.translate=function(a){return arguments.length?(W=a.map(Number),B(),J):W},J.scale=function(a){return arguments.length?(z=+a,B(),J):z},J.scaleExtent=function(a){return arguments.length?(d=null==a?dI:a.map(Number),J):d},J.x=function(a){return arguments.length?(k=a,A=a.copy(),W=[0,0],z=1,J):k},J.y=function(a){return arguments.length?(q=a,j=a.copy(),W=[0,0],z=1,J):q},a8.rebind(J,C,"on")};var iY,dI=[0,1/0],cY="onwheel" in jE?(iY=function(){return -a8.event.deltaY*(a8.event.deltaMode?120:1)},"wheel"):"onmousewheel" in jE?(iY=function(){return a8.event.wheelDelta},"mousewheel"):(iY=function(){return -a8.event.detail},"MozMousePixelScroll");iH.prototype.toString=function(){return this.rgb()+""},a8.hsl=function(c,a,b){return 1===arguments.length?c instanceof iq?iK(c.h,c.s,c.l):bg(""+c,i1,iK):iK(+c,+a,+b)};var ch=iq.prototype=new iH;ch.brighter=function(a){return a=Math.pow(0.7,arguments.length?a:1),iK(this.h,this.s,this.l/a)},ch.darker=function(a){return a=Math.pow(0.7,arguments.length?a:1),iK(this.h,this.s,a*this.l)},ch.rgb=function(){return iw(this.h,this.s,this.l)};var bW=Math.PI,dW=0.000001,dj=dW*dW,h3=bW/180,af=180/bW;a8.hcl=function(c,a,b){return 1===arguments.length?c instanceof iR?h4(c.h,c.c,c.l):c instanceof iE?iC(c.l,c.a,c.b):iC((c=dm((c=a8.rgb(c)).r,c.g,c.b)).l,c.a,c.b):h4(+c,+a,+b)};var hg=iR.prototype=new iH;hg.brighter=function(a){return h4(this.h,this.c,Math.min(100,this.l+fm*(arguments.length?a:1)))},hg.darker=function(a){return h4(this.h,this.c,Math.max(0,this.l-fm*(arguments.length?a:1)))},hg.rgb=function(){return jl(this.h,this.c,this.l).rgb()},a8.lab=function(c,a,b){return 1===arguments.length?c instanceof iE?h8(c.l,c.a,c.b):c instanceof iR?jl(c.l,c.c,c.h):dm((c=a8.rgb(c)).r,c.g,c.b):h8(+c,+a,+b)};var fm=18,dO=0.95047,bG=1,gJ=1.08883,cv=iE.prototype=new iH;cv.brighter=function(a){return h8(Math.min(100,this.l+fm*(arguments.length?a:1)),this.a,this.b)},cv.darker=function(a){return h8(Math.max(0,this.l-fm*(arguments.length?a:1)),this.a,this.b)},cv.rgb=function(){return iI(this.l,this.a,this.b)},a8.rgb=function(c,a,b){return 1===arguments.length?c instanceof cn?gH(c.r,c.g,c.b):bg(""+c,gH,iw):gH(~~c,~~a,~~b)};var fs=cn.prototype=new iH;fs.brighter=function(f){f=Math.pow(0.7,arguments.length?f:1);var b=this.r,d=this.g,c=this.b,a=30;return b||d||c?(b&&a>b&&(b=a),d&&a>d&&(d=a),c&&a>c&&(c=a),gH(Math.min(255,Math.floor(b/f)),Math.min(255,Math.floor(d/f)),Math.min(255,Math.floor(c/f)))):gH(a,a,a)},fs.darker=function(a){return a=Math.pow(0.7,arguments.length?a:1),gH(Math.floor(a*this.r),Math.floor(a*this.g),Math.floor(a*this.b))},fs.hsl=function(){return i1(this.r,this.g,this.b)},fs.toString=function(){return"#"+fp(this.r)+fp(this.g)+fp(this.b)};var bl=a8.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});bl.forEach(function(b,a){bl.set(b,bg(a,gH,iw))}),a8.functor=gm,a8.xhr=fJ(bT),a8.dsv=function(f,p){function j(o,l,i){arguments.length<3&&(i=l,l=null);var c=a8.xhr(o,p,i);return c.row=function(a){return arguments.length?c.response(null==(l=a)?b:h(a)):l},c.row(l)}function b(a){return j.parse(a.responseText)}function h(a){return function(c){return j.parse(c.responseText,a)}}function m(a){return a.map(d).join(f)}function d(a){return k.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var k=new RegExp('["'+f+"\n]"),g=f.charCodeAt(0);return j.parse=function(e,a){var c;return j.parseRows(e,function(q,o){if(c){return c(q,o-1)}var l=new Function("d","return {"+q.map(function(r,i){return JSON.stringify(r)+": d["+i+"]"}).join(",")+"}");c=a?function(r,i){return a(l(r),i)}:l})},j.parseRows=function(v,D){function z(){if(y>=A){return B}if(w){return w=!1,C}var a=y;if(34===v.charCodeAt(a)){for(var i=a;i++<A;){if(34===v.charCodeAt(i)){if(34!==v.charCodeAt(i+1)){break}++i}}y=i+2;var c=v.charCodeAt(i+1);return 13===c?(w=!0,10===v.charCodeAt(i+2)&&++y):10===c&&(w=!0),v.substring(a+1,i).replace(/""/g,'"')}for(;A>y;){var c=v.charCodeAt(y++),n=1;if(10===c){w=!0}else{if(13===c){w=!0,10===v.charCodeAt(y)&&(++y,++n)}else{if(c!==g){continue}}}return v.substring(a,y-n)}return v.substring(a)}for(var l,w,C={},B={},q=[],A=v.length,y=0,E=0;(l=z())!==B;){for(var x=[];l!==C&&l!==B;){x.push(l),l=z()}(!D||(x=D(x,E++)))&&q.push(x)}return q},j.format=function(c){if(Array.isArray(c[0])){return j.formatRows(c)}var e=new hp,a=[];return c.forEach(function(l){for(var i in l){e.has(i)||a.push(e.add(i))}}),[a.map(d).join(f)].concat(c.map(function(i){return a.map(function(l){return d(i[l])}).join(f)})).join("\n")},j.formatRows=function(a){return a.map(m).join("\n")},j},a8.csv=a8.dsv(",","text/csv"),a8.tsv=a8.dsv("	","text/tab-separated-values");var i4,dp,hz,ey;a8.timer=function(f,b,d){if(arguments.length<3){if(arguments.length<2){b=0}else{if(!isFinite(b)){return}}d=Date.now()}var c=d+b,a={callback:f,time:c,next:null};dp?dp.next=a:i4=a,dp=a,hz||(ey=clearTimeout(ey),hz=1,gp(gY))},a8.timer.flush=function(){d7(),aX()};var gp=ay[hB(ay,"requestAnimationFrame")]||function(a){setTimeout(a,17)},bX=".",fL=",",f2=[3,3],c2=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(jq);a8.formatPrefix=function(c,a){var b=0;return c&&(0>c&&(c*=-1),a&&(c=a8.round(c,gv(c,a))),b=1+Math.floor(1e-12+Math.log(c)/Math.LN10),b=Math.max(-24,Math.min(24,3*Math.floor((0>=b?b+1:b-1)/3)))),c2[8+b/3]},a8.round=function(b,a){return a?Math.round(b*(a=Math.pow(10,a)))/a:Math.round(b)},a8.format=function(k){var C=d9.exec(k),y=C[1]||" ",b=C[2]||">",q=C[3]||"",B=C[4]||"",A=C[5],j=+C[6],z=C[7],m=C[8],x=C[9],D=1,v="",w=!1;switch(m&&(m=+m.substring(1)),(A||"0"===y&&"="===b)&&(A=y="0",b="=",z&&(j-=Math.floor((j-1)/4))),x){case"n":z=!0,x="g";break;case"%":D=100,v="%",x="f";break;case"p":D=100,v="%",x="r";break;case"b":case"o":case"x":case"X":B&&(B="0"+x.toLowerCase());case"c":case"d":w=!0,m=0;break;case"s":D=-1,x="r"}"#"===B&&(B=""),"r"!=x||m||(x="g"),null!=m&&("g"==x?m=Math.max(1,Math.min(21,m)):("e"==x||"f"==x)&&(m=Math.max(0,Math.min(20,m)))),x=a1.get(x)||jJ;var d=A&&z;return function(g){if(w&&g%1){return""}var e=0>g||0===g&&0>1/g?(g=-g,"-"):q;if(0>D){var f=a8.formatPrefix(g,m);g=f.scale(g),v=f.symbol}else{g*=D}g=x(g,m),!A&&z&&(g=jx(g));var a=B.length+g.length+(d?0:e.length),c=j>a?new Array(a=j-a+1).join(y):"";return d&&(g=jx(c+g)),bX&&g.replace(".",bX),e+=B,("<"===b?e+g+c:">"===b?c+e+g:"^"===b?c.substring(0,a>>=1)+e+g+c.substring(a):e+(d?g:c+g))+v}};var d9=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,a1=a8.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(b,a){return b.toPrecision(a)},e:function(b,a){return b.toExponential(a)},f:function(b,a){return b.toFixed(a)},r:function(b,a){return(b=a8.round(b,gv(b,a))).toFixed(Math.max(0,Math.min(20,gv(b*(1+1e-15),a))))}}),jx=bT;if(f2){var gy=f2.length;jx=function(g){for(var c=g.lastIndexOf("."),f=c>=0?"."+g.substring(c+1):(c=g.length,""),d=[],b=0,a=f2[0];c>0&&a>0;){d.push(g.substring(c-=a,c+a)),a=f2[b=(b+1)%gy]}return d.reverse().join(fL||"")+f}}a8.geo={},ib.prototype={s:0,t:0,add:function(a){aj(a,this.t,ag),aj(ag.s,this.s,this),this.s?this.t+=ag.t:this.s=ag.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ag=new ib;a8.geo.stream=function(b,a){b&&im.hasOwnProperty(b.type)?im[b.type](b,a):aH(b,a)};var im={Feature:function(b,a){aH(b.geometry,a)},FeatureCollection:function(f,b){for(var d=f.features,c=-1,a=d.length;++c<a;){aH(d[c].geometry,b)}}},an={Sphere:function(b,a){a.sphere()},Point:function(c,a){var b=c.coordinates;a.point(b[0],b[1])},MultiPoint:function(g,c){for(var f,d=g.coordinates,b=-1,a=d.length;++b<a;){f=d[b],c.point(f[0],f[1])}},LineString:function(b,a){eB(b.coordinates,a,0)},MultiLineString:function(f,b){for(var d=f.coordinates,c=-1,a=d.length;++c<a;){eB(d[c],b,0)}},Polygon:function(b,a){aP(b.coordinates,a)},MultiPolygon:function(f,b){for(var d=f.coordinates,c=-1,a=d.length;++c<a;){aP(d[c],b)}},GeometryCollection:function(f,b){for(var d=f.geometries,c=-1,a=d.length;++c<a;){aH(d[c],b)}}};a8.geo.area=function(a){return aL=0,a8.geo.stream(a,aT),aL};var aL,eE=new ib,aT={sphere:function(){aL+=4*bW},point:hQ,lineStart:hQ,lineEnd:hQ,polygonStart:function(){eE.reset(),aT.lineStart=eN},polygonEnd:function(){var a=2*eE;aL+=0>a?4*bW+a:a,aT.lineStart=aT.lineEnd=aT.point=hQ}};a8.geo.bounds=function(){function F(b,a){j.push(q=[L=b,J=b]),B>a&&(B=a),a>K&&(K=a)}function A(M,n){var b=b6([M*h3,n*h3]);if(w){var h=cK(w,b),x=[h[1],-h[0],0],v=cK(x,h);iV(v),v=a5(v);var p=M-D,g=p>0?1:-1,o=v[0]*af*g,f=Math.abs(p)>180;if(f^(o>g*D&&g*M>o)){var s=v[1]*af;s>K&&(K=s)}else{if(o=(o+360)%360-180,f^(o>g*D&&g*M>o)){var s=-v[1]*af;B>s&&(B=s)}else{B>n&&(B=n),n>K&&(K=n)}}f?D>M?E(L,M)>E(L,J)&&(J=M):E(M,J)>E(L,J)&&(L=M):J>=L?(L>M&&(L=M),M>J&&(J=M)):M>D?E(L,M)>E(L,J)&&(J=M):E(M,J)>E(L,J)&&(L=M)}else{F(M,n)}w=b,D=M}function N(){Q.point=A}function C(){q[0]=L,q[1]=J,Q.point=F,w=null}function I(c,b){if(w){var a=c-D;k+=Math.abs(a)>180?a+(a>0?360:-360):a}else{O=c,G=b}aT.point(c,b),A(c,b)}function z(){aT.lineStart()}function R(){I(O,G),aT.lineEnd(),Math.abs(k)>dW&&(L=-(J=180)),q[0]=L,q[1]=J,w=null}function E(b,a){return(a-=b)<0?a+360:a}function P(b,a){return b[0]-a[0]}function H(b,a){return a[0]<=a[1]?a[0]<=b&&b<=a[1]:b<a[0]||a[1]<b}var L,B,J,K,D,O,G,w,k,j,q,Q={point:F,lineStart:N,lineEnd:C,polygonStart:function(){Q.point=I,Q.lineStart=z,Q.lineEnd=R,k=0,aT.polygonStart()},polygonEnd:function(){aT.polygonEnd(),Q.point=F,Q.lineStart=N,Q.lineEnd=C,0>eE?(L=-(J=180),B=-(K=90)):k>dW?K=90:-dW>k&&(B=-90),q[0]=L,q[1]=J}};return function(m){K=J=-(L=B=1/0),j=[],a8.geo.stream(m,Q);var f=j.length;if(f){j.sort(P);for(var l,g=1,d=j[0],c=[d];f>g;++g){l=j[g],H(l[0],d)||H(l[1],d)?(E(d[0],l[1])>E(d[0],d[1])&&(d[1]=l[1]),E(l[0],d[1])>E(d[0],d[1])&&(d[0]=l[0])):c.push(d=l)}for(var b,l,h=-1/0,f=c.length-1,g=0,d=c[f];f>=g;d=l,++g){l=c[g],(b=E(d[1],l[0]))>h&&(h=b,L=l[0],J=d[1])}}return j=q=null,1/0===L||1/0===B?[[0/0,0/0],[0/0,0/0]]:[[L,B],[J,K]]}}(),a8.geo.centroid=function(f){eP=cd=f8=cM=eh=by=iZ=a9=e5=gP=jg=0,a8.geo.stream(f,aA);var b=e5,d=gP,c=jg,a=b*b+d*d+c*c;return dj>a&&(b=by,d=iZ,c=a9,dW>cd&&(b=f8,d=cM,c=eh),a=b*b+d*d+c*c,dj>a)?[0/0,0/0]:[Math.atan2(d,b)*af,id(c/Math.sqrt(a))*af]};var eP,cd,f8,cM,eh,by,iZ,a9,e5,gP,jg,aA={sphere:hQ,point:gM,lineStart:av,lineEnd:fx,polygonStart:function(){aA.lineStart=fO},polygonEnd:function(){aA.lineStart=av}},fA=iy(eR,dF,hG,jB),fR=[-bW,0],eU=1000000000;(a8.geo.conicEqualArea=function(){return gQ(cC)}).raw=cC,a8.geo.albers=function(){return a8.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)},a8.geo.albersUsa=function(){function f(i){var e=i[0],c=i[1];return m=null,h(e,c),m||(b(e,c),m)||g(e,c),m}var m,h,b,g,l=a8.geo.albers(),k=a8.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=a8.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),j={point:function(c,a){m=[c,a]}};return f.invert=function(q){var c=l.scale(),p=l.translate(),o=(q[0]-p[0])/c,a=(q[1]-p[1])/c;return(a>=0.12&&0.234>a&&o>=-0.425&&-0.214>o?k:a>=0.166&&0.234>a&&o>=-0.214&&-0.115>o?d:l).invert(q)},f.stream=function(o){var a=l.stream(o),i=k.stream(o),c=d.stream(o);return{point:function(p,e){a.point(p,e),i.point(p,e),c.point(p,e)},sphere:function(){a.sphere(),i.sphere(),c.sphere()},lineStart:function(){a.lineStart(),i.lineStart(),c.lineStart()},lineEnd:function(){a.lineEnd(),i.lineEnd(),c.lineEnd()},polygonStart:function(){a.polygonStart(),i.polygonStart(),c.polygonStart()},polygonEnd:function(){a.polygonEnd(),i.polygonEnd(),c.polygonEnd()}}},f.precision=function(a){return arguments.length?(l.precision(a),k.precision(a),d.precision(a),f):l.precision()},f.scale=function(a){return arguments.length?(l.scale(a),k.scale(0.35*a),d.scale(a),f.translate(l.translate())):l.scale()},f.translate=function(c){if(!arguments.length){return l.translate()}var a=l.scale(),i=+c[0],e=+c[1];return h=l.translate(c).clipExtent([[i-0.455*a,e-0.238*a],[i+0.455*a,e+0.238*a]]).stream(j).point,b=k.translate([i-0.307*a,e+0.201*a]).clipExtent([[i-0.425*a+dW,e+0.12*a+dW],[i-0.214*a-dW,e+0.234*a-dW]]).stream(j).point,g=d.translate([i-0.205*a,e+0.212*a]).clipExtent([[i-0.214*a+dW,e+0.166*a+dW],[i-0.115*a-dW,e+0.234*a-dW]]).stream(j).point,f},f.scale(1070)};var cB,dX,iF,dy,cR,b3,bP={point:hQ,lineStart:hQ,lineEnd:hQ,polygonStart:function(){dX=0,bP.lineStart=fB},polygonEnd:function(){bP.lineStart=bP.lineEnd=bP.point=hQ,cB+=Math.abs(dX/2)}},dJ={point:bq,lineStart:hQ,lineEnd:hQ,polygonStart:hQ,polygonEnd:hQ},c8={point:hR,lineStart:eF,lineEnd:gz,polygonStart:function(){c8.lineStart=b5},polygonEnd:function(){c8.point=hR,c8.lineStart=eF,c8.lineEnd=gz}};a8.geo.path=function(){function k(a){return a&&("function"==typeof j&&c.pointRadius(+j.apply(this,arguments)),b&&b.valid||(b=d(c)),a8.geo.stream(a,b)),c.result()}function f(){return b=null,k}var h,g,d,c,b,j=4.5;return k.area=function(a){return cB=0,a8.geo.stream(a,d(bP)),cB},k.centroid=function(a){return f8=cM=eh=by=iZ=a9=e5=gP=jg=0,a8.geo.stream(a,d(c8)),jg?[e5/jg,gP/jg]:a9?[by/a9,iZ/a9]:eh?[f8/eh,cM/eh]:[0/0,0/0]},k.bounds=function(a){return cR=b3=-(iF=dy=1/0),a8.geo.stream(a,d(dJ)),[[iF,dy],[cR,b3]]},k.projection=function(a){return arguments.length?(d=(h=a)?a.stream||c9(a):bT,f()):h},k.context=function(a){return arguments.length?(c=null==(g=a)?new jh:new fS(a),"function"!=typeof j&&c.pointRadius(j),f()):g},k.pointRadius=function(a){return arguments.length?(j="function"==typeof a?a:(c.pointRadius(+a),+a),k):j},k.projection(a8.geo.albersUsa()).context(null)},a8.geo.projection=g6,a8.geo.projectionMutator=ej,(a8.geo.equirectangular=function(){return g6(jA)}).raw=jA.invert=jA,a8.geo.rotation=function(b){function a(c){return c=b(c[0]*h3,c[1]*h3),c[0]*=af,c[1]*=af,c}return b=gD(b[0]%360*h3,b[1]*h3,b.length>2?b[2]*h3:0),a.invert=function(c){return c=b.invert(c[0]*h3,c[1]*h3),c[0]*=af,c[1]*=af,c},a},a8.geo.circle=function(){function f(){var h="function"==typeof c?c.apply(this,arguments):c,g=gD(-h[0]*h3,-h[1]*h3,0).invert,e=[];return d(null,null,1,{point:function(j,i){e.push(j=g(j,i)),j[0]*=af,j[1]*=af}}),{type:"Polygon",coordinates:[e]}}var b,d,c=[0,0],a=6;return f.origin=function(e){return arguments.length?(c=e,f):c},f.angle=function(e){return arguments.length?(d=aO((b=+e)*h3,a*h3),f):b},f.precision=function(e){return arguments.length?(d=aO(b*h3,(a=+e)*h3),f):a},f.angle(90)},a8.geo.distance=function(g,w){var m,b=(w[0]-g[0])*h3,j=g[1]*h3,v=w[1]*h3,q=Math.sin(b),d=Math.cos(b),p=Math.sin(j),h=Math.cos(j),k=Math.sin(v),x=Math.cos(v);return Math.atan2(Math.sqrt((m=x*q)*m+(m=h*k-p*x*d)*m),p*k+h*x*d)},a8.geo.graticule=function(){function B(){return{type:"MultiLineString",coordinates:q()}}function q(){return a8.range(Math.ceil(k/C)*C,E,C).map(F).concat(a8.range(Math.ceil(D/j)*j,K,j).map(G)).concat(a8.range(Math.ceil(x/z)*z,I,z).filter(function(a){return Math.abs(a%C)>dW}).map(H)).concat(a8.range(Math.ceil(A/J)*J,L,J).filter(function(a){return Math.abs(a%j)>dW}).map(w))}var I,x,E,k,L,A,K,D,H,w,F,G,z=10,J=z,C=90,j=360,b=2.5;return B.lines=function(){return q().map(function(a){return{type:"LineString",coordinates:a}})},B.outline=function(){return{type:"Polygon",coordinates:[F(k).concat(G(K).slice(1),F(E).reverse().slice(1),G(D).reverse().slice(1))]}},B.extent=function(a){return arguments.length?B.majorExtent(a).minorExtent(a):B.minorExtent()},B.majorExtent=function(a){return arguments.length?(k=+a[0][0],E=+a[1][0],D=+a[0][1],K=+a[1][1],k>E&&(a=k,k=E,E=a),D>K&&(a=D,D=K,K=a),B.precision(b)):[[k,D],[E,K]]},B.minorExtent=function(a){return arguments.length?(x=+a[0][0],I=+a[1][0],A=+a[0][1],L=+a[1][1],x>I&&(a=x,x=I,I=a),A>L&&(a=A,A=L,L=a),B.precision(b)):[[x,A],[I,L]]},B.step=function(a){return arguments.length?B.majorStep(a).minorStep(a):B.minorStep()},B.majorStep=function(a){return arguments.length?(C=+a[0],j=+a[1],B):[C,j]},B.minorStep=function(a){return arguments.length?(z=+a[0],J=+a[1],B):[z,J]},B.precision=function(a){return arguments.length?(b=+a,H=aW(A,L,90),w=eV(x,I,b),F=aW(D,K,90),G=eV(k,E,b),B):b},B.majorExtent([[-180,-90+dW],[180,90-dW]]).minorExtent([[-180,-80-dW],[180,80+dW]])},a8.geo.greatArc=function(){function f(){return{type:"LineString",coordinates:[b||c.apply(this,arguments),d||a.apply(this,arguments)]}}var b,d,c=cm,a=gg;return f.distance=function(){return a8.geo.distance(b||c.apply(this,arguments),d||a.apply(this,arguments))},f.source=function(g){return arguments.length?(c=g,b="function"==typeof g?null:g,f):c},f.target=function(e){return arguments.length?(a=e,d="function"==typeof e?null:e,f):a},f.precision=function(){return arguments.length?f:0},f},a8.geo.interpolate=function(b,a){return cS(b[0]*h3,b[1]*h3,a[0]*h3,a[1]*h3)},a8.geo.length=function(a){return hN=0,a8.geo.stream(a,jF),hN};var hN,jF={sphere:hQ,point:hQ,lineStart:ep,lineEnd:hQ,polygonStart:hQ,polygonEnd:hQ},g5=bB(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(a8.geo.azimuthalEqualArea=function(){return g6(g5)}).raw=g5;var fb=bB(function(b){var a=Math.acos(b);return a&&a/Math.sin(a)},bT);(a8.geo.azimuthalEquidistant=function(){return g6(fb)}).raw=fb,(a8.geo.conicConformal=function(){return gQ(i6)}).raw=i6,(a8.geo.conicEquidistant=function(){return gQ(bf)}).raw=bf;var dZ=bB(function(a){return 1/a},Math.atan);(a8.geo.gnomonic=function(){return g6(dZ)}).raw=dZ,fd.invert=function(b,a){return[b,2*Math.atan(Math.exp(a))-bW/2]},(a8.geo.mercator=function(){return gU(fd)}).raw=fd;var bM=bB(function(){return 1},Math.asin);(a8.geo.orthographic=function(){return g6(bM)}).raw=bM;var gR=bB(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(a8.geo.stereographic=function(){return g6(gR)}).raw=gR,jp.invert=function(b,a){return[Math.atan2(iG(b),Math.cos(a)),id(Math.sin(a)/h9(b))]},(a8.geo.transverseMercator=function(){return gU(jp)}).raw=jp,a8.geom={},a8.svg={},a8.svg.line=function(){return aG(bT)};var cD=a8.map({linear:eZ,"linear-closed":cG,step:d2,"step-before":iU,"step-after":dE,basis:h1,"basis-open":jI,"basis-closed":hb,bundle:fj,cardinal:bS,"cardinal-open":cW,"cardinal-closed":cf,monotone:bj});cD.forEach(function(b,a){a.key=b,a.closed=/-closed$/.test(b)});var fC=[0,2/3,1/3,0],bv=[0,1/3,2/3,0],jj=[0,1/6,2/3,1/6];a8.geom.hull=function(d){function a(C){if(C.length<3){return[]}var w,F,r,N,B,K,E,I,z,G,H,A,J=gm(c),D=gm(b),q=C.length,j=q-1,e=[],k=[],L=0;if(J===fF&&b===fW){w=C}else{for(r=0,w=[];q>r;++r){w.push([+J.call(this,F=C[r],r),+D.call(this,F,r)])}}for(r=1;q>r;++r){(w[r][1]<w[L][1]||w[r][1]==w[L][1]&&w[r][0]<w[L][0])&&(L=r)}for(r=0;q>r;++r){r!==L&&(K=w[r][1]-w[L][1],B=w[r][0]-w[L][0],e.push({angle:Math.atan2(K,B),index:r}))}for(e.sort(function(g,f){return g.angle-f.angle}),H=e[0].angle,G=e[0].index,z=0,r=1;j>r;++r){if(N=e[r].index,H==e[r].angle){if(B=w[G][0]-w[L][0],K=w[G][1]-w[L][1],E=w[N][0]-w[L][0],I=w[N][1]-w[L][1],B*B+K*K>=E*E+I*I){e[r].index=-1;continue}e[z].index=-1}H=e[r].angle,z=r,G=N}for(k.push(L),r=0,N=0;2>r;++N){e[N].index>-1&&(k.push(e[N].index),r++)}for(A=k.length;j>N;++N){if(!(e[N].index<0)){for(;!i2(k[A-2],k[A-1],e[N].index,w);){--A}k[A++]=e[N].index}}var O=[];for(r=A-1;r>=0;--r){O.push(C[k[r]])}return O}var c=fF,b=fW;return arguments.length?a(d):(a.x=function(e){return arguments.length?(c=e,a):c},a.y=function(e){return arguments.length?(b=e,a):b},a)},a8.geom.polygon=function(a){return a.area=function(){for(var b=0,d=a.length,c=a[d-1][1]*a[0][0]-a[d-1][0]*a[0][1];++b<d;){c+=a[b-1][1]*a[b][0]-a[b-1][0]*a[b][1]}return 0.5*c},a.centroid=function(g){var j,h,f=-1,d=a.length,b=0,k=0,l=a[d-1];for(arguments.length||(g=-1/(6*a.area()));++f<d;){j=l,l=a[f],h=j[0]*l[1]-l[0]*j[1],b+=(j[0]+l[0])*h,k+=(j[1]+l[1])*h}return[b*g,k*g]},a.clip=function(q){for(var k,b,h,p,n,d,m=-1,g=a.length,j=a[g-1];++m<g;){for(k=q.slice(),q.length=0,p=a[m],n=k[(h=k.length)-1],b=-1;++b<h;){d=k[b],dn(d,j,p)?(dn(n,j,p)||q.push(hw(n,d,j,p)),q.push(d)):dn(n,j,p)&&q.push(hw(n,d,j,p)),n=d}j=p}return q},a},a8.geom.delaunay=function(c){var a=c.map(function(){return[]}),b=[];return ex(c,function(d){a[d.region.l.index].push(c[d.region.r.index])}),a.forEach(function(g,h){var f=c[h],e=f[0],d=f[1];g.forEach(function(i){i.angle=Math.atan2(i[0]-e,i[1]-d)}),g.sort(function(l,i){return l.angle-i.angle});for(var j=0,k=g.length-1;k>j;j++){b.push([f,g[j],g[j+1]])}}),b},a8.geom.voronoi=function(f){function b(g){var p,m,k,e=g.map(function(){return[]}),j=gm(d),h=gm(c),i=g.length,q=1000000;if(j===fF&&h===fW){p=g}else{for(p=new Array(i),k=0;i>k;++k){p[k]=[+j.call(this,m=g[k],k),+h.call(this,m,k)]}}if(ex(p,function(s){var B,x,o,w,A,z;1===s.a&&s.b>=0?(B=s.ep.r,x=s.ep.l):(B=s.ep.l,x=s.ep.r),1===s.a?(A=B?B.y:-q,o=s.c-s.b*A,z=x?x.y:q,w=s.c-s.b*z):(o=B?B.x:-q,A=s.c-s.a*o,w=x?x.x:q,z=s.c-s.a*w);var y=[o,A],v=[w,z];e[s.region.l.index].push(y,v),e[s.region.r.index].push(y,v)}),e=e.map(function(w,v){var t=p[v][0],s=p[v][1],o=w.map(function(r){return Math.atan2(r[0]-t,r[1]-s)}),l=a8.range(w.length).sort(function(u,r){return o[u]-o[r]});return l.filter(function(u,r){return !r||o[u]-o[l[r-1]]>dW}).map(function(n){return w[n]})}),e.forEach(function(x,F){var s=x.length;if(!s){return x.push([-q,-q],[-q,q],[q,q],[q,-q])}if(!(s>2)){var B=p[F],L=x[0],J=x[1],w=B[0],H=B[1],A=L[0],E=L[1],C=J[0],D=J[1],t=Math.abs(C-A),G=D-E;if(Math.abs(G)<dW){var z=E>H?-q:q;x.push([-q,z],[q,z])}else{if(dW>t){var K=A>w?-q:q;x.push([K,-q],[K,q])}else{var z=(A-w)*(D-E)>(C-A)*(E-H)?q:-q,I=Math.abs(G)-t;Math.abs(I)<dW?x.push([0>G?z:-z,z]):(I>0&&(z*=-1),x.push([-q,z],[q,z]))}}}}),a){for(k=0;i>k;++k){a.clip(e[k])}}for(k=0;i>k;++k){e[k].point=g[k]}return e}var d=fF,c=fW,a=null;return arguments.length?b(f):(b.x=function(e){return arguments.length?(d=e,b):d},b.y=function(e){return arguments.length?(c=e,b):c},b.clipExtent=function(k){if(!arguments.length){return a&&[a[0],a[2]]}if(null==k){a=null}else{var j=+k[0][0],i=+k[0][1],h=+k[1][0],g=+k[1][1];a=a8.geom.polygon([[j,i],[j,g],[h,g],[h,i]])}return b},b.size=function(e){return arguments.length?b.clipExtent(e&&[[0,0],e]):a&&a[2]},b.links=function(g){var r,j,q,p=g.map(function(){return[]}),e=[],m=gm(d),h=gm(c),k=g.length;if(m===fF&&h===fW){r=g}else{for(r=new Array(k),q=0;k>q;++q){r[q]=[+m.call(this,j=g[q],q),+h.call(this,j,q)]}}return ex(r,function(i){var n=i.region.l.index,l=i.region.r.index;p[n][l]||(p[n][l]=p[l][n]=!0,e.push({source:g[n],target:g[l]}))}),e},b.triangles=function(m){if(d===fF&&c===fW){return a8.geom.delaunay(m)}for(var j,h=new Array(l),g=gm(d),e=gm(c),k=-1,l=m.length;++k<l;){(h[k]=[+g.call(this,j=m[k],k),+e.call(this,j,k)]).data=j}return a8.geom.delaunay(h).map(function(i){return i.map(function(o){return o.data})})},b)};var dA={l:"r",r:"l"};a8.geom.quadtree=function(f,m,h,b,g){function l(B){function r(w,O,E,p,x,N,M,v){if(!isNaN(E)&&!isNaN(p)){if(w.leaf){var L=w.x,y=w.y;if(null!=L){if(Math.abs(L-E)+Math.abs(y-p)<0.01){D(w,O,E,p,x,N,M,v)}else{var P=w.point;w.x=w.y=w.point=null,D(w,P,L,y,x,N,M,v),D(w,O,E,p,x,N,M,v)}}else{w.x=E,w.y=p,w.point=O}}else{D(w,O,E,p,x,N,M,v)}}}function D(v,P,M,p,x,O,u,N){var w=0.5*(x+u),L=0.5*(O+N),Q=M>=w,y=p>=L,E=(y<<1)+Q;v.leaf=!1,v=v.nodes[E]||(v.nodes[E]=fK()),Q?x=w:u=w,y?O=L:N=L,r(v,P,M,p,x,O,u,N)}var H,z,F,G,A,I,C,q,e,c=gm(d),i=gm(j);if(null!=m){I=m,C=h,q=b,e=g}else{if(q=e=-(I=C=1/0),z=[],F=[],A=B.length,k){for(G=0;A>G;++G){H=B[G],H.x<I&&(I=H.x),H.y<C&&(C=H.y),H.x>q&&(q=H.x),H.y>e&&(e=H.y),z.push(H.x),F.push(H.y)}}else{for(G=0;A>G;++G){var J=+c(H=B[G],G),K=+i(H,G);I>J&&(I=J),C>K&&(C=K),J>q&&(q=J),K>e&&(e=K),z.push(J),F.push(K)}}}var o=q-I,a=e-C;o>a?e=C+o:q=I+a;var t=fK();if(t.add=function(p){r(t,p,+c(p,++G),+i(p,G),I,C,q,e)},t.visit=function(p){f1(p,t,I,C,q,e)},G=-1,null==m){for(;++G<A;){r(t,B[G],z[G],F[G],I,C,q,e)}--G}else{B.forEach(t.add)}return z=F=B=H=null,t}var k,d=fF,j=fW;return(k=arguments.length)?(d=gn,j=bV,3===k&&(g=h,b=m,h=m=0),l(f)):(l.x=function(a){return arguments.length?(d=a,l):d},l.y=function(a){return arguments.length?(j=a,l):j},l.extent=function(a){return arguments.length?(null==a?m=h=b=g=null:(m=+a[0][0],h=+a[0][1],b=+a[1][0],g=+a[1][1]),l):null==m?null:[[m,h],[b,g]]},l.size=function(a){return arguments.length?(null==a?m=h=b=g=null:(m=h=0,b=+a[0],g=+a[1]),l):null==m?null:[b-m,g-h]},l)},a8.interpolateRgb=c1,a8.transform=function(b){var a=jE.createElementNS(a8.ns.prefix.svg,"g");return(a8.transform=function(d){if(null!=d){a.setAttribute("transform",d);var c=a.transform.baseVal.consolidate()}return new gZ(c?c.matrix:hT)})(b)},gZ.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var hT={a:1,b:0,c:0,d:1,e:0,f:0};a8.interpolateNumber=gw,a8.interpolateTransform=ad,a8.interpolateObject=ih,a8.interpolateString=ak;var eG=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;a8.interpolate=aJ,a8.interpolators=[function(c,a){var b=typeof a;return("string"===b?bl.has(a)||/^(#|rgb\(|hsl\()/.test(a)?c1:ak:a instanceof iH?c1:"object"===b?Array.isArray(a)?aR:ih:gw)(c,a)}],a8.interpolateArray=aR;var gA=function(){return bT},b7=a8.map({linear:gA,poly:iX,quad:function(){return cL},cubic:function(){return ef},sin:function(){return a7},exp:function(){return e4},circle:function(){return gN},elastic:jb,back:ax,bounce:function(){return fy}}),fT=a8.map({"in":bT,out:b8,"in-out":f6,"out-in":function(a){return f6(b8(a))}});a8.ease=function(d){var a=d.indexOf("-"),c=a>=0?d.substring(0,a):d,b=a>=0?d.substring(a+1):"in";return c=b7.get(c)||gA,b=fT.get(b)||bT,eO(b(c.apply(null,Array.prototype.slice.call(arguments,1))))},a8.interpolateHcl=fP,a8.interpolateHsl=eS,a8.interpolateLab=cz,a8.interpolateRound=dU,a8.layout={},a8.layout.bundle=function(){return function(d){for(var a=[],c=-1,b=d.length;++c<b;){a.push(cP(d[c]))}return a}},a8.layout.chord=function(){function g(){var c,f,F,o,r,a={},u=[],e=a8.range(s),E=[];for(m=[],b=[],c=0,o=-1;++o<s;){for(f=0,r=-1;++r<s;){f+=j[o][r]}u.push(f),E.push(a8.range(s)),c+=f}for(q&&e.sort(function(w,l){return q(u[w],u[l])}),d&&E.forEach(function(w,l){w.sort(function(y,x){return d(j[l][y],j[l][x])})}),c=(2*bW-k*s)/c,f=0,o=-1;++o<s;){for(F=f,r=-1;++r<s;){var A=e[o],t=E[A][r],B=j[A][t],z=f,D=f+=B*c;a[A+"-"+t]={index:A,subindex:t,startAngle:z,endAngle:D,value:B}}b[A]={index:A,startAngle:F,endAngle:f,value:(f-F)/c},f+=k}for(o=-1;++o<s;){for(r=o-1;++r<s;){var C=a[o+"-"+r],i=a[r+"-"+o];(C.value||i.value)&&m.push(C.value<i.value?{source:i,target:C}:{source:C,target:i})}}p&&v()}function v(){m.sort(function(c,a){return p((c.source.value+c.target.value)/2,(a.source.value+a.target.value)/2)})}var m,b,j,s,q,d,p,h={},k=0;return h.matrix=function(a){return arguments.length?(s=(j=a)&&j.length,m=b=null,h):j},h.padding=function(a){return arguments.length?(k=a,m=b=null,h):k},h.sortGroups=function(a){return arguments.length?(q=a,m=b=null,h):q},h.sortSubgroups=function(a){return arguments.length?(d=a,m=null,h):d},h.sortChords=function(a){return arguments.length?(p=a,m&&v(),h):p},h.chords=function(){return m||g(),m},h.groups=function(){return b||g(),b},h},a8.layout.force=function(){function z(a){return function(h,m,l,g){if(h.point!==a){var f=h.cx-a.x,d=h.cy-a.y,n=1/Math.sqrt(f*f+d*d);if(H>(g-m)*n){var p=h.charge*n*n;return a.px-=f*p,a.py-=d*p,!0}if(h.point&&isFinite(n)){var p=h.pointCharge*n*n;a.px-=f*p,a.py-=d*p}}return !h.charge}}function k(a){a.px=a8.event.x,a.py=a8.event.y,y.resume()}var G,w,C,j,J,y={},I=a8.dispatch("start","tick","end"),B=[1,1],F=0.9,q=gb,D=db,E=-30,x=0.1,H=0.8,A=[],b=[];return y.tick=function(){if((w*=0.99)<0.005){return I.end({type:"end",alpha:w=0}),!0}var r,f,a,u,c,i,m,g,n,l=A.length,p=b.length;for(f=0;p>f;++f){a=b[f],u=a.source,c=a.target,g=c.x-u.x,n=c.y-u.y,(i=g*g+n*n)&&(i=w*j[f]*((i=Math.sqrt(i))-C[f])/i,g*=i,n*=i,c.x-=g*(m=u.weight/(c.weight+u.weight)),c.y-=n*m,u.x+=g*(m=1-m),u.y+=n*m)}if((m=w*x)&&(g=B[0]/2,n=B[1]/2,f=-1,m)){for(;++f<l;){a=A[f],a.x+=(g-a.x)*m,a.y+=(n-a.y)*m}}if(E){for(g3(r=a8.geom.quadtree(A),w,J),f=-1;++f<l;){(a=A[f]).fixed||r.visit(z(a))}}for(f=-1;++f<l;){a=A[f],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*F,a.y-=(a.py-(a.py=a.y))*F)}I.tick({type:"tick",alpha:w})},y.nodes=function(a){return arguments.length?(A=a,y):A},y.links=function(a){return arguments.length?(b=a,y):b},y.size=function(a){return arguments.length?(B=a,y):B},y.linkDistance=function(a){return arguments.length?(q="function"==typeof a?a:+a,y):q},y.distance=y.linkDistance,y.linkStrength=function(a){return arguments.length?(D="function"==typeof a?a:+a,y):D},y.friction=function(a){return arguments.length?(F=+a,y):F},y.charge=function(a){return arguments.length?(E="function"==typeof a?a:+a,y):E},y.gravity=function(a){return arguments.length?(x=+a,y):x},y.theta=function(a){return arguments.length?(H=+a,y):H},y.alpha=function(a){return arguments.length?(a=+a,w?w=a>0?a:0:a>0&&(I.start({type:"start",alpha:w=a}),a8.timer(y.tick)),y):w},y.start=function(){function h(t,f){for(var e,d=v(l),c=-1,p=d.length;++c<p;){if(!isNaN(e=d[c][t])){return e}}return Math.random()*f}function v(){if(!s){for(s=[],a=0;g>a;++a){s[a]=[]}for(a=0;o>a;++a){var c=b[a];s[c.source.index].push(c.target),s[c.target.index].push(c.source)}}return s[l]}var l,a,s,i,g=A.length,o=b.length,u=B[0],m=B[1];for(l=0;g>l;++l){(i=A[l]).index=l,i.weight=0}for(l=0;o>l;++l){i=b[l],"number"==typeof i.source&&(i.source=A[i.source]),"number"==typeof i.target&&(i.target=A[i.target]),++i.source.weight,++i.target.weight}for(l=0;g>l;++l){i=A[l],isNaN(i.x)&&(i.x=h("x",u)),isNaN(i.y)&&(i.y=h("y",m)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y)}if(C=[],"function"==typeof q){for(l=0;o>l;++l){C[l]=+q.call(this,b[l],l)}}else{for(l=0;o>l;++l){C[l]=q}}if(j=[],"function"==typeof D){for(l=0;o>l;++l){j[l]=+D.call(this,b[l],l)}}else{for(l=0;o>l;++l){j[l]=D}}if(J=[],"function"==typeof E){for(l=0;g>l;++l){J[l]=+E.call(this,A[l],l)}}else{for(l=0;g>l;++l){J[l]=E}}return y.resume()},y.resume=function(){return y.alpha(0.1)},y.stop=function(){return y.alpha(0)},y.drag=function(){return G||(G=a8.behavior.drag().origin(bT).on("dragstart.force",dH).on("drag.force",k).on("dragend.force",c6)),arguments.length?(this.on("mouseover.force",hJ).on("mouseout.force",jD).call(G),void 0):G},a8.rebind(y,I,"on")};var gb=20,db=1;a8.layout.hierarchy=function(){function g(u,r,i){var q=b.call(f,u,r);if(u.depth=r,i.push(u),q&&(j=q.length)){for(var j,n,v=-1,k=u.children=[],m=0,e=r+1;++v<j;){n=g(q[v],e,i),n.parent=u,k.push(n),m+=n.value}d&&k.sort(d),a&&(u.value=m)}else{a&&(u.value=+a.call(f,u,r)||0)}return u}function c(q,k){var j=q.children,h=0;if(j&&(m=j.length)){for(var m,p=-1,e=k+1;++p<m;){h+=c(j[p],e)}}else{a&&(h=+a.call(f,q,k)||0)}return a&&(q.value=h),h}function f(h){var i=[];return g(h,0,i),i}var d=gO,b=dV,a=bI;return f.sort=function(e){return arguments.length?(d=e,f):d},f.children=function(e){return arguments.length?(b=e,f):b},f.value=function(e){return arguments.length?(a=e,f):a},f.revalue=function(e){return c(e,0),e},f},a8.layout.partition=function(){function f(s,m,g,k){var q=s.children;if(s.x=m,s.y=s.depth*k,s.dx=g,s.dy=k,q&&(p=q.length)){var p,h,n,j=-1;for(g=s.value?g/s.value:0;++j<p;){f(h=q[j],m,n=h.value*g,k),m+=n}}}function b(l){var k=l.children,j=0;if(k&&(h=k.length)){for(var h,g=-1;++g<h;){j=Math.max(j,b(k[g]))}}return 1+j}function d(i,h){var g=c.call(this,i,h);return f(g[0],0,a[0],a[1]/b(g[0])),g}var c=a8.layout.hierarchy(),a=[1,1];return d.size=function(e){return arguments.length?(a=e,d):a},e8(d,c)},a8.layout.pie=function(){function f(h){var g=h.map(function(m,l){return +b.call(f,m,l)}),j=+("function"==typeof c?c.apply(this,arguments):c),k=(("function"==typeof a?a.apply(this,arguments):a)-j)/a8.sum(g),e=a8.range(h.length);null!=d&&e.sort(d===g7?function(m,l){return g[l]-g[m]}:function(m,l){return d(h[m],h[l])});var i=[];return e.forEach(function(m){var l;i[m]={data:h[m],value:l=g[m],startAngle:j,endAngle:j+=l*k}}),i}var b=Number,d=g7,c=0,a=2*bW;return f.value=function(g){return arguments.length?(b=g,f):b},f.sort=function(e){return arguments.length?(d=e,f):d},f.startAngle=function(e){return arguments.length?(c=e,f):c},f.endAngle=function(e){return arguments.length?(a=e,f):a},f};var g7={};a8.layout.stack=function(){function j(e,u){var k=e.map(function(m,l){return f.call(j,m,l)}),r=k.map(function(l){return l.map(function(m,o){return[c.call(j,m,o),b.call(j,m,o)]})}),x=h.call(j,r,u);k=a8.permute(k,x),r=a8.permute(r,x);var n,q,a,t=g.call(j,r,u),i=k.length,w=k[0].length;for(q=0;w>q;++q){for(d.call(j,k[0][q],a=t[q],r[0][q][1]),n=1;i>n;++n){d.call(j,k[n][q],a+=r[n-1][q][1],r[n][q][1])}}return e}var f=bT,h=dx,g=hL,d=jf,c=fz,b=bn;return j.values=function(a){return arguments.length?(f=a,j):f},j.order=function(a){return arguments.length?(h="function"==typeof a?a:ek.get(a)||dx,j):h},j.offset=function(a){return arguments.length?(g="function"==typeof a?a:a6.get(a)||hL,j):g},j.x=function(a){return arguments.length?(c=a,j):c},j.y=function(a){return arguments.length?(b=a,j):b},j.out=function(a){return arguments.length?(d=a,j):d},j};var ek=a8.map({"inside-out":function(g){var v,m,b=g.length,j=g.map(eD),s=g.map(gx),q=a8.range(b).sort(function(c,a){return j[c]-j[a]}),d=0,p=0,h=[],k=[];for(v=0;b>v;++v){m=q[v],p>d?(d+=s[m],h.push(m)):(p+=s[m],k.push(m))}return k.reverse().concat(h)},reverse:function(a){return a8.range(a.length).reverse()},"default":dx}),a6=a8.map({silhouette:function(f){var m,h,b,g=f.length,l=f[0].length,k=[],d=0,j=[];for(h=0;l>h;++h){for(m=0,b=0;g>m;m++){b+=f[m][h][1]}b>d&&(d=b),k.push(b)}for(h=0;l>h;++h){j[h]=(d-k[h])/2}return j},wiggle:function(j){var A,w,b,m,z,y,d,x,k,v=j.length,B=j[0],p=B.length,q=[];for(q[0]=x=k=0,w=1;p>w;++w){for(A=0,m=0;v>A;++A){m+=j[A][w][1]}for(A=0,z=0,d=B[w][0]-B[w-1][0];v>A;++A){for(b=0,y=(j[A][w][1]-j[A][w-1][1])/(2*d);A>b;++b){y+=(j[b][w][1]-j[b][w-1][1])/d}z+=y*j[A][w][1]}q[w]=x-=m?z/m*d:0,k>x&&(k=x)}for(w=0;p>w;++w){q[w]-=k}return q},expand:function(k){var f,h,g,d=k.length,c=k[0].length,b=1/d,j=[];for(h=0;c>h;++h){for(f=0,g=0;d>f;f++){g+=k[f][h][1]}if(g){for(f=0;d>f;f++){k[f][h][1]/=g}}else{for(f=0;d>f;f++){k[f][h][1]=b}}}for(h=0;c>h;++h){j[h]=0}return j},zero:hL});a8.layout.histogram=function(){function f(j,w){for(var v,i,t=[],k=j.map(d,this),r=c.call(this,k,w),x=a.call(this,r,k,w),w=-1,m=k.length,q=x.length-1,e=b?1:1/m;++w<q;){v=t[w]=[],v.dx=x[w+1]-(v.x=x[w]),v.y=0}if(q>0){for(w=-1;++w<m;){i=k[w],i>=r[0]&&i<=r[1]&&(v=t[a8.bisect(x,i,1,q)-1],v.y+=e,v.push(j[w]))}}return t}var b=!0,d=Number,c=c7,a=fQ;return f.value=function(e){return arguments.length?(d=e,f):d},f.range=function(e){return arguments.length?(c=gm(e),f):c},f.bins=function(e){return arguments.length?(a="number"==typeof e?function(g){return f7(g,e)}:gm(e),f):a},f.frequency=function(g){return arguments.length?(b=!!g,f):b},f},a8.layout.tree=function(){function f(j,z){function y(B,I){var m=B.children,D=B._tree;if(m&&(H=m.length)){for(var H,p,C,G=m[0],J=G,E=-1;++E<H;){C=m[E],y(C,p),J=x(C,p,J),p=C}aM(B);var F=0.5*(G._tree.prelim+C._tree.prelim);I?(D.prelim=I._tree.prelim+d(B,I),D.mod=D.prelim-F):D.prelim=F}else{I&&(D.prelim=I._tree.prelim+d(B,I))}}function i(o,h){o.x=o._tree.prelim+h;var m=o.children;if(m&&(l=m.length)){var l,g=-1;for(h+=o._tree.mod;++g<l;){i(m[g],h)}}}function x(p,I,g){if(I){for(var C,H=p,G=p,m=I,F=p.parent.children[0],B=H._tree.mod,E=G._tree.mod,J=m._tree.mod,D=F._tree.mod;m=a2(m),H=eg(H),m&&H;){F=eg(F),G=a2(G),G._tree.ancestor=p,C=m._tree.prelim+J-H._tree.prelim-B+d(m,H),C>0&&(eI(aU(m,p,g),p,C),B+=C,E+=C),J+=m._tree.mod,B+=H._tree.mod,D+=F._tree.mod,E+=G._tree.mod}m&&!a2(G)&&(G._tree.thread=m,G._tree.mod+=J-E),H&&!eg(F)&&(F._tree.thread=H,F._tree.mod+=B-D,g=p)}return g}var q=b.call(this,j,z),v=q[0];az(v,function(h,g){h._tree={ancestor:h,prelim:0,mod:0,change:0,shift:0,number:g?g._tree.number+1:0}}),y(v),i(v,-v._tree.prelim);var A=jy(v,am),r=jy(v,gC),t=jy(v,iD),e=A.x-d(A,r)/2,w=r.x+d(r,A)/2,k=t.depth||1;return az(v,a?function(g){g.x*=c[0],g.y=g.depth*c[1],delete g._tree}:function(g){g.x=(g.x-e)/(w-e)*c[0],g.y=g.depth/k*c[1],delete g._tree}),q}var b=a8.layout.hierarchy().sort(null).value(null),d=g4,c=[1,1],a=!1;return f.separation=function(e){return arguments.length?(d=e,f):d},f.size=function(e){return arguments.length?(a=null==(c=e),f):a?null:c},f.nodeSize=function(e){return arguments.length?(a=null!=(c=e),f):a?c:null},e8(f,b)},a8.layout.pack=function(){function f(p,h){var g=d.call(this,p,h),k=g[0],m=a[0],e=a[1],j=b||Math.sqrt;if(k.x=k.y=0,az(k,function(l){l.r=j(l.value)}),az(k,en),c){var i=c*(b?1:Math.max(2*k.r/m,2*k.r/e))/2;az(k,function(l){l.r+=i}),az(k,en),az(k,function(l){l.r-=i})}return bb(k,m/2,e/2,b?1:1/Math.max(2*k.r/m,2*k.r/e)),g}var b,d=a8.layout.hierarchy().sort(eT),c=0,a=[1,1];return f.size=function(e){return arguments.length?(a=e,f):a},f.radius=function(g){return arguments.length?(b=g,f):b},f.padding=function(e){return arguments.length?(c=+e,f):c},e8(f,d)},a8.layout.cluster=function(){function f(i,t){var r,e=b.call(this,i,t),q=e[0],j=0;az(q,function(h){var g=h.children;g&&g.length?(h.x=jm(g),h.y=gT(g)):(h.x=r?j+=d(h,r):0,h.y=0,r=h)});var p=aE(q),v=fE(q),k=p.x-d(p,v)/2,m=v.x+d(v,p)/2;return az(q,a?function(g){g.x=(g.x-q.x)*c[0],g.y=(q.y-g.y)*c[1]}:function(g){g.x=(g.x-k)/(m-k)*c[0],g.y=(1-(q.y?g.y/q.y:1))*c[1]}),e}var b=a8.layout.hierarchy().sort(null).value(null),d=g4,c=[1,1],a=!1;return f.separation=function(e){return arguments.length?(d=e,f):d},f.size=function(e){return arguments.length?(a=null==(c=e),f):a?null:c},f.nodeSize=function(e){return arguments.length?(a=null!=(c=e),f):a?c:null},e8(f,b)},a8.layout.treemap=function(){function k(l,f){for(var h,g,c=-1,a=l.length;++c<a;){g=(h=l[c]).value*(0>f?0:f),h.area=isNaN(g)||0>=g?0:g}}function C(t){var H=t.children;if(H&&H.length){var G,i,F,n=D(t),s=[],r=H.slice(),g=1/0,E="slice"===w?n.dx:"dice"===w?n.dy:"slice-dice"===w?1&t.depth?n.dy:n.dx:Math.min(n.dx,n.dy);for(k(r,n.dx*n.dy/t.value),s.area=0;(F=r.length)>0;){s.push(G=r[F-1]),s.area+=G.area,"squarify"!==w||(i=b(s,E))<=g?(r.pop(),g=i):(s.area-=s.pop().area,q(s,E,n,!1),E=Math.min(n.dx,n.dy),s.length=s.area=0,g=1/0)}s.length&&(q(s,E,n,!0),s.length=s.area=0),H.forEach(C)}}function y(g){var h=g.children;if(h&&h.length){var f,e=D(g),i=h.slice(),l=[];for(k(i,e.dx*e.dy/g.value),l.area=0;f=i.pop();){l.push(f),l.area+=f.area,null!=f.z&&(q(l,f.z?e.dx:e.dy,e,!i.length),l.length=l.area=0)}h.forEach(y)}}function b(E,h){for(var p,l=E.area,g=0,f=1/0,c=-1,s=E.length;++c<s;){(p=E[c].area)&&(f>p&&(f=p),p>g&&(g=p))}return l*=l,h*=h,l?Math.max(h*g*d/l,l/(h*f*d)):1/0}function q(h,I,F,c){var s,H=-1,G=h.length,g=F.x,p=F.y,E=I?z(h.area/I):0;if(I==F.dx){for((c||E>F.dy)&&(E=F.dy);++H<G;){s=h[H],s.x=g,s.y=p,s.dy=E,g+=s.dx=Math.min(F.x+F.dx-g,E?z(s.area/E):0)}s.z=!0,s.dx+=F.x+F.dx-g,F.y+=E,F.dy-=E}else{for((c||E>F.dx)&&(E=F.dx);++H<G;){s=h[H],s.x=g,s.y=p,s.dx=E,p+=s.dy=Math.min(F.y+F.dy-p,E?z(s.area/E):0)}s.z=!1,s.dy+=F.y+F.dy-p,F.x+=E,F.dx-=E}}function B(e){var c=A||j(e),a=c[0];return a.x=0,a.y=0,a.dx=m[0],a.dy=m[1],A&&j.revalue(a),k([a],a.dx*a.dy/a.value),(A?y:C)(a),v&&(A=c),c}var A,j=a8.layout.hierarchy(),z=Math.round,m=[1,1],x=null,D=fV,v=!1,w="squarify",d=0.5*(1+Math.sqrt(5));return B.size=function(a){return arguments.length?(m=a,B):m},B.padding=function(g){function a(h){var i=g.call(B,h,h.depth);return null==i?fV(h):eY(h,"number"==typeof i?[i,i,i,i]:i)}function f(e){return eY(e,g)}if(!arguments.length){return x}var c;return D=null==(x=g)?fV:"function"==(c=typeof g)?a:"number"===c?(g=[g,g,g,g],f):f,B},B.round=function(a){return arguments.length?(z=a?Math.round:Number,B):z!=Number},B.sticky=function(a){return arguments.length?(v=a,A=null,B):v},B.ratio=function(a){return arguments.length?(d=a,B):d},B.mode=function(a){return arguments.length?(w=a+"",B):w},e8(B,j)},a8.random={normal:function(c,a){var b=arguments.length;return 2>b&&(a=1),1>b&&(c=0),function(){var g,f,d;do{g=2*Math.random()-1,f=2*Math.random()-1,d=g*g+f*f}while(!d||d>1);return c+a*g*Math.sqrt(-2*Math.log(d)/d)}},logNormal:function(){var a=a8.random.normal.apply(a8,arguments);return function(){return Math.exp(a())}},irwinHall:function(a){return function(){for(var b=0,c=0;a>c;c++){b+=Math.random()}return b/a}}},a8.scale={};var jC={floor:bT,ceil:bT};a8.scale.linear=function(){return bQ([0,1],[0,1],aJ,!1)},a8.scale.log=function(){return dK(a8.scale.linear().domain([0,Math.LN10]),10,bA,gG,[1,10])};var gE=a8.format(".0e");a8.scale.pow=function(){return bd(a8.scale.linear(),1,[0,1])},a8.scale.sqrt=function(){return a8.scale.pow().exponent(0.5)},a8.scale.ordinal=function(){return dk([],{t:"range",a:[[]]})},a8.scale.category10=function(){return a8.scale.ordinal().range(aw)},a8.scale.category20=function(){return a8.scale.ordinal().range(iL)},a8.scale.category20b=function(){return a8.scale.ordinal().range(aC)},a8.scale.category20c=function(){return a8.scale.ordinal().range(aQ)};var aw=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],iL=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],aC=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],aQ=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];a8.scale.quantile=function(){return hn([],[])},a8.scale.quantize=function(){return ev(0,1,[0,1])},a8.scale.threshold=function(){return gk([0.5],[0,1])},a8.scale.identity=function(){return bR([0,1])},a8.svg.arc=function(){function f(){var i=b.apply(this,arguments),t=d.apply(this,arguments),r=c.apply(this,arguments)+eK,e=a.apply(this,arguments)+eK,q=(r>e&&(q=r,r=e,e=q),e-r),j=bW>q?"0":"1",p=Math.cos(r),v=Math.sin(r),k=Math.cos(e),m=Math.sin(e);return q>=aY?i?"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"M0,"+i+"A"+i+","+i+" 0 1,0 0,"+-i+"A"+i+","+i+" 0 1,0 0,"+i+"Z":"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z":i?"M"+t*p+","+t*v+"A"+t+","+t+" 0 "+j+",1 "+t*k+","+t*m+"L"+i*k+","+i*m+"A"+i+","+i+" 0 "+j+",0 "+i*p+","+i*v+"Z":"M"+t*p+","+t*v+"A"+t+","+t+" 0 "+j+",1 "+t*k+","+t*m+"L0,0Z"}var b=fI,d=fZ,c=cZ,a=gX;return f.innerRadius=function(g){return arguments.length?(b=gm(g),f):b},f.outerRadius=function(e){return arguments.length?(d=gm(e),f):d},f.startAngle=function(e){return arguments.length?(c=gm(e),f):c},f.endAngle=function(e){return arguments.length?(a=gm(e),f):a},f.centroid=function(){var g=(b.apply(this,arguments)+d.apply(this,arguments))/2,e=(c.apply(this,arguments)+a.apply(this,arguments))/2+eK;return[Math.cos(e)*g,Math.sin(e)*g]},f};var eK=-bW/2,aY=2*bW-0.000001;a8.svg.line.radial=function(){var a=aG(d6);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a},iU.reverse=dE,dE.reverse=iU,a8.svg.area=function(){return aV(bT)},a8.svg.area.radial=function(){var a=aV(d6);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a},a8.svg.chord=function(){function f(r,e){var i=q(this,p,r,e),a=q(this,m,r,e);return"M"+i.p0+b(i.r,i.p1,i.a1-i.a0)+(j(i,a)?h(i.r,i.p1,i.r,i.p0):h(i.r,i.p1,a.r,a.p0)+b(a.r,a.p1,a.a1-a.a0)+h(a.r,a.p1,i.r,i.p0))+"Z"}function q(y,s,x,v){var o=s.call(y,x,v),l=d.call(y,o,v),c=k.call(y,o,v)+eK,w=g.call(y,o,v)+eK;return{r:l,a0:c,a1:w,p0:[l*Math.cos(c),l*Math.sin(c)],p1:[l*Math.cos(w),l*Math.sin(w)]}}function j(c,a){return c.a0==a.a0&&c.a1==a.a1}function b(i,a,c){return"A"+i+","+i+" 0 "+ +(c>bW)+",1 "+a}function h(l,a,i,c){return"Q 0,0 "+c}var p=cm,m=gg,d=jn,k=cZ,g=gX;return f.radius=function(a){return arguments.length?(d=gm(a),f):d},f.source=function(a){return arguments.length?(p=gm(a),f):p},f.target=function(a){return arguments.length?(m=gm(a),f):m},f.startAngle=function(a){return arguments.length?(k=gm(a),f):k},f.endAngle=function(a){return arguments.length?(g=gm(a),f):g},f},a8.svg.diagonal=function(){function d(k,g){var f=a.call(this,k,g),e=c.call(this,k,g),h=(f.y+e.y)/2,j=[f,{x:f.x,y:h},{x:e.x,y:h},e];return j=j.map(b),"M"+j[0]+"C"+j[1]+" "+j[2]+" "+j[3]}var a=cm,c=gg,b=gq;return d.source=function(f){return arguments.length?(a=gm(f),d):a},d.target=function(e){return arguments.length?(c=gm(e),d):c},d.projection=function(e){return arguments.length?(b=e,d):b},d},a8.svg.diagonal.radial=function(){var c=a8.svg.diagonal(),a=gq,b=c.projection;return c.projection=function(d){return arguments.length?b(jH(a=d)):a},c},a8.svg.symbol=function(){function c(e,d){return(eW.get(a.call(this,e,d))||aF)(b.call(this,e,d))}var a=ah,b=h7;return c.type=function(d){return arguments.length?(a=gm(d),c):a},c.size=function(d){return arguments.length?(b=gm(d),c):b},c};var eW=a8.map({circle:aF,cross:function(b){var a=Math.sqrt(b/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(c){var a=Math.sqrt(c/(2*cT)),b=a*cT;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(b){var a=Math.sqrt(b)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(c){var a=Math.sqrt(c/gh),b=a*gh/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(c){var a=Math.sqrt(c/gh),b=a*gh/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});a8.svg.symbolTypes=eW.keys();var cp,gh=Math.sqrt(3),cT=Math.tan(30*h3),eq=[],bD=0,i9={ease:bw,delay:0,duration:250};eq.call=jw.call,eq.empty=jw.empty,eq.node=jw.node,eq.size=jw.size,a8.transition=function(a){return arguments.length?cp?a.transition():a:fY.transition()},a8.transition.prototype=eq,eq.select=function(g){var v,m,b,j=this.id,s=[];"function"!=typeof g&&(g=hm(g));for(var q=-1,d=this.length;++q<d;){s.push(v=[]);for(var p=this[q],h=-1,k=p.length;++h<k;){(b=p[h])&&(m=g.call(b,b.__data__,h))?("__data__" in b&&(m.__data__=b.__data__),b4(m,h,j,b.__transition__[j]),v.push(m)):v.push(null)}}return ez(s,j)},eq.selectAll=function(k){var C,y,b,q,B,A=this.id,j=[];"function"!=typeof k&&(k=hh(k));for(var z=-1,m=this.length;++z<m;){for(var x=this[z],D=-1,v=x.length;++D<v;){if(b=x[D]){B=b.__transition__[A],y=k.call(b,b.__data__,D),j.push(C=[]);for(var w=-1,d=y.length;++w<d;){(q=y[w])&&b4(q,w,A,B),C.push(q)}}}}return ez(j,A)},eq.filter=function(f){var m,h,b,g=[];"function"!=typeof f&&(f=iS(f));for(var l=0,k=this.length;k>l;l++){g.push(m=[]);for(var h=this[l],d=0,j=h.length;j>d;d++){(b=h[d])&&f.call(b,b.__data__,d)&&m.push(b)}}return ez(g,this.id,this.time).ease(this.ease())},eq.tween=function(c,a){var b=this.id;return arguments.length<2?this.node().__transition__[b].tween.get(c):hy(this,null==a?function(d){d.__transition__[b].tween.remove(c)}:function(d){d.__transition__[b].tween.set(c,a)})},eq.attr=function(k,f){function h(){this.removeAttribute(j)}function g(){this.removeAttributeNS(j.space,j.local)}function d(a){return null==a?h:(a+="",function(){var i,l=this.getAttribute(j);return l!==a&&(i=b(l,a),function(e){this.setAttribute(j,i(e))})})}function c(a){return null==a?g:(a+="",function(){var i,l=this.getAttributeNS(j.space,j.local);return l!==a&&(i=b(l,a),function(e){this.setAttributeNS(j.space,j.local,i(e))})})}if(arguments.length<2){for(f in k){this.attr(f,k[f])}return this}var b=eC(k),j=a8.ns.qualify(k);return aN(this,"attr."+k,f,j.local?c:d)},eq.attrTween=function(f,b){function d(i,h){var g=b.call(this,i,h,this.getAttribute(a));return g&&function(e){this.setAttribute(a,g(e))}}function c(i,h){var g=b.call(this,i,h,this.getAttributeNS(a.space,a.local));return g&&function(e){this.setAttributeNS(a.space,a.local,g(e))}}var a=a8.ns.qualify(f);return this.tween("attr."+f,a.local?c:d)},eq.style=function(j,f,h){function g(){this.style.removeProperty(j)}function d(a){return null==a?g:(a+="",function(){var k,e=ay.getComputedStyle(this,null).getPropertyValue(j);return e!==a&&(k=b(e,a),function(i){this.style.setProperty(j,k(i),h)})})}var c=arguments.length;if(3>c){if("string"!=typeof j){2>c&&(f="");for(h in j){this.style(h,j[h],f)}return this}h=""}var b=eC(j);return aN(this,"style."+j,f,d)},eq.styleTween=function(d,a,c){function b(g,f){var e=a.call(this,g,f,ay.getComputedStyle(this,null).getPropertyValue(d));return e&&function(h){this.style.setProperty(d,e(h),c)}}return arguments.length<3&&(c=""),this.tween("style."+d,b)},eq.text=function(a){return aN(this,"text",a,eM)},eq.remove=function(){return this.each("end.transition",function(){var a;!this.__transition__&&(a=this.parentNode)&&a.removeChild(this)})},eq.ease=function(b){var a=this.id;return arguments.length<1?this.node().__transition__[a].ease:("function"!=typeof b&&(b=a8.ease.apply(a8,arguments)),hy(this,function(c){c.__transition__[a].ease=b}))},eq.delay=function(b){var a=this.id;return hy(this,"function"==typeof b?function(f,d,c){f.__transition__[a].delay=0|b.call(f,f.__data__,d,c)}:(b|=0,function(c){c.__transition__[a].delay=b}))},eq.duration=function(b){var a=this.id;return hy(this,"function"==typeof b?function(f,d,c){f.__transition__[a].duration=Math.max(1,0|b.call(f,f.__data__,d,c))}:(b=Math.max(1,0|b),function(c){c.__transition__[a].duration=b}))},eq.each=function(f,b){var d=this.id;if(arguments.length<2){var c=i9,a=cp;cp=d,hy(this,function(g,h,e){i9=g.__transition__[d],f.call(g,g.__data__,h,e)}),i9=c,cp=a}else{hy(this,function(e){e.__transition__[d].event.on(f,b)})}return this},eq.transition=function(){for(var g,v,m,b,j=this.id,s=++bD,q=[],d=0,p=this.length;p>d;d++){q.push(g=[]);for(var v=this[d],h=0,k=v.length;k>h;h++){(m=v[h])&&(b=Object.create(m.__transition__[j]),b.delay+=b.duration,b4(m,h,s,b)),g.push(m)}}return ez(q,s)},a8.svg.axis=function(){function g(a){a.each(function(){var L,G=a8.select(this),R=null==h?m.ticks?m.ticks.apply(m,p):m.domain():h,U=null==v?m.tickFormat?m.tickFormat.apply(m,p):String:v,K=eb(m,R,k),V=G.selectAll(".tick.minor").data(K,String),O=V.enter().insert("line",".tick").attr("class","tick minor").style("opacity",0.000001),u=a8.transition(V.exit()).style("opacity",0.000001).remove(),o=a8.transition(V).style("opacity",1),i=G.selectAll(".tick.major").data(R,String),r=i.enter().insert("g",".domain").attr("class","tick major").style("opacity",0.000001),W=a8.transition(i.exit()).style("opacity",0.000001).remove(),X=a8.transition(i).style("opacity",1),t=d1(m),e=G.selectAll(".domain").data([0]),B=(e.enter().append("path").attr("class","domain"),a8.transition(e)),P=m.copy(),J=this.__chart__||P;this.__chart__=P,r.append("line"),r.append("text");var f=r.select("line"),I=X.select("line"),c=i.select("text").text(U),H=r.select("text"),l=X.select("text");switch(b){case"bottom":L=f3,O.attr("y2",s),o.attr("x2",0).attr("y2",s),f.attr("y2",j),H.attr("y",Math.max(j,0)+d),I.attr("x2",0).attr("y2",j),l.attr("x",0).attr("y",Math.max(j,0)+d),c.attr("dy",".71em").style("text-anchor","middle"),B.attr("d","M"+t[0]+","+q+"V0H"+t[1]+"V"+q);break;case"top":L=f3,O.attr("y2",-s),o.attr("x2",0).attr("y2",-s),f.attr("y2",-j),H.attr("y",-(Math.max(j,0)+d)),I.attr("x2",0).attr("y2",-j),l.attr("x",0).attr("y",-(Math.max(j,0)+d)),c.attr("dy","0em").style("text-anchor","middle"),B.attr("d","M"+t[0]+","+-q+"V0H"+t[1]+"V"+-q);break;case"left":L=cJ,O.attr("x2",-s),o.attr("x2",-s).attr("y2",0),f.attr("x2",-j),H.attr("x",-(Math.max(j,0)+d)),I.attr("x2",-j).attr("y2",0),l.attr("x",-(Math.max(j,0)+d)).attr("y",0),c.attr("dy",".32em").style("text-anchor","end"),B.attr("d","M"+-q+","+t[0]+"H0V"+t[1]+"H"+-q);break;case"right":L=cJ,O.attr("x2",s),o.attr("x2",s).attr("y2",0),f.attr("x2",j),H.attr("x",Math.max(j,0)+d),I.attr("x2",j).attr("y2",0),l.attr("x",Math.max(j,0)+d).attr("y",0),c.attr("dy",".32em").style("text-anchor","start"),B.attr("d","M"+q+","+t[0]+"H0V"+t[1]+"H"+q)}if(m.ticks){r.call(L,J),X.call(L,P),W.call(L,P),O.call(L,J),o.call(L,P),u.call(L,P)}else{var F=P.rangeBand()/2,Q=function(w){return P(w)+F};r.call(L,Q),X.call(L,Q)}})}var v,m=a8.scale.linear(),b=bh,j=6,s=6,q=6,d=3,p=[10],h=null,k=0;return g.scale=function(a){return arguments.length?(m=a,g):m},g.orient=function(a){return arguments.length?(b=a in ff?a+"":bh,g):b},g.ticks=function(){return arguments.length?(p=arguments,g):p},g.tickValues=function(a){return arguments.length?(h=a,g):h},g.tickFormat=function(a){return arguments.length?(v=a,g):v},g.tickSize=function(a,f){if(!arguments.length){return j}var c=arguments.length-1;return j=+a,s=c>1?+f:j,q=c>0?+arguments[c]:j,g},g.tickPadding=function(a){return arguments.length?(d=+a,g):d},g.tickSubdivide=function(a){return arguments.length?(k=+a,g):k},g};var bh="bottom",ff={top:1,right:1,bottom:1,left:1};a8.svg.brush=function(){function g(a){a.each(function(){var e,c=a8.select(this),n=c.selectAll(".background").data([0]),l=c.selectAll(".extent").data([0]),i=c.selectAll(".resize").data(h,String);c.style("pointer-events","all").on("mousedown.brush",j).on("touchstart.brush",j),n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),l.enter().append("rect").attr("class","extent").style("cursor","move"),i.enter().append("g").attr("class",function(f){return"resize "+f}).style("cursor",function(f){return gV[f]}).append("rect").attr("x",function(f){return/[ew]$/.test(f)?-3:null}).attr("y",function(f){return/^[ns]/.test(f)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),i.style("display",g.empty()?"none":null),i.exit().remove(),d&&(e=d1(d),n.attr("x",e[0]).attr("width",e[1]-e[0]),m(c)),p&&(e=d1(p),n.attr("y",e[0]).attr("height",e[1]-e[0]),b(c)),w(c)})}function w(a){a.selectAll(".resize").attr("transform",function(c){return"translate("+k[+/e$/.test(c)][0]+","+k[+/^s/.test(c)][1]+")"})}function m(a){a.select(".extent").attr("x",k[0][0]),a.selectAll(".extent,.n>rect,.s>rect").attr("width",k[1][0]-k[0][0])}function b(a){a.select(".extent").attr("y",k[0][1]),a.selectAll(".extent,.e>rect,.w>rect").attr("height",k[1][1]-k[0][1])}function j(){function I(){var i=a8.event.changedTouches;return i?a8.touches(f,i)[0]:a8.mouse(f)}function G(){32==a8.event.keyCode&&(H||(s=null,e[0]-=k[1][0],e[1]-=k[1][1],H=2),hP())}function J(){32==a8.event.keyCode&&2==H&&(e[0]+=k[1][0],e[1]+=k[1][1],H=0,hP())}function D(){var l=I(),i=!1;n&&(l[0]+=n[0],l[1]+=n[1]),H||(a8.event.altKey?(s||(s=[(k[0][0]+k[1][0])/2,(k[0][1]+k[1][1])/2]),e[0]=k[+(l[0]<s[0])][0],e[1]=k[+(l[1]<s[1])][1]):s=null),c&&K(l,d,0)&&(m(O),i=!0),t&&K(l,p,1)&&(b(O),i=!0),i&&(w(O),L({type:"brush",mode:H?"move":"resize"}))}function K(C,S,P){var y,M,R=d1(S),A=R[0],Q=R[1],E=e[P],N=k[1][P]-k[0][P];return H&&(A-=E,Q-=N+E),y=x[P]?Math.max(A,Math.min(Q,C[P])):C[P],H?M=(y+=E)+N:(s&&(E=Math.max(A,Math.min(Q,2*s[P]-y))),y>E?(M=y,y=E):M=E),k[0][P]!==y||k[1][P]!==M?(v=null,k[0][P]=y,k[1][P]=M,!0):void 0}function F(){D(),O.style("pointer-events","all").selectAll(".resize").style("display",g.empty()?"none":null),a8.select("body").style("cursor",null),z.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),B(),L({type:"brushend"})}var s,n,f=this,o=a8.select(a8.event.target),L=q.of(f,arguments),O=a8.select(f),r=o.datum(),c=!/^(n|s)$/.test(r)&&d,t=!/^(e|w)$/.test(r)&&p,H=o.classed("extent"),B=hK("brush"),e=I(),z=a8.select(ay).on("keydown.brush",G).on("keyup.brush",J);if(a8.event.changedTouches?z.on("touchmove.brush",D).on("touchend.brush",F):z.on("mousemove.brush",D).on("mouseup.brush",F),H){e[0]=k[0][0]-e[0],e[1]=k[0][1]-e[1]}else{if(r){var a=+/w$/.test(r),u=+/^n/.test(r);n=[k[1-a][0]-e[0],k[1-u][1]-e[1]],e[0]=k[a][0],e[1]=k[u][1]}else{a8.event.altKey&&(s=e.slice())}}O.style("pointer-events","none").selectAll(".resize").style("display",null),a8.select("body").style("cursor",o.style("cursor")),L({type:"brushstart"}),D()}var v,q=hU(g,"brushstart","brush","brushend"),d=null,p=null,h=js[0],k=[[0,0],[0,0]],x=[!0,!0];return g.x=function(a){return arguments.length?(d=a,h=js[!d<<1|!p],g):d},g.y=function(a){return arguments.length?(p=a,h=js[!d<<1|!p],g):p},g.clamp=function(a){return arguments.length?(d&&p?x=[!!a[0],!!a[1]]:(d||p)&&(x[+!d]=!!a),g):d&&p?x:d||p?x[+!d]:null},g.extent=function(o){var u,s,n,f,c;return arguments.length?(v=[[0,0],[0,0]],d&&(u=o[0],s=o[1],p&&(u=u[0],s=s[0]),v[0][0]=u,v[1][0]=s,d.invert&&(u=d(u),s=d(s)),u>s&&(c=u,u=s,s=c),k[0][0]=0|u,k[1][0]=0|s),p&&(n=o[0],f=o[1],d&&(n=n[1],f=f[1]),v[0][1]=n,v[1][1]=f,p.invert&&(n=p(n),f=p(f)),n>f&&(c=n,n=f,f=c),k[0][1]=0|n,k[1][1]=0|f),g):(o=v||k,d&&(u=o[0][0],s=o[1][0],v||(u=k[0][0],s=k[1][0],d.invert&&(u=d.invert(u),s=d.invert(s)),u>s&&(c=u,u=s,s=c))),p&&(n=o[0][1],f=o[1][1],v||(n=k[0][1],f=k[1][1],p.invert&&(n=p.invert(n),f=p.invert(f)),n>f&&(c=n,n=f,f=c))),d&&p?[[u,n],[s,f]]:d?[u,s]:p&&[n,f])},g.clear=function(){return v=null,k[0][0]=k[0][1]=k[1][0]=k[1][1]=0,g},g.empty=function(){return d&&k[0][0]===k[1][0]||p&&k[0][1]===k[1][1]},a8.rebind(g,q,"on")};var gV={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},js=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];a8.time={};var aI=Date,fG=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];bp.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){fX.setUTCDate.apply(this._,arguments)},setDay:function(){fX.setUTCDay.apply(this._,arguments)},setFullYear:function(){fX.setUTCFullYear.apply(this._,arguments)},setHours:function(){fX.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){fX.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){fX.setUTCMinutes.apply(this._,arguments)},setMonth:function(){fX.setUTCMonth.apply(this._,arguments)},setSeconds:function(){fX.setUTCSeconds.apply(this._,arguments)},setTime:function(){fX.setTime.apply(this._,arguments)}};var fX=Date.prototype,e0="%a %b %e %X %Y",cH="%m/%d/%Y",d4="%H:%M:%S",iW=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dG=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],cX=["January","February","March","April","May","June","July","August","September","October","November","December"],cg=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];a8.time.year=iT(function(a){return a=a8.time.day(a),a.setMonth(0,1),a},function(b,a){b.setFullYear(b.getFullYear()+a)},function(a){return a.getFullYear()}),a8.time.years=a8.time.year.range,a8.time.years.utc=a8.time.year.utc.range,a8.time.day=iT(function(b){var a=new aI(2000,0);return a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),a},function(b,a){b.setDate(b.getDate()+a)},function(a){return a.getDate()-1}),a8.time.days=a8.time.day.range,a8.time.days.utc=a8.time.day.utc.range,a8.time.dayOfYear=function(b){var a=a8.time.year(b);return Math.floor((b-a-60000*(b.getTimezoneOffset()-a.getTimezoneOffset()))/86400000)},fG.forEach(function(c,a){c=c.toLowerCase(),a=7-a;var b=a8.time[c]=iT(function(d){return(d=a8.time.day(d)).setDate(d.getDate()-(d.getDay()+a)%7),d},function(e,d){e.setDate(e.getDate()+7*Math.floor(d))},function(f){var d=a8.time.year(f).getDay();return Math.floor((a8.time.dayOfYear(f)+(d+a)%7)/7)-(d!==a)});a8.time[c+"s"]=b.range,a8.time[c+"s"].utc=b.utc.range,a8.time[c+"OfYear"]=function(f){var d=a8.time.year(f).getDay();return Math.floor((a8.time.dayOfYear(f)+(d+a)%7)/7)}}),a8.time.week=a8.time.sunday,a8.time.weeks=a8.time.sunday.range,a8.time.weeks.utc=a8.time.sunday.utc.range,a8.time.weekOfYear=a8.time.sundayOfYear,a8.time.format=function(c){function a(g){for(var h,f,e,d=[],j=-1,k=0;++j<b;){37===c.charCodeAt(j)&&(d.push(c.substring(k,j)),null!=(f=gL[h=c.charAt(++j)])&&(h=c.charAt(++j)),(e=cx[h])&&(h=e(g,null==f?"e"===h?" ":"0":f)),d.push(h),k=j+1)}return d.push(c.substring(k,j)),d.join("")}var b=c.length;return a.parse=function(f){var h={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},g=e2(h,c,f,0);if(g!=f.length){return null}"p" in h&&(h.H=h.H%12+12*h.p);var d=new aI;return"j" in h?d.setFullYear(h.y,0,h.j):"w" in h&&("W" in h||"U" in h)?(d.setFullYear(h.y,0,1),d.setFullYear(h.y,0,"W" in h?(h.w+6)%7+7*h.W-(d.getDay()+5)%7:h.w+7*h.U-(d.getDay()+6)%7)):d.setFullYear(h.y,h.m,h.d),d.setHours(h.H,h.M,h.S,h.L),d},a.toString=function(){return c},a};var bU=gK(iW),dT=i5(iW),dh=gK(dG),h2=i5(dG),ab=gK(cX),hd=i5(cX),fk=gK(cg),dQ=i5(cg),bH=/^%/,gL={"-":"",_:" ",0:"0"},cx={a:function(a){return dG[a.getDay()]},A:function(a){return iW[a.getDay()]},b:function(a){return cg[a.getMonth()]},B:function(a){return cX[a.getMonth()]},c:a8.time.format(e0),d:function(b,a){return ap(b.getDate(),a,2)},e:function(b,a){return ap(b.getDate(),a,2)},H:function(b,a){return ap(b.getHours(),a,2)},I:function(b,a){return ap(b.getHours()%12||12,a,2)},j:function(b,a){return ap(1+a8.time.dayOfYear(b),a,3)},L:function(b,a){return ap(b.getMilliseconds(),a,3)},m:function(b,a){return ap(b.getMonth()+1,a,2)},M:function(b,a){return ap(b.getMinutes(),a,2)},p:function(a){return a.getHours()>=12?"PM":"AM"},S:function(b,a){return ap(b.getSeconds(),a,2)},U:function(b,a){return ap(a8.time.sundayOfYear(b),a,2)},w:function(a){return a.getDay()},W:function(b,a){return ap(a8.time.mondayOfYear(b),a,2)},x:a8.time.format(cH),X:a8.time.format(d4),y:function(b,a){return ap(b.getFullYear()%100,a,2)},Y:function(b,a){return ap(b.getFullYear()%10000,a,4)},Z:bx,"%":function(){return"%"}},fw={a:fv,A:fM,b:iv,B:dq,c:cN,d:g0,e:g0,H:d0,I:d0,j:e6,L:cE,m:jz,M:bO,p:fD,S:gS,U:cw,w:eQ,W:dP,x:bY,X:bJ,y:c3,Y:dD,"%":jk},bm=/^\s*\d+/,i7=a8.map({am:0,pm:1});a8.time.format.utc=function(c){function a(e){try{aI=bp;var d=new aI;return d._=e,b(d)}finally{aI=Date}}var b=a8.time.format(c);return a.parse=function(e){try{aI=bp;var d=b.parse(e);return d&&d._}finally{aI=Date}},a.toString=b.toString,a};var ds=a8.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");a8.time.format.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?dB:ds,dB.parse=function(b){var a=new Date(b);return isNaN(a)?null:a},dB.toString=ds.toString,a8.time.second=iT(function(a){return new aI(1000*Math.floor(a/1000))},function(b,a){b.setTime(b.getTime()+1000*Math.floor(a))},function(a){return a.getSeconds()}),a8.time.seconds=a8.time.second.range,a8.time.seconds.utc=a8.time.second.utc.range,a8.time.minute=iT(function(a){return new aI(60000*Math.floor(a/60000))},function(b,a){b.setTime(b.getTime()+60000*Math.floor(a))},function(a){return a.getMinutes()}),a8.time.minutes=a8.time.minute.range,a8.time.minutes.utc=a8.time.minute.utc.range,a8.time.hour=iT(function(b){var a=b.getTimezoneOffset()/60;return new aI(3600000*(Math.floor(b/3600000-a)+a))},function(b,a){b.setTime(b.getTime()+3600000*Math.floor(a))},function(a){return a.getHours()}),a8.time.hours=a8.time.hour.range,a8.time.hours.utc=a8.time.hour.utc.range,a8.time.month=iT(function(a){return a=a8.time.day(a),a.setDate(1),a},function(b,a){b.setMonth(b.getMonth()+a)},function(a){return a.getMonth()}),a8.time.months=a8.time.month.range,a8.time.months.utc=a8.time.month.utc.range;var hE=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000],eA=[[a8.time.second,1],[a8.time.second,5],[a8.time.second,15],[a8.time.second,30],[a8.time.minute,1],[a8.time.minute,5],[a8.time.minute,15],[a8.time.minute,30],[a8.time.hour,1],[a8.time.hour,3],[a8.time.hour,6],[a8.time.hour,12],[a8.time.day,1],[a8.time.day,2],[a8.time.week,1],[a8.time.month,1],[a8.time.month,3],[a8.time.year,1]],gs=[[a8.time.format("%Y"),eR],[a8.time.format("%B"),function(a){return a.getMonth()}],[a8.time.format("%b %d"),function(a){return 1!=a.getDate()}],[a8.time.format("%a %d"),function(a){return a.getDay()&&1!=a.getDate()}],[a8.time.format("%I %p"),function(a){return a.getHours()}],[a8.time.format("%I:%M"),function(a){return a.getMinutes()}],[a8.time.format(":%S"),function(a){return a.getSeconds()}],[a8.time.format(".%L"),function(a){return a.getMilliseconds()}]],bZ=a8.scale.linear(),fN=gB(gs);eA.year=function(b,a){return bZ.domain(b.map(fU)).ticks(a).map(b9)},a8.time.scale=function(){return hW(a8.scale.linear(),eA,fN)};var f4=eA.map(function(a){return[a[0].utc,a[1]]}),c4=[[a8.time.format.utc("%Y"),eR],[a8.time.format.utc("%B"),function(a){return a.getUTCMonth()}],[a8.time.format.utc("%b %d"),function(a){return 1!=a.getUTCDate()}],[a8.time.format.utc("%a %d"),function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],[a8.time.format.utc("%I %p"),function(a){return a.getUTCHours()}],[a8.time.format.utc("%I:%M"),function(a){return a.getUTCMinutes()}],[a8.time.format.utc(":%S"),function(a){return a.getUTCSeconds()}],[a8.time.format.utc(".%L"),function(a){return a.getUTCMilliseconds()}]],g1=gB(c4);return f4.year=function(b,a){return bZ.domain(b.map(dd)).ticks(a).map(gd)},a8.time.scale.utc=function(){return hW(a8.scale.linear(),f4,g1)},a8.text=fJ(function(a){return a.responseText}),a8.json=function(b,a){return f0(b,"application/json",g8,a)},a8.html=function(b,a){return f0(b,"text/html",em,a)},a8.xml=fJ(function(a){return a.responseXML}),a8}();