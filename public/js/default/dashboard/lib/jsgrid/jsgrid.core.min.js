(function(k,e,h){var p="JSGrid",m=p,o="JSGridItem",g="JSGridEditRow",z="asc",x="desc",d="{first}",s="{pages}",j="{prev}",n="{next}",a="{last}",b="{pageIndex}",y="{pageCount}",w="{itemCount}",u="javascript:void(0);";var A=function(C,B){if(e.isFunction(C)){return C.apply(B,e.makeArray(arguments).slice(2))}return C};var v=function(C){var B=e.Deferred();if(C&&C.then){C.then(function(){B.resolve.apply(B,arguments)},function(){B.reject.apply(B,arguments)})}else{B.resolve(C)}return B.promise()};var c={loadData:e.noop,insertItem:e.noop,updateItem:e.noop,deleteItem:e.noop};function f(D,C){var B=e(D);B.data(m,this);this._container=B;this.data=[];this.fields=[];this._editingRow=null;this._sortField=null;this._sortOrder=z;this._firstDisplayingPage=1;this._init(C);this.render()}f.prototype={width:"auto",height:"auto",updateOnResize:true,rowClass:e.noop,rowRenderer:null,rowClick:function(B){if(this.editing){this.editItem(e(B.event.target).closest("tr"))}},rowDoubleClick:e.noop,noDataContent:"Not found",noDataRowClass:"jsgrid-nodata-row",heading:true,headerRowRenderer:null,headerRowClass:"jsgrid-header-row",headerCellClass:"jsgrid-header-cell",filtering:false,filterRowRenderer:null,filterRowClass:"jsgrid-filter-row",inserting:false,insertRowRenderer:null,insertRowClass:"jsgrid-insert-row",editing:false,editRowRenderer:null,editRowClass:"jsgrid-edit-row",confirmDeleting:true,deleteConfirm:"Are you sure?",selecting:true,selectedRowClass:"jsgrid-selected-row",oddRowClass:"jsgrid-row",evenRowClass:"jsgrid-alt-row",cellClass:"jsgrid-cell",sorting:false,sortableClass:"jsgrid-header-sortable",sortAscClass:"jsgrid-header-sort jsgrid-header-sort-asc",sortDescClass:"jsgrid-header-sort jsgrid-header-sort-desc",paging:false,pagerContainer:null,pageIndex:1,pageSize:20,pageButtonCount:15,pagerFormat:"Pages: {first} {prev} {pages} {next} {last} &nbsp;&nbsp; {pageIndex} of {pageCount}",pagePrevText:"Prev",pageNextText:"Next",pageFirstText:"First",pageLastText:"Last",pageNavigatorNextText:"...",pageNavigatorPrevText:"...",pagerContainerClass:"jsgrid-pager-container",pagerClass:"jsgrid-pager",pagerNavButtonClass:"jsgrid-pager-nav-button",pagerNavButtonInactiveClass:"jsgrid-pager-nav-inactive-button",pageClass:"jsgrid-pager-page",currentPageClass:"jsgrid-pager-current-page",customLoading:false,pageLoading:false,autoload:false,controller:c,loadIndication:true,loadIndicationDelay:500,loadMessage:"Please, wait...",loadShading:true,invalidMessage:"Invalid data entered!",invalidNotify:function(B){var C=e.map(B.errors,function(D){return D.message||null});k.alert([this.invalidMessage].concat(C).join("\n"))},onInit:e.noop,onRefreshing:e.noop,onRefreshed:e.noop,onPageChanged:e.noop,onItemDeleting:e.noop,onItemDeleted:e.noop,onItemInserting:e.noop,onItemInserted:e.noop,onItemEditing:e.noop,onItemUpdating:e.noop,onItemUpdated:e.noop,onItemInvalid:e.noop,onDataLoading:e.noop,onDataLoaded:e.noop,onOptionChanging:e.noop,onOptionChanged:e.noop,onError:e.noop,invalidClass:"jsgrid-invalid",containerClass:"jsgrid",tableClass:"jsgrid-table",gridHeaderClass:"jsgrid-grid-header",gridBodyClass:"jsgrid-grid-body",_init:function(B){e.extend(this,B);this._initLoadStrategy();this._initController();this._initFields();this._attachWindowLoadResize();this._attachWindowResizeCallback();this._callEventHandler(this.onInit)},loadStrategy:function(){return this.pageLoading?new jsGrid.loadStrategies.PageLoadingStrategy(this):new jsGrid.loadStrategies.DirectLoadingStrategy(this)},_initLoadStrategy:function(){this._loadStrategy=A(this.loadStrategy,this)},_initController:function(){this._controller=e.extend({},c,A(this.controller,this))},renderTemplate:function(E,D,B){args=[];for(var C in B){args.push(B[C])}args.unshift(E,D);E=A.apply(null,args);return(E===h||E===null)?"":E},loadIndicator:function(B){return new jsGrid.LoadIndicator(B)},validation:function(B){return jsGrid.Validation&&new jsGrid.Validation(B)},_initFields:function(){var B=this;B.fields=e.map(B.fields,function(C){if(e.isPlainObject(C)){var D=(C.type&&jsGrid.fields[C.type])||jsGrid.Field;C=new D(C)}C._grid=B;return C})},_attachWindowLoadResize:function(){e(k).on("load",e.proxy(this._refreshSize,this))},_attachWindowResizeCallback:function(){if(this.updateOnResize){e(k).on("resize",e.proxy(this._refreshSize,this))}},_detachWindowResizeCallback:function(){e(k).off("resize",this._refreshSize)},option:function(C,E){var B,D;if(arguments.length===1){return this[C]}B={option:C,oldValue:this[C],newValue:E};this._callEventHandler(this.onOptionChanging,B);this._handleOptionChange(B.option,B.newValue);D={option:B.option,value:B.newValue};this._callEventHandler(this.onOptionChanged,D)},fieldOption:function(D,B,C){D=this._normalizeField(D);if(arguments.length===2){return D[B]}D[B]=C;this._renderGrid()},_handleOptionChange:function(B,C){this[B]=C;switch(B){case"width":case"height":this._refreshSize();break;case"rowClass":case"rowRenderer":case"rowClick":case"rowDoubleClick":case"noDataRowClass":case"noDataContent":case"selecting":case"selectedRowClass":case"oddRowClass":case"evenRowClass":this._refreshContent();break;case"pageButtonCount":case"pagerFormat":case"pagePrevText":case"pageNextText":case"pageFirstText":case"pageLastText":case"pageNavigatorNextText":case"pageNavigatorPrevText":case"pagerClass":case"pagerNavButtonClass":case"pageClass":case"currentPageClass":case"pagerRenderer":this._refreshPager();break;case"fields":this._initFields();this.render();break;case"data":case"editing":case"heading":case"filtering":case"inserting":case"paging":this.refresh();break;case"loadStrategy":case"pageLoading":this._initLoadStrategy();this.search();break;case"pageIndex":this.openPage(C);break;case"pageSize":this.refresh();this.search();break;case"editRowRenderer":case"editRowClass":this.cancelEdit();break;case"updateOnResize":this._detachWindowResizeCallback();this._attachWindowResizeCallback();break;case"invalidNotify":case"invalidMessage":break;default:this.render();break}},destroy:function(){this._detachWindowResizeCallback();this._clear();this._container.removeData(m)},render:function(){this._renderGrid();return this.autoload?this.loadData():e.Deferred().resolve().promise()},_renderGrid:function(){this._clear();this._container.addClass(this.containerClass).css("position","relative").append(this._createHeader()).append(this._createBody());this._pagerContainer=this._createPagerContainer();this._loadIndicator=this._createLoadIndicator();this._validation=this._createValidation();this.refresh()},_createLoadIndicator:function(){return A(this.loadIndicator,this,{message:this.loadMessage,shading:this.loadShading,container:this._container})},_createValidation:function(){return A(this.validation,this)},_clear:function(){this.cancelEdit();clearTimeout(this._loadingTimer);this._pagerContainer&&this._pagerContainer.empty();this._container.empty().css({position:"",width:"",height:""})},_createHeader:function(){var C=this._headerRow=this._createHeaderRow(),D=this._filterRow=this._createFilterRow(),F=this._insertRow=this._createInsertRow();var E=this._headerGrid=e("<table>").addClass(this.tableClass).append(C).append(D).append(F);var B=this._header=e("<div>").addClass(this.gridHeaderClass).addClass(this._scrollBarWidth()?"jsgrid-header-scrollbar":"").append(E);return B},_createBody:function(){var C=this._content=e("<tbody>");var B=this._bodyGrid=e("<table>").addClass(this.tableClass).append(C);var D=this._body=e("<div>").addClass(this.gridBodyClass).append(B).on("scroll",e.proxy(function(E){this._header.scrollLeft(E.target.scrollLeft)},this));return D},_createPagerContainer:function(){var B=this.pagerContainer||e("<div>").appendTo(this._container);return e(B).addClass(this.pagerContainerClass)},_eachField:function(C){var B=this;e.each(this.fields,function(D,E){if(E.visible){C.call(B,E,D)}})},_createHeaderRow:function(){if(e.isFunction(this.headerRowRenderer)){return e(this.renderTemplate(this.headerRowRenderer,this))}var B=e("<tr>").addClass(this.headerRowClass);this._eachField(function(E,C){var D=this._prepareCell("<th>",E,"headercss",this.headerCellClass).append(this.renderTemplate(E.headerTemplate,E)).appendTo(B);if(this.sorting&&E.sorting){D.addClass(this.sortableClass).on("click",e.proxy(function(){this.sort(C)},this))}});return B},_prepareCell:function(B,D,E,C){return e(B).css("width",D.width).addClass(C||this.cellClass).addClass((E&&D[E])||D.css).addClass(D.align?("jsgrid-align-"+D.align):"")},_createFilterRow:function(){if(e.isFunction(this.filterRowRenderer)){return e(this.renderTemplate(this.filterRowRenderer,this))}var B=e("<tr>").addClass(this.filterRowClass);this._eachField(function(C){this._prepareCell("<td>",C,"filtercss").append(this.renderTemplate(C.filterTemplate,C)).appendTo(B)});return B},_createInsertRow:function(){if(e.isFunction(this.insertRowRenderer)){return e(this.renderTemplate(this.insertRowRenderer,this))}var B=e("<tr>").addClass(this.insertRowClass);this._eachField(function(C){this._prepareCell("<td>",C,"insertcss").append(this.renderTemplate(C.insertTemplate,C)).appendTo(B)});return B},_callEventHandler:function(B,C){B.call(this,e.extend(C,{grid:this}));return C},reset:function(){this._resetSorting();this._resetPager();return this._loadStrategy.reset()},_resetPager:function(){this._firstDisplayingPage=1;this._setPage(1)},_resetSorting:function(){this._sortField=null;this._sortOrder=z;this._clearSortingCss()},refresh:function(){this._callEventHandler(this.onRefreshing);this.cancelEdit();this._refreshHeading();this._refreshFiltering();this._refreshInserting();this._refreshContent();this._refreshPager();this._refreshSize();this._callEventHandler(this.onRefreshed)},_refreshHeading:function(){this._headerRow.toggle(this.heading)},_refreshFiltering:function(){this._filterRow.toggle(this.filtering)},_refreshInserting:function(){this._insertRow.toggle(this.inserting)},_refreshContent:function(){var B=this._content;B.empty();if(!this.data.length){B.append(this._createNoDataRow());return this}var D=this._loadStrategy.firstDisplayIndex();var F=this._loadStrategy.lastDisplayIndex();for(var C=D;C<F;C++){var E=this.data[C];B.append(this._createRow(E,C))}},_createNoDataRow:function(){var B=0;this._eachField(function(){B++});return e("<tr>").addClass(this.noDataRowClass).append(e("<td>").addClass(this.cellClass).attr("colspan",B).append(this.renderTemplate(this.noDataContent,this)))},_createRow:function(D,C){var B;if(e.isFunction(this.rowRenderer)){B=this.renderTemplate(this.rowRenderer,this,{item:D,itemIndex:C})}else{B=e("<tr>");this._renderCells(B,D)}B.addClass(this._getRowClasses(D,C)).data(o,D).on("click",e.proxy(function(E){this.rowClick({item:D,itemIndex:C,event:E})},this)).on("dblclick",e.proxy(function(E){this.rowDoubleClick({item:D,itemIndex:C,event:E})},this));if(this.selecting){this._attachRowHover(B)}return B},_getRowClasses:function(D,C){var B=[];B.push(((C+1)%2)?this.oddRowClass:this.evenRowClass);B.push(A(this.rowClass,this,D,C));return B.join(" ")},_attachRowHover:function(B){var C=this.selectedRowClass;B.hover(function(){e(this).addClass(C)},function(){e(this).removeClass(C)})},_renderCells:function(B,C){this._eachField(function(D){B.append(this._createCell(C,D))});return this},_createCell:function(D,F){var C;var E=this._getItemFieldValue(D,F);var B={value:E,item:D};if(e.isFunction(F.cellRenderer)){C=this.renderTemplate(F.cellRenderer,F,B)}else{C=e("<td>").append(this.renderTemplate(F.itemTemplate||E,F,B))}return this._prepareCell(C,F)},_getItemFieldValue:function(D,E){var C=E.name.split(".");var B=D[C.shift()];while(B&&C.length){B=B[C.shift()]}return B},_setItemFieldValue:function(C,F,D){var B=F.name.split(".");var E=C;var G=B[0];while(E&&B.length){C=E;G=B.shift();E=C[G]}if(!E){while(B.length){C=C[G]={};G=B.shift()}}C[G]=D},sort:function(C,B){if(e.isPlainObject(C)){B=C.order;C=C.field}this._clearSortingCss();this._setSortingParams(C,B);this._setSortingCss();return this._loadStrategy.sort()},_clearSortingCss:function(){this._headerRow.find("th").removeClass(this.sortAscClass).removeClass(this.sortDescClass)},_setSortingParams:function(C,B){C=this._normalizeField(C);B=B||((this._sortField===C)?this._reversedSortOrder(this._sortOrder):z);this._sortField=C;this._sortOrder=B},_normalizeField:function(B){if(e.isNumeric(B)){return this.fields[B]}if(typeof B==="string"){return e.grep(this.fields,function(C){return C.name===B})[0]}return B},_reversedSortOrder:function(B){return(B===z?x:z)},_setSortingCss:function(){var B=this._visibleFieldIndex(this._sortField);this._headerRow.find("th").eq(B).addClass(this._sortOrder===z?this.sortAscClass:this.sortDescClass)},_visibleFieldIndex:function(B){return e.inArray(B,e.grep(this.fields,function(C){return C.visible}))},_sortData:function(){var C=this._sortFactor(),B=this._sortField;if(B){this.data.sort(function(E,D){return C*B.sortingFunc(E[B.name],D[B.name])})}},_sortFactor:function(){return this._sortOrder===z?1:-1},_itemsCount:function(){return this._loadStrategy.itemsCount()},_pagesCount:function(){var B=this._itemsCount(),C=this.pageSize;return Math.floor(B/C)+(B%C?1:0)},_refreshPager:function(){var B=this._pagerContainer;B.empty();if(this.paging){B.append(this._createPager())}var C=this.paging&&this._pagesCount()>1;B.toggle(C)},_createPager:function(){var B;if(e.isFunction(this.pagerRenderer)){B=e(this.pagerRenderer({pageIndex:this.pageIndex,pageCount:this._pagesCount()}))}else{B=e("<div>").append(this._createPagerByFormat())}B.addClass(this.pagerClass);return B},_createPagerByFormat:function(){var B=this.pageIndex,C=this._pagesCount(),E=this._itemsCount(),D=this.pagerFormat.split(" ");return e.map(D,e.proxy(function(G){var F=G;if(G===s){F=this._createPages()}else{if(G===d){F=this._createPagerNavButton(this.pageFirstText,1,B>1)}else{if(G===j){F=this._createPagerNavButton(this.pagePrevText,B-1,B>1)}else{if(G===n){F=this._createPagerNavButton(this.pageNextText,B+1,B<C)}else{if(G===a){F=this._createPagerNavButton(this.pageLastText,C,B<C)}else{if(G===b){F=B}else{if(G===y){F=C}else{if(G===w){F=E}}}}}}}}return e.isArray(F)?F.concat([" "]):[F," "]},this))},_createPages:function(){var E=this._pagesCount(),D=this.pageButtonCount,G=this._firstDisplayingPage,B=[];if(G>1){B.push(this._createPagerPageNavButton(this.pageNavigatorPrevText,this.showPrevPages))}for(var F=0,C=G;F<D&&C<=E;F++,C++){B.push(C===this.pageIndex?this._createPagerCurrentPage():this._createPagerPage(C))}if((G+D-1)<E){B.push(this._createPagerPageNavButton(this.pageNavigatorNextText,this.showNextPages))}return B},_createPagerNavButton:function(D,B,C){return this._createPagerButton(D,this.pagerNavButtonClass+(C?"":" "+this.pagerNavButtonInactiveClass),C?function(){this.openPage(B)}:e.noop)},_createPagerPageNavButton:function(C,B){return this._createPagerButton(C,this.pagerNavButtonClass,B)},_createPagerPage:function(B){return this._createPagerButton(B,this.pageClass,function(){this.openPage(B)})},_createPagerButton:function(E,C,D){var B=e("<a>").attr("href",u).html(E).on("click",e.proxy(D,this));return e("<span>").addClass(C).append(B)},_createPagerCurrentPage:function(){return e("<span>").addClass(this.pageClass).addClass(this.currentPageClass).text(this.pageIndex)},_refreshSize:function(){this._refreshHeight();this._refreshWidth()},_refreshWidth:function(){var B=(this.width==="auto")?this._getAutoWidth():this.width;this._container.width(B)},_getAutoWidth:function(){var E=this._headerGrid,D=this._header;E.width("auto");var B=E.outerWidth();var C=D.outerWidth()-D.innerWidth();E.width("");return B+C},_scrollBarWidth:(function(){var B;return function(){if(B===h){var F=e("<div style='width:50px;height:50px;overflow:hidden;position:absolute;top:-10000px;left:-10000px;'></div>");var E=e("<div style='height:100px;'></div>");F.append(E).appendTo("body");var D=E.innerWidth();F.css("overflow-y","auto");var C=E.innerWidth();F.remove();B=D-C}return B}})(),_refreshHeight:function(){var C=this._container,D=this._pagerContainer,B=this.height,E;C.height(B);if(B!=="auto"){B=C.height();E=this._header.outerHeight(true);if(D.parents(C).length){E+=D.outerHeight(true)}this._body.outerHeight(B-E)}},showPrevPages:function(){var C=this._firstDisplayingPage,B=this.pageButtonCount;this._firstDisplayingPage=(C>B)?C-B:1;this._refreshPager()},showNextPages:function(){var D=this._firstDisplayingPage,C=this.pageButtonCount,B=this._pagesCount();this._firstDisplayingPage=(D+2*C>B)?B-C+1:D+C;this._refreshPager()},openPage:function(B){if(B<1||B>this._pagesCount()){return}this._setPage(B);this._loadStrategy.openPage(B)},_setPage:function(B){var D=this._firstDisplayingPage,C=this.pageButtonCount;this.pageIndex=B;if(B<D){this._firstDisplayingPage=B}if(B>D+C-1){this._firstDisplayingPage=B-C+1}this._callEventHandler(this.onPageChanged,{pageIndex:B})},_controllerCall:function(F,E,D,C){if(D){return e.Deferred().reject().promise()}this._showLoading();var B=this._controller;if(!B||!B[F]){throw Error("controller has no method '"+F+"'")}return v(B[F](E)).done(e.proxy(C,this)).fail(e.proxy(this._errorHandler,this)).always(e.proxy(this._hideLoading,this))},_errorHandler:function(){this._callEventHandler(this.onError,{args:e.makeArray(arguments)})},_showLoading:function(){if(!this.loadIndication){return}clearTimeout(this._loadingTimer);this._loadingTimer=setTimeout(e.proxy(function(){this._loadIndicator.show()},this),this.loadIndicationDelay)},_hideLoading:function(){if(!this.loadIndication){return}clearTimeout(this._loadingTimer);this._loadIndicator.hide()},search:function(B){this._resetSorting();this._resetPager();return this.loadData(B)},loadData:function(C){C=C||(this.filtering?this.getFilter():{});e.extend(C,this._loadStrategy.loadParams(),this._sortingParams());var B=this._callEventHandler(this.onDataLoading,{filter:C});return this._controllerCall("loadData",C,B.cancel,function(D){if(!D){return}this._loadStrategy.finishLoad(D);this._callEventHandler(this.onDataLoaded,{data:D})})},getFilter:function(){var B={};this._eachField(function(C){if(C.filtering){this._setItemFieldValue(B,C,C.filterValue())}});return B},_sortingParams:function(){if(this.sorting&&this._sortField){return{sortField:this._sortField.name,sortOrder:this._sortOrder}}return{}},getSorting:function(){var B=this._sortingParams();return{field:B.sortField,order:B.sortOrder}},clearFilter:function(){var B=this._createFilterRow();this._filterRow.replaceWith(B);this._filterRow=B;return this.search()},insertItem:function(D){var B=D||this._getValidatedInsertItem();if(!B){return e.Deferred().reject().promise()}var C=this._callEventHandler(this.onItemInserting,{item:B});return this._controllerCall("insertItem",B,C.cancel,function(E){E=E||B;this._loadStrategy.finishInsert(E);this._callEventHandler(this.onItemInserted,{item:E})})},_getValidatedInsertItem:function(){var B=this._getInsertItem();return this._validateItem(B,this._insertRow)?B:null},_getInsertItem:function(){var B={};this._eachField(function(C){if(C.inserting){this._setItemFieldValue(B,C,C.insertValue())}});return B},_validateItem:function(F,B){var C=[];var E={item:F,itemIndex:this._rowIndex(B),row:B};this._eachField(function(H){if(!H.validate||(B===this._insertRow&&!H.inserting)||(B===this._getEditRow()&&!H.editing)){return}var G=this._getItemFieldValue(F,H);var I=this._validation.validate(e.extend({value:G,rules:H.validate},E));this._setCellValidity(B.children().eq(this._visibleFieldIndex(H)),I);if(!I.length){return}C.push.apply(C,e.map(I,function(J){return{field:H,message:J}}))});if(!C.length){return true}var D=e.extend({errors:C},E);this._callEventHandler(this.onItemInvalid,D);this.invalidNotify(D);return false},_setCellValidity:function(B,C){B.toggleClass(this.invalidClass,!!C.length).attr("title",C.join("\n"))},clearInsert:function(){var B=this._createInsertRow();this._insertRow.replaceWith(B);this._insertRow=B;this.refresh()},editItem:function(C){var B=this.rowByItem(C);if(B.length){this._editRow(B)}},rowByItem:function(B){if(B.jquery||B.nodeType){return e(B)}return this._content.find("tr").filter(function(){return e.data(this,o)===B})},_editRow:function(B){if(!this.editing){return}var D=B.data(o);var C=this._callEventHandler(this.onItemEditing,{row:B,item:D,itemIndex:this._itemIndex(D)});if(C.cancel){return}if(this._editingRow){this.cancelEdit()}var E=this._createEditRow(D);this._editingRow=B;B.hide();E.insertBefore(B);B.data(g,E)},_createEditRow:function(C){if(e.isFunction(this.editRowRenderer)){return e(this.renderTemplate(this.editRowRenderer,this,{item:C,itemIndex:this._itemIndex(C)}))}var B=e("<tr>").addClass(this.editRowClass);this._eachField(function(E){var D=this._getItemFieldValue(C,E);this._prepareCell("<td>",E,"editcss").append(this.renderTemplate(E.editTemplate||"",E,{value:D,item:C})).appendTo(B)});return B},updateItem:function(D,C){if(arguments.length===1){C=D}var B=D?this.rowByItem(D):this._editingRow;C=C||this._getValidatedEditedItem();if(!C){return}return this._updateRow(B,C)},_getValidatedEditedItem:function(){var B=this._getEditedItem();return this._validateItem(B,this._getEditRow())?B:null},_updateRow:function(E,D){var G=E.data(o),C=this._itemIndex(G),F=e.extend(true,{},G,D);var B=this._callEventHandler(this.onItemUpdating,{row:E,item:F,itemIndex:C,previousItem:G});return this._controllerCall("updateItem",F,B.cancel,function(J){var I=e.extend(true,{},G);F=J||e.extend(true,G,D);var H=this._finishUpdate(E,F,C);this._callEventHandler(this.onItemUpdated,{row:H,item:F,itemIndex:C,previousItem:I})})},_rowIndex:function(B){return this._content.children().index(e(B))},_itemIndex:function(B){return e.inArray(B,this.data)},_finishUpdate:function(C,E,D){this.cancelEdit();this.data[D]=E;var B=this._createRow(E,D);C.replaceWith(B);return B},_getEditedItem:function(){var B={};this._eachField(function(C){if(C.editing){this._setItemFieldValue(B,C,C.editValue())}});return B},cancelEdit:function(){if(!this._editingRow){return}this._getEditRow().remove();this._editingRow.show();this._editingRow=null},_getEditRow:function(){return this._editingRow&&this._editingRow.data(g)},deleteItem:function(C){var B=this.rowByItem(C);if(!B.length){return}if(this.confirmDeleting&&!k.confirm(A(this.deleteConfirm,this,B.data(o)))){return}return this._deleteRow(B)},_deleteRow:function(B){var D=B.data(o),E=this._itemIndex(D);var C=this._callEventHandler(this.onItemDeleting,{row:B,item:D,itemIndex:E});return this._controllerCall("deleteItem",D,C.cancel,function(){this._loadStrategy.finishDelete(D,E);this._callEventHandler(this.onItemDeleted,{row:B,item:D,itemIndex:E})})}};e.fn.jsGrid=function(E){var D=e.makeArray(arguments),C=D.slice(1),B=this;this.each(function(){var G=e(this),F=G.data(m),H;if(F){if(typeof E==="string"){H=F[E].apply(F,C);if(H!==h&&H!==F){B=H;return false}}else{F._detachWindowResizeCallback();F._init(E);F.render()}}else{new f(G,E)}});return B};var r={};var q=function(B){var C;if(e.isPlainObject(B)){C=f.prototype}else{C=r[B].prototype;B=arguments[1]||{}}e.extend(C,B)};var i={};var t=function(C){var B=e.isPlainObject(C)?C:i[C];if(!B){throw Error("unknown locale "+C)}l(jsGrid,B)};var l=function(C,B){e.each(B,function(E,D){if(e.isPlainObject(D)){l(C[E]||C[E[0].toUpperCase()+E.slice(1)],D);return}if(C.hasOwnProperty(E)){C[E]=D}else{C.prototype[E]=D}})};k.jsGrid={Grid:f,fields:r,setDefaults:q,locales:i,locale:t,version:"@VERSION"}}(window,jQuery));