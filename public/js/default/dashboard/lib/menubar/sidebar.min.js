!function(c){var b=function(e,d){this.options=d;this.$sidebar=c(e);this.$content=this.$sidebar.find("~ .content-wrap");this.$nano=this.$sidebar.find(".nano");this.$html=c("html");this.$body=c("body");this.$window=c(window);this.changed=false;this.init()};b.DEFAULTS={duration:300,resizeWnd:1000};b.prototype.init=function(){var d=this;d.$body.addClass("sidebar-notransition");d.$nano.nanoScroller({preventPageScrolling:true});c(".sidebar-toggle").on("click",function(f){f.preventDefault();d.togglesidebar()});d.$content.on("click",function(){if(d.isHideOnContentClick()){d.hidesidebar()}});d.$sidebar.on("click","li a.sidebar-sub-toggle",function(f){f.preventDefault();d.toggleSub(c(this))});if(d.showType()=="push"&&d.isShow()){d.$body.css("overflow","hidden")}if(d.$sidebar.hasClass("sidebar-gestures")){d.useGestures()}d.$window.on("resize",function(){d.windowResize()});d.windowResize();setTimeout(function(){d.$body.removeClass("sidebar-notransition")},1)};b.prototype.isShow=function(){return !this.$body.hasClass("sidebar-hide")};b.prototype.showType=function(){if(this.$sidebar.hasClass("sidebar-overlay")){return"overlay"}if(this.$sidebar.hasClass("sidebar-push")){return"push"}if(this.$sidebar.hasClass("sidebar-shrink")){return"shrink"}};b.prototype.isHideOnContentClick=function(){return this.$sidebar.hasClass("sidebar-overlap-content")};b.prototype.isStatic=function(){return this.$sidebar.hasClass("sidebar-static")};b.prototype.togglesidebar=function(e){var f=this;var d=!f.isShow();if(e){if((e=="show"&&!d)||(e=="hide"&&d)){return}}f.options.changed=true;if(d){f.showsidebar()}else{f.hidesidebar()}};b.prototype.showsidebar=function(){var d=this;d.$body.removeClass("sidebar-hide");if(d.showType()=="push"){d.$body.css("overflow","hidden")}setTimeout(function(){d.$nano.nanoScroller();d.$window.resize()},d.options.duration)};b.prototype.hidesidebar=function(){var d=this;d.$body.addClass("sidebar-hide");d.$nano.nanoScroller({destroy:true});setTimeout(function(){if(d.showType()=="push"){d.$body.css("overflow","visible")}d.$window.resize()},d.options.duration)};b.prototype.toggleSub=function(d){var h=this;var g=d.parent();var e=g.find("> ul");var f=g.hasClass("open");if(!e.length){return}if(f){h.closeSub(e)}else{h.openSub(e,g)}};b.prototype.closeSub=function(d){var e=this;d.css("display","block").stop().slideUp(e.options.duration,"swing",function(){c(this).find("li a.sidebar-sub-toggle").next().attr("style","");e.$nano.nanoScroller()});d.parent().removeClass("open");d.find("li a.sidebar-sub-toggle").parent().removeClass("open")};b.prototype.openSub=function(d,e){var f=this;d.css("display","none").stop().slideDown(f.options.duration,"swing",function(){f.$nano.nanoScroller()});e.addClass("open");f.closeSub(e.siblings(".open").find("> ul"))};b.prototype.useGestures=function(){var g=this;var e=0;var f=0;var d=0;g.$window.on("touchstart",function(h){f=(h.originalEvent.touches?h.originalEvent.touches[0]:h).pageX;d=(h.originalEvent.touches?h.originalEvent.touches[0]:h).pageX;e=1});g.$window.on("touchmove",function(h){if(e){d=(h.originalEvent.touches?h.originalEvent.touches[0]:h).pageX}});g.$window.on("touchend",function(i){if(e){var j=f-d,h=g.$html.hasClass("rtl");e=0;if(Math.abs(j)<100){return}if(h){j*=-1;f=g.$window.width()-f}if(j<0){if(f<40){g.showsidebar()}}else{g.hidesidebar()}}})};var a;b.prototype.windowResize=function(){var d=this;if(!d.options.changed){clearTimeout(a);a=setTimeout(function(){if(d.$window.width()<d.options.resizeWnd){d.togglesidebar("hide")}},50)}};c(".sidebar").each(function(){var d=c.extend({},b.DEFAULTS,c(this).data(),typeof option=="object"&&option);var e=new b(this,d)})}(jQuery);