!function(ab){function aa(b){this.owner=b}function Z(e,d){if(Object.create){d.prototype=Object.create(e.prototype)}else{var f=function(){};f.prototype=e.prototype,d.prototype=new f}return d.prototype.constructor=d,d}function Y(e){var d=this.internal=new X(this);d.loadConfig(e),d.beforeInit(e),d.init(),d.afterInit(e),function f(g,c,h){Object.keys(g).forEach(function(a){c[a]=g[a].bind(h),Object.keys(g[a]).length>0&&f(g[a],c[a],h)})}(U,this,this)}function X(a){var d=this;d.d3=ab.d3?ab.d3:"undefined"!=typeof require?require("d3"):void 0,d.api=a,d.config=d.getDefaultConfig(),d.data={},d.cache={},d.axes={}}function W(b){aa.call(this,b)}function V(at,ar){function aq(d,c){d.attr("transform",function(b){return"translate("+Math.ceil(c(b)+x)+", 0)"})}function ap(d,c){d.attr("transform",function(b){return"translate(0,"+Math.ceil(c(b))+")"})}function ao(e){var d=e[0],f=e[e.length-1];return f>d?[d,f]:[f,d]}function an(f){var e,h,g=[];if(f.ticks){return f.ticks.apply(f,af)}for(h=f.domain(),e=Math.ceil(h[0]);e<h[1];e++){g.push(e)}return g.length>0&&g[0]>0&&g.unshift(g[0]-(g[1]-g[0])),g}function am(){var b,d=ad.copy();return ar.isCategory&&(b=ad.domain(),d.domain([b[0],b[1]-1])),d}function al(d){var c=ag?ag(d):d;return"undefined"!=typeof c?c:""}function ak(d){if(L){return L}var c={h:11.5,w:5.5};return d.select("text").text(al).each(function(b){var j=this.getBoundingClientRect(),i=al(b),h=j.height,g=i?j.width/i.length:void 0;h&&g&&(c.h=h,c.w=g)}).text(""),L=c,c}function aj(a){return ar.withoutTransition?a:at.transition(a)}function ai(a){a.each(function(){function aJ(m,aO){function aN(aQ,aP){aL=void 0;for(var aR=1;aR<aP.length;aR++){if(" "===aP.charAt(aR)&&(aL=aR),aM=aP.substr(0,aR+1),aK=g.w*aM.length,aK>aO){return aN(aQ.concat(aP.substr(0,aL?aL:aR)),aP.slice(aL?aL+1:aR))}}return aQ.concat(aP)}var aM,aL,aK,v=al(m),n=[];return"[object Array]"===Object.prototype.toString.call(v)?v:((!aO||0>=aO)&&(aO=d?95:ar.isCategory?Math.ceil(aC(aA[1])-aC(aA[0]))-12:110),aN(n,v+""))}function aI(n,m){var v=g.h;return 0===m&&(v="left"===ac||"right"===ac?-((f[n.index]-1)*(g.h/2)-3):".71em"),v}function aB(n){var m=ad(n)+(ae?0:x);return s[0]<m&&m<s[1]?A:0}function az(m){return m?m>0?"start":"end":"middle"}function ax(m){return m?"rotate("+m+")":""}function av(m){return m?8*Math.sin(Math.PI*(m/180)):0}function u(m){return m?11.5-2.5*(m/15)*(m>0?1:-1):e}var aH,aG,aF,aE=ai.g=at.select(this),aD=this.__chart__||ad,aC=this.__chart__=am(),aA=y?y:an(aC),ay=aE.selectAll(".tick").data(aA,aC),aw=ay.enter().insert("g",".domain").attr("class","tick").style("opacity",0.000001),au=ay.exit().remove(),t=aj(ay).style("opacity",1),s=ad.rangeExtent?ad.rangeExtent():ao(ad.range()),r=aE.selectAll(".domain").data([0]),q=(r.enter().append("path").attr("class","domain"),aj(r));aw.append("line"),aw.append("text");var p=aw.select("line"),o=t.select("line"),l=aw.select("text"),k=t.select("text");ar.isCategory?(x=Math.ceil((aC(1)-aC(0))/2),aG=ae?0:x,aF=ae?x:0):x=aG=0;var j,h,g=ak(aE.select(".tick")),f=[],e=Math.max(A,0)+z,d="left"===ac||"right"===ac;j=ay.select("text"),h=j.selectAll("tspan").data(function(m,v){var n=ar.tickMultiline?aJ(m,ar.tickWidth):[].concat(al(m));return f[v]=n.length,n.map(function(aK){return{index:v,splitted:aK}})}),h.enter().append("tspan"),h.exit().remove(),h.text(function(m){return m.splitted});var c=ar.tickTextRotate;switch(ac){case"bottom":aH=aq,p.attr("y2",A),l.attr("y",e),o.attr("x1",aG).attr("x2",aG).attr("y2",aB),k.attr("x",0).attr("y",u(c)).style("text-anchor",az(c)).attr("transform",ax(c)),h.attr("x",0).attr("dy",aI).attr("dx",av(c)),q.attr("d","M"+s[0]+","+ah+"V0H"+s[1]+"V"+ah);break;case"top":aH=aq,p.attr("y2",-A),l.attr("y",-e),o.attr("x2",0).attr("y2",-A),k.attr("x",0).attr("y",-e),j.style("text-anchor","middle"),h.attr("x",0).attr("dy","0em"),q.attr("d","M"+s[0]+","+-ah+"V0H"+s[1]+"V"+-ah);break;case"left":aH=ap,p.attr("x2",-A),l.attr("x",-e),o.attr("x2",-A).attr("y1",aF).attr("y2",aF),k.attr("x",-e).attr("y",x),j.style("text-anchor","end"),h.attr("x",-e).attr("dy",aI),q.attr("d","M"+-ah+","+s[0]+"H0V"+s[1]+"H"+-ah);break;case"right":aH=ap,p.attr("x2",A),l.attr("x",e),o.attr("x2",A).attr("y2",0),k.attr("x",e).attr("y",0),j.style("text-anchor","start"),h.attr("x",e).attr("dy",aI),q.attr("d","M"+ah+","+s[0]+"H0V"+s[1]+"H"+ah)}if(aC.rangeBand){var b=aC,i=b.rangeBand()/2;aD=aC=function(m){return b(m)+i}}else{aD.rangeBand?aD=aC:au.call(aH,aC)}aw.call(aH,aD),t.call(aH,aC)})}var ah,ag,af,ae,ad=at.scale.linear(),ac="bottom",A=6,z=3,y=null,x=0,w=!0;return ar=ar||{},ah=ar.withOuterTick?6:0,ai.scale=function(b){return arguments.length?(ad=b,ai):ad},ai.orient=function(b){return arguments.length?(ac=b in {top:1,right:1,bottom:1,left:1}?b+"":"bottom",ai):ac},ai.tickFormat=function(b){return arguments.length?(ag=b,ai):ag},ai.tickCentered=function(b){return arguments.length?(ae=b,ai):ae},ai.tickOffset=function(){return x},ai.tickInterval=function(){var b,d;return ar.isCategory?b=2*x:(d=ai.g.select("path.domain").node().getTotalLength()-2*ah,b=d/ai.g.selectAll("line").size()),b===1/0?0:b},ai.ticks=function(){return arguments.length?(af=arguments,ai):af},ai.tickCulling=function(b){return arguments.length?(w=b,ai):w},ai.tickValues=function(b){if("function"==typeof b){y=function(){return b(ad.domain())}}else{if(!arguments.length){return y}y=b}return ai},ai}var U,T,S,R={version:"0.4.11"};R.generate=function(b){return new Y(b)},R.chart={fn:Y.prototype,internal:{fn:X.prototype,axis:{fn:W.prototype}}},U=R.chart.fn,T=R.chart.internal.fn,S=R.chart.internal.axis.fn,T.beforeInit=function(){},T.afterInit=function(){},T.init=function(){var d=this,c=d.config;if(d.initParams(),c.data_url){d.convertUrlToData(c.data_url,c.data_mimeType,c.data_headers,c.data_keys,d.initWithData)}else{if(c.data_json){d.initWithData(d.convertJsonToData(c.data_json,c.data_keys))}else{if(c.data_rows){d.initWithData(d.convertRowsToData(c.data_rows))}else{if(!c.data_columns){throw Error("url or json or rows or columns is required.")}d.initWithData(d.convertColumnsToData(c.data_columns))}}}},T.initParams=function(){var e=this,d=e.d3,f=e.config;e.clipId="c3-"+ +new Date+"-clip",e.clipIdForXAxis=e.clipId+"-xaxis",e.clipIdForYAxis=e.clipId+"-yaxis",e.clipIdForGrid=e.clipId+"-grid",e.clipIdForSubchart=e.clipId+"-subchart",e.clipPath=e.getClipPath(e.clipId),e.clipPathForXAxis=e.getClipPath(e.clipIdForXAxis),e.clipPathForYAxis=e.getClipPath(e.clipIdForYAxis),e.clipPathForGrid=e.getClipPath(e.clipIdForGrid),e.clipPathForSubchart=e.getClipPath(e.clipIdForSubchart),e.dragStart=null,e.dragging=!1,e.flowing=!1,e.cancelClick=!1,e.mouseover=!1,e.transiting=!1,e.color=e.generateColor(),e.levelColor=e.generateLevelColor(),e.dataTimeFormat=f.data_xLocaltime?d.time.format:d.time.format.utc,e.axisTimeFormat=f.axis_x_localtime?d.time.format:d.time.format.utc,e.defaultAxisTimeFormat=e.axisTimeFormat.multi([[".%L",function(b){return b.getMilliseconds()}],[":%S",function(b){return b.getSeconds()}],["%I:%M",function(b){return b.getMinutes()}],["%I %p",function(b){return b.getHours()}],["%-m/%-d",function(b){return b.getDay()&&1!==b.getDate()}],["%-m/%-d",function(b){return 1!==b.getDate()}],["%-m/%-d",function(b){return b.getMonth()}],["%Y/%-m/%-d",function(){return !0}]]),e.hiddenTargetIds=[],e.hiddenLegendIds=[],e.focusedTargetIds=[],e.defocusedTargetIds=[],e.xOrient=f.axis_rotated?"left":"bottom",e.yOrient=f.axis_rotated?f.axis_y_inner?"top":"bottom":f.axis_y_inner?"right":"left",e.y2Orient=f.axis_rotated?f.axis_y2_inner?"bottom":"top":f.axis_y2_inner?"left":"right",e.subXOrient=f.axis_rotated?"left":"bottom",e.isLegendRight="right"===f.legend_position,e.isLegendInset="inset"===f.legend_position,e.isLegendTop="top-left"===f.legend_inset_anchor||"top-right"===f.legend_inset_anchor,e.isLegendLeft="top-left"===f.legend_inset_anchor||"bottom-left"===f.legend_inset_anchor,e.legendStep=0,e.legendItemWidth=0,e.legendItemHeight=0,e.currentMaxTickWidths={x:0,y:0,y2:0},e.rotated_padding_left=30,e.rotated_padding_right=f.axis_rotated&&!f.axis_x_show?0:30,e.rotated_padding_top=5,e.withoutFadeIn={},e.intervalForObserveInserted=void 0,e.axes.subx=d.selectAll([])},T.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},T.initWithData=function(i){var f,n,m=this,l=m.d3,k=m.config,j=!0;m.axis=new W(m),m.initPie&&m.initPie(),m.initBrush&&m.initBrush(),m.initZoom&&m.initZoom(),k.bindto?"function"==typeof k.bindto.node?m.selectChart=k.bindto:m.selectChart=l.select(k.bindto):m.selectChart=l.selectAll([]),m.selectChart.empty()&&(m.selectChart=l.select(document.createElement("div")).style("opacity",0),m.observeInserted(m.selectChart),j=!1),m.selectChart.html("").classed("c3",!0),m.data.xs={},m.data.targets=m.convertDataToTargets(i),k.data_filter&&(m.data.targets=m.data.targets.filter(k.data_filter)),k.data_hide&&m.addHiddenTargetIds(k.data_hide===!0?m.mapToIds(m.data.targets):k.data_hide),k.legend_hide&&m.addHiddenLegendIds(k.legend_hide===!0?m.mapToIds(m.data.targets):k.legend_hide),m.hasType("gauge")&&(k.legend_show=!1),m.updateSizes(),m.updateScales(),m.x.domain(l.extent(m.getXDomain(m.data.targets))),m.y.domain(m.getYDomain(m.data.targets,"y")),m.y2.domain(m.getYDomain(m.data.targets,"y2")),m.subX.domain(m.x.domain()),m.subY.domain(m.y.domain()),m.subY2.domain(m.y2.domain()),m.orgXDomain=m.x.domain(),m.brush&&m.brush.scale(m.subX),k.zoom_enabled&&m.zoom.scale(m.x),m.svg=m.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return k.onmouseover.call(m)}).on("mouseleave",function(){return k.onmouseout.call(m)}),m.config.svg_classname&&m.svg.attr("class",m.config.svg_classname),f=m.svg.append("defs"),m.clipChart=m.appendClip(f,m.clipId),m.clipXAxis=m.appendClip(f,m.clipIdForXAxis),m.clipYAxis=m.appendClip(f,m.clipIdForYAxis),m.clipGrid=m.appendClip(f,m.clipIdForGrid),m.clipSubchart=m.appendClip(f,m.clipIdForSubchart),m.updateSvgSize(),n=m.main=m.svg.append("g").attr("transform",m.getTranslate("main")),m.initSubchart&&m.initSubchart(),m.initTooltip&&m.initTooltip(),m.initLegend&&m.initLegend(),m.initTitle&&m.initTitle(),n.append("text").attr("class",Q.text+" "+Q.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),m.initRegion(),m.initGrid(),n.append("g").attr("clip-path",m.clipPath).attr("class",Q.chart),k.grid_lines_front&&m.initGridLines(),m.initEventRect(),m.initChartElements(),n.insert("rect",k.zoom_privileged?null:"g."+Q.regions).attr("class",Q.zoomRect).attr("width",m.width).attr("height",m.height).style("opacity",0).on("dblclick.zoom",null),k.axis_x_extent&&m.brush.extent(m.getDefaultExtent()),m.axis.init(),m.updateTargets(m.data.targets),j&&(m.updateDimension(),m.config.oninit.call(m),m.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),m.bindResize(),m.api.element=m.selectChart.node()},T.smoothLines=function(e,d){var f=this;"grid"===d&&e.each(function(){var g=f.d3.select(this),c=g.attr("x1"),j=g.attr("x2"),i=g.attr("y1"),h=g.attr("y2");g.attr({x1:Math.ceil(c),x2:Math.ceil(j),y1:Math.ceil(i),y2:Math.ceil(h)})})},T.updateSizes=function(){var j=this,i=j.config,p=j.legend?j.getLegendHeight():0,o=j.legend?j.getLegendWidth():0,n=j.isLegendRight||j.isLegendInset?0:p,m=j.hasArcType(),l=i.axis_rotated||m?0:j.getHorizontalAxisHeight("x"),k=i.subchart_show&&!m?i.subchart_size_height+l:0;j.currentWidth=j.getCurrentWidth(),j.currentHeight=j.getCurrentHeight(),j.margin=i.axis_rotated?{top:j.getHorizontalAxisHeight("y2")+j.getCurrentPaddingTop(),right:m?0:j.getCurrentPaddingRight(),bottom:j.getHorizontalAxisHeight("y")+n+j.getCurrentPaddingBottom(),left:k+(m?0:j.getCurrentPaddingLeft())}:{top:4+j.getCurrentPaddingTop(),right:m?0:j.getCurrentPaddingRight(),bottom:l+k+n+j.getCurrentPaddingBottom(),left:m?0:j.getCurrentPaddingLeft()},j.margin2=i.axis_rotated?{top:j.margin.top,right:NaN,bottom:20+n,left:j.rotated_padding_left}:{top:j.currentHeight-k-n,right:NaN,bottom:l+n,left:j.margin.left},j.margin3={top:0,right:NaN,bottom:0,left:0},j.updateSizeForLegend&&j.updateSizeForLegend(p,o),j.width=j.currentWidth-j.margin.left-j.margin.right,j.height=j.currentHeight-j.margin.top-j.margin.bottom,j.width<0&&(j.width=0),j.height<0&&(j.height=0),j.width2=i.axis_rotated?j.margin.left-j.rotated_padding_left-j.rotated_padding_right:j.width,j.height2=i.axis_rotated?j.height:j.currentHeight-j.margin2.top-j.margin2.bottom,j.width2<0&&(j.width2=0),j.height2<0&&(j.height2=0),j.arcWidth=j.width-(j.isLegendRight?o+10:0),j.arcHeight=j.height-(j.isLegendRight?0:10),j.hasType("gauge")&&!i.gauge_fullCircle&&(j.arcHeight+=j.height-j.getGaugeLabelHeight()),j.updateRadius&&j.updateRadius(),j.isLegendRight&&m&&(j.margin3.left=j.arcWidth/2+1.1*j.radiusExpanded)},T.updateTargets=function(d){var c=this;c.updateTargetsForText(d),c.updateTargetsForBar(d),c.updateTargetsForLine(d),c.hasArcType()&&c.updateTargetsForArc&&c.updateTargetsForArc(d),c.updateTargetsForSubchart&&c.updateTargetsForSubchart(d),c.showTargets()},T.showTargets=function(){var b=this;b.svg.selectAll("."+Q.target).filter(function(a){return b.isTargetToShow(a.id)}).transition().duration(b.config.transition_duration).style("opacity",1)},T.redraw=function(aP,aO){var aN,aM,aL,aK,aJ,aI,aH,aG,aF,aE,aD,aC,aB,aA,az,ay,ax,aw,av,au,at,ar,aq,ap,ao,an,am,al,ak,aj=this,ai=aj.main,ah=aj.d3,ag=aj.config,af=aj.getShapeIndices(aj.isAreaType),ae=aj.getShapeIndices(aj.isBarType),ad=aj.getShapeIndices(aj.isLineType),ac=aj.hasArcType(),w=aj.filterTargetsToShow(aj.data.targets),l=aj.xv.bind(aj);if(aP=aP||{},aN=E(aP,"withY",!0),aM=E(aP,"withSubchart",!0),aL=E(aP,"withTransition",!0),aI=E(aP,"withTransform",!1),aH=E(aP,"withUpdateXDomain",!1),aG=E(aP,"withUpdateOrgXDomain",!1),aF=E(aP,"withTrimXDomain",!0),aB=E(aP,"withUpdateXAxis",aH),aE=E(aP,"withLegend",!1),aD=E(aP,"withEventRect",!0),aC=E(aP,"withDimension",!0),aK=E(aP,"withTransitionForExit",aL),aJ=E(aP,"withTransitionForAxis",aL),av=aL?ag.transition_duration:0,au=aK?av:0,at=aJ?av:0,aO=aO||aj.axis.generateTransitions(at),aE&&ag.legend_show?aj.updateLegend(aj.mapToIds(aj.data.targets),aP,aO):aC&&aj.updateDimension(!0),aj.isCategorized()&&0===w.length&&aj.x.domain([0,aj.axes.x.selectAll(".tick").size()]),w.length?(aj.updateXDomain(w,aH,aG,aF),ag.axis_x_tick_values||(ap=aj.axis.updateXAxisTickValues(w))):(aj.xAxis.tickValues([]),aj.subXAxis.tickValues([])),ag.zoom_rescale&&!aP.flow&&(am=aj.x.orgDomain()),aj.y.domain(aj.getYDomain(w,"y",am)),aj.y2.domain(aj.getYDomain(w,"y2",am)),!ag.axis_y_tick_values&&ag.axis_y_tick_count&&aj.yAxis.tickValues(aj.axis.generateTickValues(aj.y.domain(),ag.axis_y_tick_count)),!ag.axis_y2_tick_values&&ag.axis_y2_tick_count&&aj.y2Axis.tickValues(aj.axis.generateTickValues(aj.y2.domain(),ag.axis_y2_tick_count)),aj.axis.redraw(aO,ac),aj.axis.updateLabels(aL),(aH||aB)&&w.length){if(ag.axis_x_tick_culling&&ap){for(ao=1;ao<ap.length;ao++){if(ap.length/ao<ag.axis_x_tick_culling_max){an=ao;break}}aj.svg.selectAll("."+Q.axisX+" .tick text").each(function(d){var c=ap.indexOf(d);c>=0&&ah.select(this).style("display",c%an?"none":"block")})}else{aj.svg.selectAll("."+Q.axisX+" .tick text").style("display","block")}}aA=aj.generateDrawArea?aj.generateDrawArea(af,!1):void 0,az=aj.generateDrawBar?aj.generateDrawBar(ae):void 0,ay=aj.generateDrawLine?aj.generateDrawLine(ad,!1):void 0,ax=aj.generateXYForText(af,ae,ad,!0),aw=aj.generateXYForText(af,ae,ad,!1),aN&&(aj.subY.domain(aj.getYDomain(w,"y")),aj.subY2.domain(aj.getYDomain(w,"y2"))),aj.updateXgridFocus(),ai.select("text."+Q.text+"."+Q.empty).attr("x",aj.width/2).attr("y",aj.height/2).text(ag.data_empty_label_text).transition().style("opacity",w.length?0:1),aj.updateGrid(av),aj.updateRegion(av),aj.updateBar(au),aj.updateLine(au),aj.updateArea(au),aj.updateCircle(),aj.hasDataLabel()&&aj.updateText(au),aj.redrawTitle&&aj.redrawTitle(),aj.redrawArc&&aj.redrawArc(av,au,aI),aj.redrawSubchart&&aj.redrawSubchart(aM,aO,av,au,af,ae,ad),ai.selectAll("."+Q.selectedCircles).filter(aj.isBarType.bind(aj)).selectAll("circle").remove(),ag.interaction_enabled&&!aP.flow&&aD&&(aj.redrawEventRect(),aj.updateZoom&&aj.updateZoom()),aj.updateCircleY(),al=(aj.config.axis_rotated?aj.circleY:aj.circleX).bind(aj),ak=(aj.config.axis_rotated?aj.circleX:aj.circleY).bind(aj),aP.flow&&(aq=aj.generateFlow({targets:w,flow:aP.flow,duration:aP.flow.duration,drawBar:az,drawLine:ay,drawArea:aA,cx:al,cy:ak,xv:l,xForText:ax,yForText:aw})),(av||aq)&&aj.isTabVisible()?ah.transition().duration(av).each(function(){var a=[];[aj.redrawBar(az,!0),aj.redrawLine(ay,!0),aj.redrawArea(aA,!0),aj.redrawCircle(al,ak,!0),aj.redrawText(ax,aw,aP.flow,!0),aj.redrawRegion(!0),aj.redrawGrid(!0)].forEach(function(b){b.forEach(function(c){a.push(c)})}),ar=aj.generateWait(),a.forEach(function(b){ar.add(b)})}).call(ar,function(){aq&&aq(),ag.onrendered&&ag.onrendered.call(aj)}):(aj.redrawBar(az),aj.redrawLine(ay),aj.redrawArea(aA),aj.redrawCircle(al,ak),aj.redrawText(ax,aw,aP.flow),aj.redrawRegion(),aj.redrawGrid(),ag.onrendered&&ag.onrendered.call(aj)),aj.mapToIds(aj.data.targets).forEach(function(b){aj.withoutFadeIn[b]=!0})},T.updateAndRedraw=function(f){var e,h=this,g=h.config;f=f||{},f.withTransition=E(f,"withTransition",!0),f.withTransform=E(f,"withTransform",!1),f.withLegend=E(f,"withLegend",!1),f.withUpdateXDomain=!0,f.withUpdateOrgXDomain=!0,f.withTransitionForExit=!1,f.withTransitionForTransform=E(f,"withTransitionForTransform",f.withTransition),h.updateSizes(),f.withLegend&&g.legend_show||(e=h.axis.generateTransitions(f.withTransitionForAxis?g.transition_duration:0),h.updateScales(),h.updateSvgSize(),h.transformAll(f.withTransitionForTransform,e)),h.redraw(f,e)},T.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},T.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},T.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},T.isCustomX=function(){var d=this,c=d.config;return !d.isTimeSeries()&&(c.data_x||F(c.data_xs))},T.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},T.getTranslate=function(g){var f,j,i=this,h=i.config;return"main"===g?(f=I(i.margin.left),j=I(i.margin.top)):"context"===g?(f=I(i.margin2.left),j=I(i.margin2.top)):"legend"===g?(f=i.margin3.left,j=i.margin3.top):"x"===g?(f=0,j=h.axis_rotated?0:i.height):"y"===g?(f=0,j=h.axis_rotated?i.height:0):"y2"===g?(f=h.axis_rotated?0:i.width,j=h.axis_rotated?1:0):"subx"===g?(f=0,j=h.axis_rotated?0:i.height2):"arc"===g&&(f=i.arcWidth/2,j=i.arcHeight/2),"translate("+f+","+j+")"},T.initialOpacity=function(b){return null!==b.value&&this.withoutFadeIn[b.id]?1:0},T.initialOpacityForCircle=function(b){return null!==b.value&&this.withoutFadeIn[b.id]?this.opacityForCircle(b):0},T.opacityForCircle=function(d){var c=this.config.point_show?1:0;return P(d.value)?this.isScatterType(d)?0.5:c:0},T.opacityForText=function(){return this.hasDataLabel()?1:0},T.xx=function(b){return b?this.x(b.x):null},T.xv=function(e){var d=this,f=e.value;return d.isTimeSeries()?f=d.parseDate(e.value):d.isCategorized()&&"string"==typeof e.value&&(f=d.config.axis_x_categories.indexOf(e.value)),Math.ceil(d.x(f))},T.yv=function(e){var d=this,f=e.axis&&"y2"===e.axis?d.y2:d.y;return Math.ceil(f(e.value))},T.subxx=function(b){return b?this.subX(b.x):null},T.transformMain=function(h,g){var l,k,j,i=this;g&&g.axisX?l=g.axisX:(l=i.main.select("."+Q.axisX),h&&(l=l.transition())),g&&g.axisY?k=g.axisY:(k=i.main.select("."+Q.axisY),h&&(k=k.transition())),g&&g.axisY2?j=g.axisY2:(j=i.main.select("."+Q.axisY2),h&&(j=j.transition())),(h?i.main.transition():i.main).attr("transform",i.getTranslate("main")),l.attr("transform",i.getTranslate("x")),k.attr("transform",i.getTranslate("y")),j.attr("transform",i.getTranslate("y2")),i.main.select("."+Q.chartArcs).attr("transform",i.getTranslate("arc"))},T.transformAll=function(e,d){var f=this;f.transformMain(e,d),f.config.subchart_show&&f.transformContext(e,d),f.legend&&f.transformLegend(e)},T.updateSvgSize=function(){var d=this,c=d.svg.select(".c3-brush .background");d.svg.attr("width",d.currentWidth).attr("height",d.currentHeight),d.svg.selectAll(["#"+d.clipId,"#"+d.clipIdForGrid]).select("rect").attr("width",d.width).attr("height",d.height),d.svg.select("#"+d.clipIdForXAxis).select("rect").attr("x",d.getXAxisClipX.bind(d)).attr("y",d.getXAxisClipY.bind(d)).attr("width",d.getXAxisClipWidth.bind(d)).attr("height",d.getXAxisClipHeight.bind(d)),d.svg.select("#"+d.clipIdForYAxis).select("rect").attr("x",d.getYAxisClipX.bind(d)).attr("y",d.getYAxisClipY.bind(d)).attr("width",d.getYAxisClipWidth.bind(d)).attr("height",d.getYAxisClipHeight.bind(d)),d.svg.select("#"+d.clipIdForSubchart).select("rect").attr("width",d.width).attr("height",c.size()?c.attr("height"):0),d.svg.select("."+Q.zoomRect).attr("width",d.width).attr("height",d.height),d.selectChart.style("max-height",d.currentHeight+"px")},T.updateDimension=function(d){var c=this;d||(c.config.axis_rotated?(c.axes.x.call(c.xAxis),c.axes.subx.call(c.subXAxis)):(c.axes.y.call(c.yAxis),c.axes.y2.call(c.y2Axis))),c.updateSizes(),c.updateScales(),c.updateSvgSize(),c.transformAll(!1)},T.observeInserted=function(a){var f,e=this;return"undefined"==typeof MutationObserver?void ab.console.error("MutationObserver not defined."):(f=new MutationObserver(function(b){b.forEach(function(c){"childList"===c.type&&c.previousSibling&&(f.disconnect(),e.intervalForObserveInserted=ab.setInterval(function(){a.node().parentNode&&(ab.clearInterval(e.intervalForObserveInserted),e.updateDimension(),e.brush&&e.brush.update(),e.config.oninit.call(e),e.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),a.transition().style("opacity",1))},10))})}),void f.observe(a.node(),{attributes:!0,childList:!0,characterData:!0}))},T.bindResize=function(){var a=this,f=a.config;if(a.resizeFunction=a.generateResize(),a.resizeFunction.add(function(){f.onresize.call(a)}),f.resize_auto&&a.resizeFunction.add(function(){void 0!==a.resizeTimeout&&ab.clearTimeout(a.resizeTimeout),a.resizeTimeout=ab.setTimeout(function(){delete a.resizeTimeout,a.api.flush()},100)}),a.resizeFunction.add(function(){f.onresized.call(a)}),ab.attachEvent){ab.attachEvent("onresize",a.resizeFunction)}else{if(ab.addEventListener){ab.addEventListener("resize",a.resizeFunction,!1)}else{var e=ab.onresize;e?e.add&&e.remove||(e=a.generateResize(),e.add(ab.onresize)):e=a.generateResize(),e.add(a.resizeFunction),ab.onresize=e}}},T.generateResize=function(){function d(){c.forEach(function(b){b()})}var c=[];return d.add=function(b){c.push(b)},d.remove=function(b){for(var e=0;e<c.length;e++){if(c[e]===b){c.splice(e,1);break}}},d},T.endall=function(e,d){var f=0;e.each(function(){++f}).each("end",function(){--f||d.apply(this,arguments)})},T.generateWait=function(){var d=[],c=function(a,f){var e=setInterval(function(){var g=0;d.forEach(function(b){if(b.empty()){return void (g+=1)}try{b.transition()}catch(h){g+=1}}),g===d.length&&(clearInterval(e),f&&f())},10)};return c.add=function(a){d.push(a)},c},T.parseDate=function(a){var f,e=this;return a instanceof Date?f=a:"string"==typeof a?f=e.dataTimeFormat(e.config.data_xFormat).parse(a):"number"!=typeof a||isNaN(a)||(f=new Date(+a)),f&&!isNaN(+f)||ab.console.error("Failed to parse x '"+a+"' to Date object"),f},T.isTabVisible=function(){var b;return"undefined"!=typeof document.hidden?b="hidden":"undefined"!=typeof document.mozHidden?b="mozHidden":"undefined"!=typeof document.msHidden?b="msHidden":"undefined"!=typeof document.webkitHidden&&(b="webkitHidden"),!document[b]},T.getDefaultConfig=function(){var b={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(c){return c},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return !0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:0.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:0.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_units:void 0,gauge_width:void 0,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:0.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(f,e,h,g){return this.getTooltipContent?this.getTooltipContent(f,e,h,g):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(a){b[a]=this.additionalConfig[a]},this),b},T.additionalConfig={},T.loadConfig=function(h){function g(){var b=k.shift();return b&&l&&"object"==typeof l&&b in l?(l=l[b],g()):b?void 0:l}var l,k,j,i=this.config;Object.keys(i).forEach(function(a){l=h,k=a.split("_"),j=g(),K(j)&&(i[a]=j)})},T.getScale=function(e,d,f){return(f?this.d3.time.scale():this.d3.scale.linear()).range([e,d])},T.getX=function(j,i,p,o){var n,m=this,l=m.getScale(j,i,m.isTimeSeries()),k=p?l.domain(p):l;m.isCategorized()?(o=o||function(){return 0},l=function(e,d){var f=k(e)+o(e);return d?f:Math.ceil(f)}):l=function(e,d){var f=k(e);return d?f:Math.ceil(f)};for(n in k){l[n]=k[n]}return l.orgDomain=function(){return k.domain()},m.isCategorized()&&(l.domain=function(b){return arguments.length?(k.domain(b),l):(b=this.orgDomain(),[b[0],b[1]+1])}),l},T.getY=function(f,e,h){var g=this.getScale(f,e,this.isTimeSeriesY());return h&&g.domain(h),g},T.getYScale=function(b){return"y2"===this.axis.getId(b)?this.y2:this.y},T.getSubYScale=function(b){return"y2"===this.axis.getId(b)?this.subY2:this.subY},T.updateScales=function(){var e=this,d=e.config,f=!e.x;e.xMin=d.axis_rotated?1:0,e.xMax=d.axis_rotated?e.height:e.width,e.yMin=d.axis_rotated?0:e.height,e.yMax=d.axis_rotated?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=d.axis_rotated?0:e.height2,e.subYMax=d.axis_rotated?e.width2:1,e.x=e.getX(e.xMin,e.xMax,f?void 0:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(e.yMin,e.yMax,f?d.axis_y_default:e.y.domain()),e.y2=e.getY(e.yMin,e.yMax,f?d.axis_y2_default:e.y2.domain()),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(a){return a%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(e.subYMin,e.subYMax,f?d.axis_y_default:e.subY.domain()),e.subY2=e.getY(e.subYMin,e.subYMax,f?d.axis_y2_default:e.subY2.domain()),e.xAxisTickFormat=e.axis.getXAxisTickFormat(),e.xAxisTickValues=e.axis.getXAxisTickValues(),e.yAxisTickValues=e.axis.getYAxisTickValues(),e.y2AxisTickValues=e.axis.getY2AxisTickValues(),e.xAxis=e.axis.getXAxis(e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,d.axis_x_tick_outer),e.subXAxis=e.axis.getXAxis(e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,d.axis_x_tick_outer),e.yAxis=e.axis.getYAxis(e.y,e.yOrient,d.axis_y_tick_format,e.yAxisTickValues,d.axis_y_tick_outer),e.y2Axis=e.axis.getYAxis(e.y2,e.y2Orient,d.axis_y2_tick_format,e.y2AxisTickValues,d.axis_y2_tick_outer),f||(e.brush&&e.brush.scale(e.subX),d.zoom_enabled&&e.zoom.scale(e.x)),e.updateArc&&e.updateArc()},T.getYDomainMin=function(v){var u,t,s,r,q,p,o=this,n=o.config,m=o.mapToIds(v),l=o.getValuesAsIdKeyed(v);if(n.data_groups.length>0){for(p=o.hasNegativeValueInTargets(v),u=0;u<n.data_groups.length;u++){if(r=n.data_groups[u].filter(function(b){return m.indexOf(b)>=0}),0!==r.length){for(s=r[0],p&&l[s]&&l[s].forEach(function(d,c){l[s][c]=0>d?d:0}),t=1;t<r.length;t++){q=r[t],l[q]&&l[q].forEach(function(d,c){o.axis.getId(q)!==o.axis.getId(s)||!l[s]||p&&+d>0||(l[s][c]+=+d)})}}}}return o.d3.min(Object.keys(l).map(function(b){return o.d3.min(l[b])}))},T.getYDomainMax=function(v){var u,t,s,r,q,p,o=this,n=o.config,m=o.mapToIds(v),l=o.getValuesAsIdKeyed(v);if(n.data_groups.length>0){for(p=o.hasPositiveValueInTargets(v),u=0;u<n.data_groups.length;u++){if(r=n.data_groups[u].filter(function(b){return m.indexOf(b)>=0}),0!==r.length){for(s=r[0],p&&l[s]&&l[s].forEach(function(d,c){l[s][c]=d>0?d:0}),t=1;t<r.length;t++){q=r[t],l[q]&&l[q].forEach(function(d,c){o.axis.getId(q)!==o.axis.getId(s)||!l[s]||p&&0>+d||(l[s][c]+=+d)})}}}}return o.d3.max(Object.keys(l).map(function(b){return o.d3.max(l[b])}))},T.getYDomain=function(aA,az,ay){var ax,aw,av,au,at,ar,aq,ap,ao,an,am,al=this,aj=al.config,ah=aA.filter(function(b){return al.axis.getId(b.id)===az}),af=ay?al.filterByXDomain(ah,ay):ah,ad="y2"===az?aj.axis_y2_min:aj.axis_y_min,ac="y2"===az?aj.axis_y2_max:aj.axis_y_max,v=al.getYDomainMin(af),t=al.getYDomainMax(af),m="y2"===az?aj.axis_y2_center:aj.axis_y_center,ak=al.hasType("bar",af)&&aj.bar_zerobased||al.hasType("area",af)&&aj.area_zerobased,ai="y2"===az?aj.axis_y2_inverted:aj.axis_y_inverted,ag=al.hasDataLabel()&&aj.axis_rotated,ae=al.hasDataLabel()&&!aj.axis_rotated;return v=P(ad)?ad:P(ac)?ac>v?v:ac-10:v,t=P(ac)?ac:P(ad)?t>ad?t:ad+10:t,0===af.length?"y2"===az?al.y2.domain():al.y.domain():(isNaN(v)&&(v=0),isNaN(t)&&(t=v),v===t&&(0>v?t=0:v=0),an=v>=0&&t>=0,am=0>=v&&0>=t,(P(ad)&&an||P(ac)&&am)&&(ak=!1),ak&&(an&&(v=0),am&&(t=0)),aw=Math.abs(t-v),av=au=at=0.1*aw,"undefined"!=typeof m&&(ar=Math.max(Math.abs(v),Math.abs(t)),t=m+ar,v=m-ar),ag?(aq=al.getDataLabelLength(v,t,"width"),ap=H(al.y.range()),ao=[aq[0]/ap,aq[1]/ap],au+=aw*(ao[1]/(1-ao[0]-ao[1])),at+=aw*(ao[0]/(1-ao[0]-ao[1]))):ae&&(aq=al.getDataLabelLength(v,t,"height"),au+=al.axis.convertPixelsToAxisPadding(aq[1],aw),at+=al.axis.convertPixelsToAxisPadding(aq[0],aw)),"y"===az&&F(aj.axis_y_padding)&&(au=al.axis.getPadding(aj.axis_y_padding,"top",au,aw),at=al.axis.getPadding(aj.axis_y_padding,"bottom",at,aw)),"y2"===az&&F(aj.axis_y2_padding)&&(au=al.axis.getPadding(aj.axis_y2_padding,"top",au,aw),at=al.axis.getPadding(aj.axis_y2_padding,"bottom",at,aw)),ak&&(an&&(at=v),am&&(au=-t)),ax=[v-at,t+au],ai?ax.reverse():ax)},T.getXDomainMin=function(e){var d=this,f=d.config;return K(f.axis_x_min)?d.isTimeSeries()?this.parseDate(f.axis_x_min):f.axis_x_min:d.d3.min(e,function(b){return d.d3.min(b.values,function(c){return c.x})})},T.getXDomainMax=function(e){var d=this,f=d.config;return K(f.axis_x_max)?d.isTimeSeries()?this.parseDate(f.axis_x_max):f.axis_x_max:d.d3.max(e,function(b){return d.d3.max(b.values,function(c){return c.x})})},T.getXDomainPadding=function(j){var i,p,o,n,m=this,l=m.config,k=j[1]-j[0];return m.isCategorized()?p=0:m.hasType("bar")?(i=m.getMaxDataCount(),p=i>1?k/(i-1)/2:0.5):p=0.01*k,"object"==typeof l.axis_x_padding&&F(l.axis_x_padding)?(o=P(l.axis_x_padding.left)?l.axis_x_padding.left:p,n=P(l.axis_x_padding.right)?l.axis_x_padding.right:p):o=n="number"==typeof l.axis_x_padding?l.axis_x_padding:p,{left:o,right:n}},T.getXDomain=function(j){var i=this,p=[i.getXDomainMin(j),i.getXDomainMax(j)],o=p[0],n=p[1],m=i.getXDomainPadding(p),l=0,k=0;return o-n!==0||i.isCategorized()||(i.isTimeSeries()?(o=new Date(0.5*o.getTime()),n=new Date(1.5*n.getTime())):(o=0===o?1:0.5*o,n=0===n?-1:1.5*n)),(o||0===o)&&(l=i.isTimeSeries()?new Date(o.getTime()-m.left):o-m.left),(n||0===n)&&(k=i.isTimeSeries()?new Date(n.getTime()+m.right):n+m.right),[l,k]},T.updateXDomain=function(i,h,n,m,l){var k=this,j=k.config;return n&&(k.x.domain(l?l:k.d3.extent(k.getXDomain(i))),k.orgXDomain=k.x.domain(),j.zoom_enabled&&k.zoom.scale(k.x).updateScaleExtent(),k.subX.domain(k.x.domain()),k.brush&&k.brush.scale(k.subX)),h&&(k.x.domain(l?l:!k.brush||k.brush.empty()?k.orgXDomain:k.brush.extent()),j.zoom_enabled&&k.zoom.scale(k.x).updateScaleExtent()),m&&k.x.domain(k.trimXDomain(k.x.orgDomain())),k.x.domain()},T.trimXDomain=function(f){var e=this.getZoomDomain(),h=e[0],g=e[1];return f[0]<=h&&(f[1]=+f[1]+(h-f[0]),f[0]=h),g<=f[1]&&(f[0]=+f[0]-(f[1]-g),f[1]=g),f},T.isX=function(e){var d=this,f=d.config;return f.data_x&&e===f.data_x||F(f.data_xs)&&D(f.data_xs,e)},T.isNotX=function(b){return !this.isX(b)},T.getXKey=function(e){var d=this,f=d.config;return f.data_x?f.data_x:F(f.data_xs)?f.data_xs[e]:null},T.getXValuesOfXKey=function(g,f){var j,i=this,h=f&&F(f)?i.mapToIds(f):[];return h.forEach(function(a){i.getXKey(a)===g&&(j=i.data.xs[a])}),j},T.getIndexByX=function(e){var d=this,f=d.filterByX(d.data.targets,e);return f.length?f[0].index:null},T.getXValue=function(e,d){var f=this;return e in f.data.xs&&f.data.xs[e]&&P(f.data.xs[e][d])?f.data.xs[e][d]:d},T.getOtherTargetXs=function(){var d=this,c=Object.keys(d.data.xs);return c.length?d.data.xs[c[0]]:null},T.getOtherTargetX=function(d){var c=this.getOtherTargetXs();return c&&d<c.length?c[d]:null},T.addXs=function(d){var c=this;Object.keys(d).forEach(function(a){c.config.data_xs[a]=d[a]})},T.hasMultipleX=function(b){return this.d3.set(Object.keys(b).map(function(a){return b[a]})).size()>1},T.isMultipleX=function(){return F(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},T.addName=function(e){var d,f=this;return e&&(d=f.config.data_names[e.id],e.name=void 0!==d?d:e.id),e},T.getValueOnIndex=function(e,d){var f=e.filter(function(b){return b.index===d});return f.length?f[0]:null},T.updateTargetX=function(e,d){var f=this;e.forEach(function(b){b.values.forEach(function(c,a){c.x=f.generateTargetX(d[a],b.id,a)}),f.data.xs[b.id]=d})},T.updateTargetXs=function(e,d){var f=this;e.forEach(function(b){d[b.id]&&f.updateTargetX([b],d[b.id])})},T.generateTargetX=function(g,f,j){var i,h=this;return i=h.isTimeSeries()?g?h.parseDate(g):h.parseDate(h.getXValue(f,j)):h.isCustomX()&&!h.isCategorized()?P(g)?+g:h.getXValue(f,j):j},T.cloneTarget=function(b){return{id:b.id,id_org:b.id_org,values:b.values.map(function(c){return{x:c.x,value:c.value,id:c.id}})}},T.updateXs=function(){var b=this;b.data.targets.length&&(b.xs=[],b.data.targets[0].values.forEach(function(a){b.xs[a.index]=a.x}))},T.getPrevX=function(d){var c=this.xs[d-1];return"undefined"!=typeof c?c:null},T.getNextX=function(d){var c=this.xs[d+1];return"undefined"!=typeof c?c:null},T.getMaxDataCount=function(){var b=this;return b.d3.max(b.data.targets,function(c){return c.values.length})},T.getMaxDataCountTarget=function(f){var e,h=f.length,g=0;return h>1?f.forEach(function(b){b.values.length>g&&(e=b,g=b.values.length)}):e=h?f[0]:null,e},T.getEdgeX=function(d){var c=this;return d.length?[c.d3.min(d,function(b){return b.values[0].x}),c.d3.max(d,function(b){return b.values[b.values.length-1].x})]:[0,0]},T.mapToIds=function(b){return b.map(function(c){return c.id})},T.mapToTargetIds=function(d){var c=this;return d?[].concat(d):c.mapToIds(c.data.targets)},T.hasTarget=function(f,e){var h,g=this.mapToIds(f);for(h=0;h<g.length;h++){if(g[h]===e){return !0}}return !1},T.isTargetToShow=function(b){return this.hiddenTargetIds.indexOf(b)<0},T.isLegendToShow=function(b){return this.hiddenLegendIds.indexOf(b)<0},T.filterTargetsToShow=function(d){var c=this;return d.filter(function(b){return c.isTargetToShow(b.id)})},T.mapTargetsToUniqueXs=function(e){var d=this,f=d.d3.set(d.d3.merge(e.map(function(b){return b.values.map(function(c){return +c.x})}))).values();return f=d.isTimeSeries()?f.map(function(b){return new Date(+b)}):f.map(function(b){return +b}),f.sort(function(g,c){return c>g?-1:g>c?1:g>=c?0:NaN})},T.addHiddenTargetIds=function(b){this.hiddenTargetIds=this.hiddenTargetIds.concat(b)},T.removeHiddenTargetIds=function(b){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(a){return b.indexOf(a)<0})},T.addHiddenLegendIds=function(b){this.hiddenLegendIds=this.hiddenLegendIds.concat(b)},T.removeHiddenLegendIds=function(b){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(a){return b.indexOf(a)<0})},T.getValuesAsIdKeyed=function(d){var c={};return d.forEach(function(b){c[b.id]=[],b.values.forEach(function(a){c[b.id].push(a.value)})}),c},T.checkValueInTargets=function(h,g){var l,k,j,i=Object.keys(h);for(l=0;l<i.length;l++){for(j=h[i[l]].values,k=0;k<j.length;k++){if(g(j[k].value)){return !0}}}return !1},T.hasNegativeValueInTargets=function(b){return this.checkValueInTargets(b,function(c){return 0>c})},T.hasPositiveValueInTargets=function(b){return this.checkValueInTargets(b,function(c){return c>0})},T.isOrderDesc=function(){var b=this.config;return"string"==typeof b.data_order&&"desc"===b.data_order.toLowerCase()},T.isOrderAsc=function(){var b=this.config;return"string"==typeof b.data_order&&"asc"===b.data_order.toLowerCase()},T.orderTargets=function(g){var f=this,j=f.config,i=f.isOrderAsc(),h=f.isOrderDesc();return i||h?g.sort(function(k,d){var n=function(e,c){return e+Math.abs(c.value)},m=k.values.reduce(n,0),l=d.values.reduce(n,0);return i?l-m:m-l}):O(j.data_order)&&g.sort(j.data_order),g},T.filterByX=function(d,c){return this.d3.merge(d.map(function(b){return b.values})).filter(function(b){return b.x-c===0})},T.filterRemoveNull=function(b){return b.filter(function(c){return P(c.value)})},T.filterByXDomain=function(d,c){return d.map(function(b){return{id:b.id,id_org:b.id_org,values:b.values.filter(function(e){return c[0]<=e.x&&e.x<=c[1]})}})},T.hasDataLabel=function(){var b=this.config;return"boolean"==typeof b.data_labels&&b.data_labels?!0:!("object"!=typeof b.data_labels||!F(b.data_labels))},T.getDataLabelLength=function(h,g,l){var k=this,j=[0,0],i=1.3;return k.selectChart.select("svg").selectAll(".dummy").data([h,g]).enter().append("text").text(function(b){return k.dataLabelFormat(b.id)(b)}).each(function(d,c){j[c]=this.getBoundingClientRect()[l]*i}).remove(),j},T.isNoneArc=function(b){return this.hasTarget(this.data.targets,b.id)},T.isArc=function(b){return"data" in b&&this.hasTarget(this.data.targets,b.data.id)},T.findSameXOfValues=function(g,f){var j,i=g[f].x,h=[];for(j=f-1;j>=0&&i===g[j].x;j--){h.push(g[j])}for(j=f;j<g.length&&i===g[j].x;j++){h.push(g[j])}return h},T.findClosestFromTargets=function(f,e){var h,g=this;return h=f.map(function(b){return g.findClosest(b.values,e)}),g.findClosest(h,e)},T.findClosest=function(g,f){var j,i=this,h=i.config.point_sensitivity;return g.filter(function(b){return b&&i.isBarType(b.id)}).forEach(function(d){var c=i.main.select("."+Q.bars+i.getTargetSelectorSuffix(d.id)+" ."+Q.bar+"-"+d.index).node();!j&&i.isWithinBar(c)&&(j=d)}),g.filter(function(b){return b&&!i.isBarType(b.id)}).forEach(function(b){var c=i.dist(b,f);h>c&&(h=c,j=b)}),j},T.dist=function(j,i){var p=this,o=p.config,n=o.axis_rotated?1:0,m=o.axis_rotated?0:1,l=p.circleY(j,j.index),k=p.x(j.x);return Math.sqrt(Math.pow(k-i[n],2)+Math.pow(l-i[m],2))},T.convertValuesToStep=function(e){var d,f=[].concat(e);if(!this.isCategorized()){return e}for(d=e.length+1;d>0;d--){f[d]=f[d-1]}return f[0]={x:f[0].x-1,value:f[0].value,id:f[0].id},f[e.length+1]={x:f[e.length].x+1,value:f[e.length].value,id:f[e.length].id},f},T.updateDataAttributes=function(g,f){var j=this,i=j.config,h=i["data_"+g];return"undefined"==typeof f?h:(Object.keys(f).forEach(function(b){h[b]=f[b]}),j.redraw({withLegend:!0}),h)},T.convertUrlToData=function(j,i,p,o,n){var m=this,l=i?i:"csv",k=m.d3.xhr(j);p&&Object.keys(p).forEach(function(b){k.header(b,p[b])}),k.get(function(e,d){var f;if(!d){throw new Error(e.responseURL+" "+e.status+" ("+e.statusText+")")}f="json"===l?m.convertJsonToData(JSON.parse(d.response),o):"tsv"===l?m.convertTsvToData(d.response):m.convertCsvToData(d.response),n.call(m,f)})},T.convertXsvToData=function(f,e){var h,g=e.parseRows(f);return 1===g.length?(h=[{}],g[0].forEach(function(b){h[0][b]=null})):h=e.parse(f),h},T.convertCsvToData=function(b){return this.convertXsvToData(b,this.d3.csv)},T.convertTsvToData=function(b){return this.convertXsvToData(b,this.d3.tsv)},T.convertJsonToData=function(h,g){var l,k,j=this,i=[];return g?(g.x?(l=g.value.concat(g.x),j.config.data_x=g.x):l=g.value,i.push(l),h.forEach(function(d){var c=[];l.forEach(function(b){var a=j.findValueInJson(d,b);M(a)&&(a=null),c.push(a)}),i.push(c)}),k=j.convertRowsToData(i)):(Object.keys(h).forEach(function(a){i.push([a].concat(h[a]))}),k=j.convertColumnsToData(i)),k},T.findValueInJson=function(g,f){f=f.replace(/\[(\w+)\]/g,".$1"),f=f.replace(/^\./,"");for(var j=f.split("."),i=0;i<j.length;++i){var h=j[i];if(!(h in g)){return}g=g[h]}return g},T.convertRowsToData=function(h){var g,l,k=h[0],j={},i=[];for(g=1;g<h.length;g++){for(j={},l=0;l<h[g].length;l++){if(M(h[g][l])){throw new Error("Source data is missing a component at ("+g+","+l+")!")}j[k[l]]=h[g][l]}i.push(j)}return i},T.convertColumnsToData=function(g){var f,j,i,h=[];for(f=0;f<g.length;f++){for(i=g[f][0],j=1;j<g[f].length;j++){if(M(h[j-1])&&(h[j-1]={}),M(g[f][j])){throw new Error("Source data is missing a component at ("+f+","+j+")!")}h[j-1][i]=g[f][j]}}return h},T.convertDataToTargets=function(i,h){var n,m=this,l=m.config,k=m.d3.keys(i[0]).filter(m.isNotX,m),j=m.d3.keys(i[0]).filter(m.isX,m);return k.forEach(function(b){var a=m.getXKey(b);m.isCustomX()||m.isTimeSeries()?j.indexOf(a)>=0?m.data.xs[b]=(h&&m.data.xs[b]?m.data.xs[b]:[]).concat(i.map(function(c){return c[a]}).filter(P).map(function(d,c){return m.generateTargetX(d,b,c)})):l.data_x?m.data.xs[b]=m.getOtherTargetXs():F(l.data_xs)&&(m.data.xs[b]=m.getXValuesOfXKey(a,m.data.targets)):m.data.xs[b]=i.map(function(d,c){return c})}),k.forEach(function(b){if(!m.data.xs[b]){throw new Error('x is not defined for id = "'+b+'".')}}),n=k.map(function(a,e){var d=l.data_idConverter(a);return{id:d,id_org:a,values:i.map(function(b,q){var p,o=m.getXKey(a),f=b[o],c=null===b[a]||isNaN(b[a])?null:+b[a];return m.isCustomX()&&m.isCategorized()&&0===e&&!M(f)?(0===e&&0===q&&(l.axis_x_categories=[]),p=l.axis_x_categories.indexOf(f),-1===p&&(p=l.axis_x_categories.length,l.axis_x_categories.push(f))):p=m.generateTargetX(f,a,q),(M(b[a])||m.data.xs[a].length<=q)&&(p=void 0),{x:p,value:c,id:d}}).filter(function(b){return K(b.x)})}}),n.forEach(function(d){var c;l.data_xSort&&(d.values=d.values.sort(function(f,e){var o=f.x||0===f.x?f.x:1/0,g=e.x||0===e.x?e.x:1/0;return o-g})),c=0,d.values.forEach(function(b){b.index=c++}),m.data.xs[d.id].sort(function(f,e){return f-e})}),m.hasNegativeValue=m.hasNegativeValueInTargets(n),m.hasPositiveValue=m.hasPositiveValueInTargets(n),l.data_type&&m.setTargetType(m.mapToIds(n).filter(function(b){return !(b in l.data_types)}),l.data_type),n.forEach(function(b){m.addCache(b.id_org,b)}),n},T.load=function(e,d){var f=this;e&&(d.filter&&(e=e.filter(d.filter)),(d.type||d.types)&&e.forEach(function(b){var c=d.types&&d.types[b.id]?d.types[b.id]:d.type;f.setTargetType(b.id,c)}),f.data.targets.forEach(function(a){for(var g=0;g<e.length;g++){if(a.id===e[g].id){a.values=e[g].values,e.splice(g,1);break}}}),f.data.targets=f.data.targets.concat(e)),f.updateTargets(f.data.targets),f.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),d.done&&d.done()},T.loadFromArgs=function(d){var c=this;d.data?c.load(c.convertDataToTargets(d.data),d):d.url?c.convertUrlToData(d.url,d.mimeType,d.headers,d.keys,function(a){c.load(c.convertDataToTargets(a),d)}):d.json?c.load(c.convertDataToTargets(c.convertJsonToData(d.json,d.keys)),d):d.rows?c.load(c.convertDataToTargets(c.convertRowsToData(d.rows)),d):d.columns?c.load(c.convertDataToTargets(c.convertColumnsToData(d.columns)),d):c.load(null,d)},T.unload=function(e,d){var f=this;return d||(d=function(){}),e=e.filter(function(b){return f.hasTarget(f.data.targets,b)}),e&&0!==e.length?(f.svg.selectAll(e.map(function(b){return f.selectorTarget(b)})).transition().style("opacity",0).remove().call(f.endall,d),void e.forEach(function(b){f.withoutFadeIn[b]=!1,f.legend&&f.legend.selectAll("."+Q.legendItem+f.getTargetSelectorSuffix(b)).remove(),f.data.targets=f.data.targets.filter(function(a){return a.id!==b})})):void d()},T.categoryName=function(d){var c=this.config;return d<c.axis_x_categories.length?c.axis_x_categories[d]:d},T.initEventRect=function(){var b=this;b.main.select("."+Q.chart).append("g").attr("class",Q.eventRects).style("fill-opacity",0)},T.redrawEventRect=function(){var h,g,l=this,k=l.config,j=l.isMultipleX(),i=l.main.select("."+Q.eventRects).style("cursor",k.zoom_enabled?k.axis_rotated?"ns-resize":"ew-resize":null).classed(Q.eventRectsMultiple,j).classed(Q.eventRectsSingle,!j);i.selectAll("."+Q.eventRect).remove(),l.eventRect=i.selectAll("."+Q.eventRect),j?(h=l.eventRect.data([0]),l.generateEventRectsForMultipleXs(h.enter()),l.updateEventRect(h)):(g=l.getMaxDataCountTarget(l.data.targets),i.datum(g?g.values:[]),l.eventRect=i.selectAll("."+Q.eventRect),h=l.eventRect.data(function(b){return b}),l.generateEventRectsForSingleX(h.enter()),l.updateEventRect(h),h.exit().remove())},T.updateEventRect=function(r){var q,p,o,n,m,l,k=this,j=k.config;r=r||k.eventRect.data(function(b){return b}),k.isMultipleX()?(q=0,p=0,o=k.width,n=k.height):(!k.isCustomX()&&!k.isTimeSeries()||k.isCategorized()?(m=k.getEventRectWidth(),l=function(b){return k.x(b.x)-m/2}):(k.updateXs(),m=function(e){var d=k.getPrevX(e.index),f=k.getNextX(e.index);return null===d&&null===f?j.axis_rotated?k.height:k.width:(null===d&&(d=k.x.domain()[0]),null===f&&(f=k.x.domain()[1]),Math.max(0,(k.x(f)-k.x(d))/2))},l=function(f){var e=k.getPrevX(f.index),h=k.getNextX(f.index),g=k.data.xs[f.id][f.index];return null===e&&null===h?0:(null===e&&(e=k.x.domain()[0]),(k.x(g)+k.x(e))/2)}),q=j.axis_rotated?0:l,p=j.axis_rotated?l:0,o=j.axis_rotated?k.width:m,n=j.axis_rotated?m:k.height),r.attr("class",k.classEvent.bind(k)).attr("x",q).attr("y",p).attr("width",o).attr("height",n)},T.generateEventRectsForSingleX=function(f){var e=this,h=e.d3,g=e.config;f.append("rect").attr("class",e.classEvent.bind(e)).style("cursor",g.data_selection_enabled&&g.data_selection_grouped?"pointer":null).on("mouseover",function(b){var d=b.index;e.dragging||e.flowing||e.hasArcType()||(g.point_focus_expand_enabled&&e.expandCircles(d,null,!0),e.expandBars(d,null,!0),e.main.selectAll("."+Q.shape+"-"+d).each(function(c){g.data_onmouseover.call(e.api,c)}))}).on("mouseout",function(b){var d=b.index;e.config&&(e.hasArcType()||(e.hideXGridFocus(),e.hideTooltip(),e.unexpandCircles(),e.unexpandBars(),e.main.selectAll("."+Q.shape+"-"+d).each(function(c){g.data_onmouseout.call(e.api,c)})))}).on("mousemove",function(b){var i,d=b.index,c=e.svg.select("."+Q.eventRect+"-"+d);e.dragging||e.flowing||e.hasArcType()||(e.isStepType(b)&&"step-after"===e.config.line_step_type&&h.mouse(this)[0]<e.x(e.getXValue(b.id,d))&&(d-=1),i=e.filterTargetsToShow(e.data.targets).map(function(j){return e.addName(e.getValueOnIndex(j.values,d))}),g.tooltip_grouped&&(e.showTooltip(i,this),e.showXGridFocus(i)),(!g.tooltip_grouped||g.data_selection_enabled&&!g.data_selection_grouped)&&e.main.selectAll("."+Q.shape+"-"+d).each(function(){h.select(this).classed(Q.EXPANDED,!0),g.data_selection_enabled&&c.style("cursor",g.data_selection_grouped?"pointer":null),g.tooltip_grouped||(e.hideXGridFocus(),e.hideTooltip(),g.data_selection_grouped||(e.unexpandCircles(d),e.unexpandBars(d)))}).filter(function(j){return e.isWithinShape(this,j)}).each(function(j){g.data_selection_enabled&&(g.data_selection_grouped||g.data_selection_isselectable(j))&&c.style("cursor","pointer"),g.tooltip_grouped||(e.showTooltip([j],this),e.showXGridFocus([j]),g.point_focus_expand_enabled&&e.expandCircles(d,j.id,!0),e.expandBars(d,j.id,!0))}))}).on("click",function(b){var c=b.index;if(!e.hasArcType()&&e.toggleShape){if(e.cancelClick){return void (e.cancelClick=!1)}e.isStepType(b)&&"step-after"===g.line_step_type&&h.mouse(this)[0]<e.x(e.getXValue(b.id,c))&&(c-=1),e.main.selectAll("."+Q.shape+"-"+c).each(function(d){(g.data_selection_grouped||e.isWithinShape(this,d))&&(e.toggleShape(this,d,c),e.config.data_onclick.call(e.api,d,this))})}}).call(g.data_selection_draggable&&e.drag?h.behavior.drag().origin(Object).on("drag",function(){e.drag(h.mouse(this))}).on("dragstart",function(){e.dragstart(h.mouse(this))}).on("dragend",function(){e.dragend()}):function(){})},T.generateEventRectsForMultipleXs=function(g){function f(){j.svg.select("."+Q.eventRect).style("cursor",null),j.hideXGridFocus(),j.hideTooltip(),j.unexpandCircles(),j.unexpandBars()}var j=this,i=j.d3,h=j.config;g.append("rect").attr("x",0).attr("y",0).attr("width",j.width).attr("height",j.height).attr("class",Q.eventRect).on("mouseout",function(){j.config&&(j.hasArcType()||f())}).on("mousemove",function(){var b,k,e,d,c=j.filterTargetsToShow(j.data.targets);if(!j.dragging&&!j.hasArcType(c)){if(b=i.mouse(this),k=j.findClosestFromTargets(c,b),!j.mouseover||k&&k.id===j.mouseover.id||(h.data_onmouseout.call(j.api,j.mouseover),j.mouseover=void 0),!k){return void f()}e=j.isScatterType(k)||!h.tooltip_grouped?[k]:j.filterByX(c,k.x),d=e.map(function(l){return j.addName(l)}),j.showTooltip(d,this),h.point_focus_expand_enabled&&j.expandCircles(k.index,k.id,!0),j.expandBars(k.index,k.id,!0),j.showXGridFocus(d),(j.isBarType(k.id)||j.dist(k,b)<h.point_sensitivity)&&(j.svg.select("."+Q.eventRect).style("cursor","pointer"),j.mouseover||(h.data_onmouseover.call(j.api,k),j.mouseover=k))}}).on("click",function(){var d,c,e=j.filterTargetsToShow(j.data.targets);j.hasArcType(e)||(d=i.mouse(this),c=j.findClosestFromTargets(e,d),c&&(j.isBarType(c.id)||j.dist(c,d)<h.point_sensitivity)&&j.main.selectAll("."+Q.shapes+j.getTargetSelectorSuffix(c.id)).selectAll("."+Q.shape+"-"+c.index).each(function(){(h.data_selection_grouped||j.isWithinShape(this,c))&&(j.toggleShape(this,c,c.index),j.config.data_onclick.call(j.api,c,this))}))}).call(h.data_selection_draggable&&j.drag?i.behavior.drag().origin(Object).on("drag",function(){j.drag(i.mouse(this))}).on("dragstart",function(){j.dragstart(i.mouse(this))}).on("dragend",function(){j.dragend()}):function(){})},T.dispatchEvent=function(t,s,r){var q=this,p="."+Q.eventRect+(q.isMultipleX()?"":"-"+s),o=q.main.select(p).node(),n=o.getBoundingClientRect(),m=n.left+(r?r[0]:0),l=n.top+(r?r[1]:0),a=document.createEvent("MouseEvents");a.initMouseEvent(t,!0,!0,ab,0,m,l,m,l,!1,!1,!1,!1,0,null),o.dispatchEvent(a)},T.getCurrentWidth=function(){var d=this,c=d.config;return c.size_width?c.size_width:d.getParentWidth()},T.getCurrentHeight=function(){var e=this,d=e.config,f=d.size_height?d.size_height:e.getParentHeight();return f>0?f:320/(e.hasType("gauge")&&!d.gauge_fullCircle?2:1)},T.getCurrentPaddingTop=function(){var e=this,d=e.config,f=P(d.padding_top)?d.padding_top:0;return e.title&&e.title.node()&&(f+=e.getTitlePadding()),f},T.getCurrentPaddingBottom=function(){var b=this.config;return P(b.padding_bottom)?b.padding_bottom:0},T.getCurrentPaddingLeft=function(e){var d=this,f=d.config;return P(f.padding_left)?f.padding_left:f.axis_rotated?f.axis_x_show?Math.max(J(d.getAxisWidthByAxisId("x",e)),40):1:!f.axis_y_show||f.axis_y_inner?d.axis.getYAxisLabelPosition().isOuter?30:1:J(d.getAxisWidthByAxisId("y",e))},T.getCurrentPaddingRight=function(){var f=this,e=f.config,h=10,g=f.isLegendRight?f.getLegendWidth()+20:0;return P(e.padding_right)?e.padding_right+1:e.axis_rotated?h+g:!e.axis_y2_show||e.axis_y2_inner?2+g+(f.axis.getY2AxisLabelPosition().isOuter?20:0):J(f.getAxisWidthByAxisId("y2"))+g},T.getParentRectValue=function(f){for(var e,h=this.selectChart.node();h&&"BODY"!==h.tagName;){try{e=h.getBoundingClientRect()[f]}catch(g){"width"===f&&(e=h.offsetWidth)}if(e){break}h=h.parentNode}return e},T.getParentWidth=function(){return this.getParentRectValue("width")},T.getParentHeight=function(){var b=this.selectChart.style("height");return b.indexOf("px")>0?+b.replace("px",""):0},T.getSvgLeft=function(t){var s=this,r=s.config,q=r.axis_rotated||!r.axis_rotated&&!r.axis_y_inner,p=r.axis_rotated?Q.axisX:Q.axisY,o=s.main.select("."+p).node(),n=o&&q?o.getBoundingClientRect():{right:0},m=s.selectChart.node().getBoundingClientRect(),l=s.hasArcType(),k=n.right-m.left-(l?0:s.getCurrentPaddingLeft(t));return k>0?k:0},T.getAxisWidthByAxisId=function(f,e){var h=this,g=h.axis.getLabelPositionById(f);return h.axis.getMaxTickWidth(f,e)+(g.isInner?20:40)},T.getHorizontalAxisHeight=function(f){var e=this,h=e.config,g=30;return"x"!==f||h.axis_x_show?"x"===f&&h.axis_x_height?h.axis_x_height:"y"!==f||h.axis_y_show?"y2"!==f||h.axis_y2_show?("x"===f&&!h.axis_rotated&&h.axis_x_tick_rotate&&(g=30+e.axis.getMaxTickWidth(f)*Math.cos(Math.PI*(90-h.axis_x_tick_rotate)/180)),"y"===f&&h.axis_rotated&&h.axis_y_tick_rotate&&(g=30+e.axis.getMaxTickWidth(f)*Math.cos(Math.PI*(90-h.axis_y_tick_rotate)/180)),g+(e.axis.getLabelPositionById(f).isInner?0:10)+("y2"===f?-10:0)):e.rotated_padding_top:!h.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},T.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},T.getShapeIndices=function(i){var h,n,m=this,l=m.config,k={},j=0;return m.filterTargetsToShow(m.data.targets.filter(i,m)).forEach(function(b){for(h=0;h<l.data_groups.length;h++){if(!(l.data_groups[h].indexOf(b.id)<0)){for(n=0;n<l.data_groups[h].length;n++){if(l.data_groups[h][n] in k){k[b.id]=k[l.data_groups[h][n]];break}}}}M(k[b.id])&&(k[b.id]=j++)}),k.__max__=j-1,k},T.getShapeX=function(h,g,l,k){var j=this,i=k?j.subX:j.x;return function(b){var a=b.id in l?l[b.id]:0;return b.x||0===b.x?i(b.x)-h*(g/2-a):0}},T.getShapeY=function(d){var c=this;return function(b){var a=d?c.getSubYScale(b.id):c.getYScale(b.id);return a(b.value)}},T.getShapeOffset=function(h,g,l){var k=this,j=k.orderTargets(k.filterTargetsToShow(k.data.targets.filter(h,k))),i=j.map(function(b){return b.id});return function(b,f){var e=l?k.getSubYScale(b.id):k.getYScale(b.id),d=e(0),c=d;return j.forEach(function(m){var a=k.isStepType(b)?k.convertValuesToStep(m.values):m.values;m.id!==b.id&&g[m.id]===g[b.id]&&i.indexOf(m.id)<i.indexOf(b.id)&&("undefined"!=typeof a[f]&&+a[f].x===+b.x||(f=-1,a.forEach(function(n,o){n.x===b.x&&(f=o)})),f in a&&a[f].value*b.value>=0&&(c+=e(a[f].value)-d))}),c}},T.isWithinShape=function(g,f){var j,i=this,h=i.d3.select(g);return i.isTargetToShow(f.id)?"circle"===g.nodeName?j=i.isStepType(f)?i.isWithinStep(g,i.getYScale(f.id)(f.value)):i.isWithinCircle(g,1.5*i.pointSelectR(f)):"path"===g.nodeName&&(j=h.classed(Q.bar)?i.isWithinBar(g):!0):j=!1,j},T.getInterpolate=function(e){var d=this,f=d.isInterpolationType(d.config.spline_interpolation_type)?d.config.spline_interpolation_type:"cardinal";return d.isSplineType(e)?f:d.isStepType(e)?d.config.line_step_type:"linear"},T.initLine=function(){var b=this;b.main.select("."+Q.chart).append("g").attr("class",Q.chartLines)},T.updateTargetsForLine=function(t){var s,r,q=this,p=q.config,o=q.classChartLine.bind(q),n=q.classLines.bind(q),m=q.classAreas.bind(q),l=q.classCircles.bind(q),k=q.classFocus.bind(q);s=q.main.select("."+Q.chartLines).selectAll("."+Q.chartLine).data(t).attr("class",function(b){return o(b)+k(b)}),r=s.enter().append("g").attr("class",o).style("opacity",0).style("pointer-events","none"),r.append("g").attr("class",n),r.append("g").attr("class",m),r.append("g").attr("class",function(b){return q.generateClass(Q.selectedCircles,b.id)}),r.append("g").attr("class",l).style("cursor",function(b){return p.data_selection_isselectable(b)?"pointer":null}),t.forEach(function(b){q.main.selectAll("."+Q.selectedCircles+q.getTargetSelectorSuffix(b.id)).selectAll("."+Q.selectedCircle).each(function(a){a.value=b.values[a.index].value})})},T.updateLine=function(d){var c=this;c.mainLine=c.main.selectAll("."+Q.lines).selectAll("."+Q.line).data(c.lineData.bind(c)),c.mainLine.enter().append("path").attr("class",c.classLine.bind(c)).style("stroke",c.color),c.mainLine.style("opacity",c.initialOpacity.bind(c)).style("shape-rendering",function(b){return c.isStepType(b)?"crispEdges":""}).attr("transform",null),c.mainLine.exit().transition().duration(d).style("opacity",0).remove()},T.redrawLine=function(d,c){return[(c?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",d).style("stroke",this.color).style("opacity",1)]},T.generateDrawLine=function(r,q){var p=this,o=p.config,n=p.d3.svg.line(),m=p.generateGetLinePoints(r,q),l=q?p.getSubYScale:p.getYScale,k=function(b){return(q?p.subxx:p.xx).call(p,b)},j=function(d,c){return o.data_groups.length>0?m(d,c)[0][1]:l.call(p,d.id)(d.value)};return n=o.axis_rotated?n.x(j).y(k):n.x(k).y(j),o.line_connectNull||(n=n.defined(function(b){return null!=b.value})),function(c){var t,s=o.line_connectNull?p.filterRemoveNull(c.values):c.values,g=q?p.x:p.subX,e=l.call(p,c.id),d=0,b=0;return p.isLineType(c)?o.data_regions[c.id]?t=p.lineWithRegions(s,g,e,o.data_regions[c.id]):(p.isStepType(c)&&(s=p.convertValuesToStep(s)),t=n.interpolate(p.getInterpolate(c))(s)):(s[0]&&(d=g(s[0].x),b=e(s[0].value)),t=o.axis_rotated?"M "+b+" "+d:"M "+d+" "+b),t?t:"M 0 0"}},T.generateGetLinePoints=function(r,q){var p=this,o=p.config,n=r.__max__+1,m=p.getShapeX(0,n,r,!!q),l=p.getShapeY(!!q),k=p.getShapeOffset(p.isLineType,r,!!q),j=q?p.getSubYScale:p.getYScale;return function(f,c){var i=j.call(p,f.id)(0),h=k(f,c)||i,g=m(f),d=l(f);return o.axis_rotated&&(0<f.value&&i>d||f.value<0&&d>i)&&(d=i),[[g,d-(i-h)],[g,d-(i-h)],[g,d-(i-h)],[g,d-(i-h)]]}},T.lineWithRegions=function(ax,aw,av,au){function at(e,d){var f;for(f=0;f<d.length;f++){if(d[f].start<e&&e<=d[f].end){return !0}}return !1}function ar(b){return"M"+b[0][0]+" "+b[0][1]+" "+b[1][0]+" "+b[1][1]}var aq,ap,ao,an,am,al,ak,aj,ai,ah,ag,af,ae=this,ad=ae.config,ac=-1,A="M",q=ae.isCategorized()?0.5:0,p=[];if(K(au)){for(aq=0;aq<au.length;aq++){p[aq]={},M(au[aq].start)?p[aq].start=ax[0].x:p[aq].start=ae.isTimeSeries()?ae.parseDate(au[aq].start):au[aq].start,M(au[aq].end)?p[aq].end=ax[ax.length-1].x:p[aq].end=ae.isTimeSeries()?ae.parseDate(au[aq].end):au[aq].end}}for(ag=ad.axis_rotated?function(b){return av(b.value)}:function(b){return aw(b.x)},af=ad.axis_rotated?function(b){return aw(b.x)}:function(b){return av(b.value)},ao=ae.isTimeSeries()?function(t,s,r,o){var n,k=t.x.getTime(),f=s.x-t.x,c=new Date(k+f*r),b=new Date(k+f*(r+o));return n=ad.axis_rotated?[[av(am(r)),aw(c)],[av(am(r+o)),aw(b)]]:[[aw(c),av(am(r))],[aw(b),av(am(r+o))]],ar(n)}:function(b,j,i,f){var c;return c=ad.axis_rotated?[[av(am(i),!0),aw(an(i))],[av(am(i+f),!0),aw(an(i+f))]]:[[aw(an(i),!0),av(am(i))],[aw(an(i+f),!0),av(am(i+f))]],ar(c)},aq=0;aq<ax.length;aq++){if(M(p)||!at(ax[aq].x,p)){A+=" "+ag(ax[aq])+" "+af(ax[aq])}else{for(an=ae.getScale(ax[aq-1].x+q,ax[aq].x+q,ae.isTimeSeries()),am=ae.getScale(ax[aq-1].value,ax[aq].value),al=aw(ax[aq].x)-aw(ax[aq-1].x),ak=av(ax[aq].value)-av(ax[aq-1].value),aj=Math.sqrt(Math.pow(al,2)+Math.pow(ak,2)),ai=2/aj,ah=2*ai,ap=ai;1>=ap;ap+=ah){A+=ao(ax[aq-1],ax[aq],ap,ai)}}ac=ax[aq].x}return A},T.updateArea=function(e){var d=this,f=d.d3;d.mainArea=d.main.selectAll("."+Q.areas).selectAll("."+Q.area).data(d.lineData.bind(d)),d.mainArea.enter().append("path").attr("class",d.classArea.bind(d)).style("fill",d.color).style("opacity",function(){return d.orgAreaOpacity=+f.select(this).style("opacity"),0}),d.mainArea.style("opacity",d.orgAreaOpacity),d.mainArea.exit().transition().duration(e).style("opacity",0).remove()},T.redrawArea=function(d,c){return[(c?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",d).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},T.generateDrawArea=function(t,s){var r=this,q=r.config,p=r.d3.svg.area(),o=r.generateGetAreaPoints(t,s),n=s?r.getSubYScale:r.getYScale,m=function(b){return(s?r.subxx:r.xx).call(r,b)},l=function(d,c){return q.data_groups.length>0?o(d,c)[0][1]:n.call(r,d.id)(r.getAreaBaseValue(d.id))},k=function(d,c){return q.data_groups.length>0?o(d,c)[1][1]:n.call(r,d.id)(d.value)};return p=q.axis_rotated?p.x0(l).x1(k).y(m):p.x(m).y0(q.area_above?0:l).y1(k),q.line_connectNull||(p=p.defined(function(b){return null!==b.value})),function(d){var c,j=q.line_connectNull?r.filterRemoveNull(d.values):d.values,i=0,e=0;return r.isAreaType(d)?(r.isStepType(d)&&(j=r.convertValuesToStep(j)),c=p.interpolate(r.getInterpolate(d))(j)):(j[0]&&(i=r.x(j[0].x),e=r.getYScale(d.id)(j[0].value)),c=q.axis_rotated?"M "+e+" "+i:"M "+i+" "+e),c?c:"M 0 0"}},T.getAreaBaseValue=function(){return 0},T.generateGetAreaPoints=function(r,q){var p=this,o=p.config,n=r.__max__+1,m=p.getShapeX(0,n,r,!!q),l=p.getShapeY(!!q),k=p.getShapeOffset(p.isAreaType,r,!!q),j=q?p.getSubYScale:p.getYScale;return function(f,c){var i=j.call(p,f.id)(0),h=k(f,c)||i,g=m(f),d=l(f);return o.axis_rotated&&(0<f.value&&i>d||f.value<0&&d>i)&&(d=i),[[g,h],[g,d-(i-h)],[g,d-(i-h)],[g,h]]}},T.updateCircle=function(){var b=this;b.mainCircle=b.main.selectAll("."+Q.circles).selectAll("."+Q.circle).data(b.lineOrScatterData.bind(b)),b.mainCircle.enter().append("circle").attr("class",b.classCircle.bind(b)).attr("r",b.pointR.bind(b)).style("fill",b.color),b.mainCircle.style("opacity",b.initialOpacityForCircle.bind(b)),b.mainCircle.exit().remove()},T.redrawCircle=function(f,e,h){var g=this.main.selectAll("."+Q.selectedCircle);return[(h?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",f).attr("cy",e),(h?g.transition(Math.random().toString()):g).attr("cx",f).attr("cy",e)]},T.circleX=function(b){return b.x||0===b.x?this.x(b.x):null},T.updateCircleY=function(){var e,d,f=this;f.config.data_groups.length>0?(e=f.getShapeIndices(f.isLineType),d=f.generateGetLinePoints(e),f.circleY=function(b,g){return d(b,g)[0][1]}):f.circleY=function(b){return f.getYScale(b.id)(b.value)}},T.getCircles=function(e,d){var f=this;return(d?f.main.selectAll("."+Q.circles+f.getTargetSelectorSuffix(d)):f.main).selectAll("."+Q.circle+(P(e)?"-"+e:""))},T.expandCircles=function(g,f,j){var i=this,h=i.pointExpandedR.bind(i);j&&i.unexpandCircles(),i.getCircles(g,f).classed(Q.EXPANDED,!0).attr("r",h)},T.unexpandCircles=function(e){var d=this,f=d.pointR.bind(d);d.getCircles(e).filter(function(){return d.d3.select(this).classed(Q.EXPANDED)}).classed(Q.EXPANDED,!1).attr("r",f)},T.pointR=function(e){var d=this,f=d.config;return d.isStepType(e)?0:O(f.point_r)?f.point_r(e):f.point_r},T.pointExpandedR=function(e){var d=this,f=d.config;return f.point_focus_expand_enabled?f.point_focus_expand_r?f.point_focus_expand_r:1.75*d.pointR(e):d.pointR(e)},T.pointSelectR=function(e){var d=this,f=d.config;return O(f.point_select_r)?f.point_select_r(e):f.point_select_r?f.point_select_r:4*d.pointR(e)},T.isWithinCircle=function(i,h){var n=this.d3,m=n.mouse(i),l=n.select(i),k=+l.attr("cx"),j=+l.attr("cy");return Math.sqrt(Math.pow(k-m[0],2)+Math.pow(j-m[1],2))<h},T.isWithinStep=function(d,c){return Math.abs(c-this.d3.mouse(d)[1])<30},T.initBar=function(){var b=this;b.main.select("."+Q.chart).append("g").attr("class",Q.chartBars)},T.updateTargetsForBar=function(j){var i,p,o=this,n=o.config,m=o.classChartBar.bind(o),l=o.classBars.bind(o),k=o.classFocus.bind(o);i=o.main.select("."+Q.chartBars).selectAll("."+Q.chartBar).data(j).attr("class",function(b){return m(b)+k(b)}),p=i.enter().append("g").attr("class",m).style("opacity",0).style("pointer-events","none"),p.append("g").attr("class",l).style("cursor",function(b){return n.data_selection_isselectable(b)?"pointer":null})},T.updateBar=function(h){var g=this,l=g.barData.bind(g),k=g.classBar.bind(g),j=g.initialOpacity.bind(g),i=function(b){return g.color(b.id)};g.mainBar=g.main.selectAll("."+Q.bars).selectAll("."+Q.bar).data(l),g.mainBar.enter().append("path").attr("class",k).style("stroke",i).style("fill",i),g.mainBar.style("opacity",j),g.mainBar.exit().transition().duration(h).style("opacity",0).remove()},T.redrawBar=function(d,c){return[(c?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",d).style("fill",this.color).style("opacity",1)]},T.getBarW=function(g,f){var j=this,i=j.config,h="number"==typeof i.bar_width?i.bar_width:f?g.tickInterval()*i.bar_width_ratio/f:0;return i.bar_width_max&&h>i.bar_width_max?i.bar_width_max:h},T.getBars=function(e,d){var f=this;return(d?f.main.selectAll("."+Q.bars+f.getTargetSelectorSuffix(d)):f.main).selectAll("."+Q.bar+(P(e)?"-"+e:""))},T.expandBars=function(f,e,h){var g=this;h&&g.unexpandBars(),g.getBars(f,e).classed(Q.EXPANDED,!0)},T.unexpandBars=function(d){var c=this;c.getBars(d).classed(Q.EXPANDED,!1)},T.generateDrawBar=function(g,f){var j=this,i=j.config,h=j.generateGetBarPoints(g,f);return function(e,d){var n=h(e,d),m=i.axis_rotated?1:0,l=i.axis_rotated?0:1,k="M "+n[0][m]+","+n[0][l]+" L"+n[1][m]+","+n[1][l]+" L"+n[2][m]+","+n[2][l]+" L"+n[3][m]+","+n[3][l]+" z";return k}},T.generateGetBarPoints=function(t,s){var r=this,q=s?r.subXAxis:r.xAxis,p=t.__max__+1,o=r.getBarW(q,p),n=r.getShapeX(o,p,t,!!s),m=r.getShapeY(!!s),l=r.getShapeOffset(r.isBarType,t,!!s),k=s?r.getSubYScale:r.getYScale;return function(g,c){var j=k.call(r,g.id)(0),i=l(g,c)||j,h=n(g),f=m(g);return r.config.axis_rotated&&(0<g.value&&j>f||g.value<0&&f>j)&&(f=j),[[h,i],[h,f-(j-i)],[h+o,f-(j-i)],[h+o,i]]}},T.isWithinBar=function(ac){var A=this.d3.mouse(ac),z=ac.getBoundingClientRect(),y=ac.pathSegList.getItem(0),x=ac.pathSegList.getItem(1),w=Math.min(y.x,x.x),v=Math.min(y.y,x.y),u=z.width,t=z.height,s=2,r=w-s,q=w+u+s,p=v+t+s,o=v-s;return r<A[0]&&A[0]<q&&o<A[1]&&A[1]<p},T.initText=function(){var b=this;b.main.select("."+Q.chart).append("g").attr("class",Q.chartTexts),b.mainText=b.d3.selectAll([])},T.updateTargetsForText=function(i){var h,n,m=this,l=m.classChartText.bind(m),k=m.classTexts.bind(m),j=m.classFocus.bind(m);h=m.main.select("."+Q.chartTexts).selectAll("."+Q.chartText).data(i).attr("class",function(b){return l(b)+j(b)}),n=h.enter().append("g").attr("class",l).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",k)},T.updateText=function(g){var f=this,j=f.config,i=f.barOrLineData.bind(f),h=f.classText.bind(f);f.mainText=f.main.selectAll("."+Q.texts).selectAll("."+Q.text).data(i),f.mainText.enter().append("text").attr("class",h).attr("text-anchor",function(b){return j.axis_rotated?b.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(b){return f.color(b)}).style("fill-opacity",0),f.mainText.text(function(b,k,e){return f.dataLabelFormat(b.id)(b.value,b.id,k,e)}),f.mainText.exit().transition().duration(g).style("fill-opacity",0).remove()},T.redrawText=function(f,e,h,g){return[(g?this.mainText.transition():this.mainText).attr("x",f).attr("y",e).style("fill",this.color).style("fill-opacity",h?0:this.opacityForText.bind(this))]},T.getTextRect=function(i,h,n){var m,l=this.d3.select("body").append("div").classed("c3",!0),k=l.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),j=this.d3.select(n).style("font");return k.selectAll(".dummy").data([i]).enter().append("text").classed(h?h:"",!0).style("font",j).text(i).each(function(){m=this.getBoundingClientRect()}),l.remove(),m},T.generateXYForText=function(r,q,p,o){var n=this,m=n.generateGetAreaPoints(r,!1),l=n.generateGetBarPoints(q,!1),k=n.generateGetLinePoints(p,!1),j=o?n.getXForText:n.getYForText;return function(e,d){var f=n.isAreaType(e)?m:n.isBarType(e)?l:k;return j.call(n,f(e,d),e,this)}},T.getXForText=function(i,h,n){var m,l,k=this,j=n.getBoundingClientRect();return k.config.axis_rotated?(l=k.isBarType(h)?4:6,m=i[2][1]+l*(h.value<0?-1:1)):m=k.hasType("bar")?(i[2][0]+i[0][0])/2:i[0][0],null===h.value&&(m>k.width?m=k.width-j.width:0>m&&(m=4)),m},T.getYForText=function(h,g,l){var k,j=this,i=l.getBoundingClientRect();return j.config.axis_rotated?k=(h[0][0]+h[2][0]+0.6*i.height)/2:(k=h[2][1],g.value<0||0===g.value&&!j.hasPositiveValue?(k+=i.height,j.isBarType(g)&&j.isSafari()?k-=3:!j.isBarType(g)&&j.isChrome()&&(k+=3)):k+=j.isBarType(g)?-3:-6),null!==g.value||j.config.axis_rotated||(k<i.height?k=i.height:k>this.height&&(k=this.height-4)),k},T.setTargetType=function(f,e){var h=this,g=h.config;h.mapToTargetIds(f).forEach(function(b){h.withoutFadeIn[b]=e===g.data_types[b],g.data_types[b]=e}),f||(g.data_type=e)},T.hasType=function(g,f){var j=this,i=j.config.data_types,h=!1;return f=f||j.data.targets,f&&f.length?f.forEach(function(a){var d=i[a.id];(d&&d.indexOf(g)>=0||!d&&"line"===g)&&(h=!0)}):Object.keys(i).length?Object.keys(i).forEach(function(a){i[a]===g&&(h=!0)}):h=j.config.data_type===g,h},T.hasArcType=function(b){return this.hasType("pie",b)||this.hasType("donut",b)||this.hasType("gauge",b)},T.isLineType=function(e){var d=this.config,f=N(e)?e:e.id;return !d.data_types[f]||["line","spline","area","area-spline","step","area-step"].indexOf(d.data_types[f])>=0},T.isStepType=function(d){var c=N(d)?d:d.id;return["step","area-step"].indexOf(this.config.data_types[c])>=0},T.isSplineType=function(d){var c=N(d)?d:d.id;return["spline","area-spline"].indexOf(this.config.data_types[c])>=0},T.isAreaType=function(d){var c=N(d)?d:d.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[c])>=0},T.isBarType=function(d){var c=N(d)?d:d.id;return"bar"===this.config.data_types[c]},T.isScatterType=function(d){var c=N(d)?d:d.id;return"scatter"===this.config.data_types[c]},T.isPieType=function(d){var c=N(d)?d:d.id;return"pie"===this.config.data_types[c]},T.isGaugeType=function(d){var c=N(d)?d:d.id;return"gauge"===this.config.data_types[c]},T.isDonutType=function(d){var c=N(d)?d:d.id;return"donut"===this.config.data_types[c]},T.isArcType=function(b){return this.isPieType(b)||this.isDonutType(b)||this.isGaugeType(b)},T.lineData=function(b){return this.isLineType(b)?[b]:[]},T.arcData=function(b){return this.isArcType(b.data)?[b]:[]},T.barData=function(b){return this.isBarType(b)?b.values:[]},T.lineOrScatterData=function(b){return this.isLineType(b)||this.isScatterType(b)?b.values:[]},T.barOrLineData=function(b){return this.isBarType(b)||this.isLineType(b)?b.values:[]},T.isInterpolationType=function(b){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(b)>=0},T.initGrid=function(){var e=this,d=e.config,f=e.d3;e.grid=e.main.append("g").attr("clip-path",e.clipPathForGrid).attr("class",Q.grid),d.grid_x_show&&e.grid.append("g").attr("class",Q.xgrids),d.grid_y_show&&e.grid.append("g").attr("class",Q.ygrids),d.grid_focus_show&&e.grid.append("g").attr("class",Q.xgridFocus).append("line").attr("class",Q.xgridFocus),e.xgrid=f.selectAll([]),d.grid_lines_front||e.initGridLines()},T.initGridLines=function(){var d=this,c=d.d3;d.gridLines=d.main.append("g").attr("clip-path",d.clipPathForGrid).attr("class",Q.grid+" "+Q.gridLines),d.gridLines.append("g").attr("class",Q.xgridLines),d.gridLines.append("g").attr("class",Q.ygridLines),d.xgridLines=c.selectAll([])},T.updateXGrid=function(h){var g=this,l=g.config,k=g.d3,j=g.generateGridData(l.grid_x_type,g.x),i=g.isCategorized()?g.xAxis.tickOffset():0;g.xgridAttr=l.axis_rotated?{x1:0,x2:g.width,y1:function(b){return g.x(b)-i},y2:function(b){return g.x(b)-i}}:{x1:function(b){return g.x(b)+i},x2:function(b){return g.x(b)+i},y1:0,y2:g.height},g.xgrid=g.main.select("."+Q.xgrids).selectAll("."+Q.xgrid).data(j),g.xgrid.enter().append("line").attr("class",Q.xgrid),h||g.xgrid.attr(g.xgridAttr).style("opacity",function(){return +k.select(this).attr(l.axis_rotated?"y1":"x1")===(l.axis_rotated?g.height:0)?0:1}),g.xgrid.exit().remove()},T.updateYGrid=function(){var e=this,d=e.config,f=e.yAxis.tickValues()||e.y.ticks(d.grid_y_ticks);e.ygrid=e.main.select("."+Q.ygrids).selectAll("."+Q.ygrid).data(f),e.ygrid.enter().append("line").attr("class",Q.ygrid),e.ygrid.attr("x1",d.axis_rotated?e.y:0).attr("x2",d.axis_rotated?e.y:e.width).attr("y1",d.axis_rotated?0:e.y).attr("y2",d.axis_rotated?e.height:e.y),e.ygrid.exit().remove(),e.smoothLines(e.ygrid,"grid")},T.gridTextAnchor=function(b){return b.position?b.position:"end"},T.gridTextDx=function(b){return"start"===b.position?4:"middle"===b.position?0:-4},T.xGridTextX=function(b){return"start"===b.position?-this.height:"middle"===b.position?-this.height/2:0},T.yGridTextX=function(b){return"start"===b.position?0:"middle"===b.position?this.width/2:this.width},T.updateGrid=function(i){var h,n,m,l=this,k=l.main,j=l.config;l.grid.style("visibility",l.hasArcType()?"hidden":"visible"),k.select("line."+Q.xgridFocus).style("visibility","hidden"),j.grid_x_show&&l.updateXGrid(),l.xgridLines=k.select("."+Q.xgridLines).selectAll("."+Q.xgridLine).data(j.grid_x_lines),h=l.xgridLines.enter().append("g").attr("class",function(b){return Q.xgridLine+(b["class"]?" "+b["class"]:"")}),h.append("line").style("opacity",0),h.append("text").attr("text-anchor",l.gridTextAnchor).attr("transform",j.axis_rotated?"":"rotate(-90)").attr("dx",l.gridTextDx).attr("dy",-5).style("opacity",0),l.xgridLines.exit().transition().duration(i).style("opacity",0).remove(),j.grid_y_show&&l.updateYGrid(),l.ygridLines=k.select("."+Q.ygridLines).selectAll("."+Q.ygridLine).data(j.grid_y_lines),n=l.ygridLines.enter().append("g").attr("class",function(b){return Q.ygridLine+(b["class"]?" "+b["class"]:"")}),n.append("line").style("opacity",0),n.append("text").attr("text-anchor",l.gridTextAnchor).attr("transform",j.axis_rotated?"rotate(-90)":"").attr("dx",l.gridTextDx).attr("dy",-5).style("opacity",0),m=l.yv.bind(l),l.ygridLines.select("line").transition().duration(i).attr("x1",j.axis_rotated?m:0).attr("x2",j.axis_rotated?m:l.width).attr("y1",j.axis_rotated?0:m).attr("y2",j.axis_rotated?l.height:m).style("opacity",1),l.ygridLines.select("text").transition().duration(i).attr("x",j.axis_rotated?l.xGridTextX.bind(l):l.yGridTextX.bind(l)).attr("y",m).text(function(b){return b.text}).style("opacity",1),l.ygridLines.exit().transition().duration(i).style("opacity",0).remove()},T.redrawGrid=function(h){var g=this,l=g.config,k=g.xv.bind(g),j=g.xgridLines.select("line"),i=g.xgridLines.select("text");return[(h?j.transition():j).attr("x1",l.axis_rotated?0:k).attr("x2",l.axis_rotated?g.width:k).attr("y1",l.axis_rotated?k:0).attr("y2",l.axis_rotated?k:g.height).style("opacity",1),(h?i.transition():i).attr("x",l.axis_rotated?g.yGridTextX.bind(g):g.xGridTextX.bind(g)).attr("y",k).text(function(b){return b.text}).style("opacity",1)]},T.showXGridFocus=function(h){var g=this,l=g.config,k=h.filter(function(b){return b&&P(b.value)}),j=g.main.selectAll("line."+Q.xgridFocus),i=g.xx.bind(g);l.tooltip_show&&(g.hasType("scatter")||g.hasArcType()||(j.style("visibility","visible").data([k[0]]).attr(l.axis_rotated?"y1":"x1",i).attr(l.axis_rotated?"y2":"x2",i),g.smoothLines(j,"grid")))},T.hideXGridFocus=function(){this.main.select("line."+Q.xgridFocus).style("visibility","hidden")},T.updateXgridFocus=function(){var d=this,c=d.config;d.main.select("line."+Q.xgridFocus).attr("x1",c.axis_rotated?0:-10).attr("x2",c.axis_rotated?d.width:-10).attr("y1",c.axis_rotated?-10:0).attr("y2",c.axis_rotated?-10:d.height)},T.generateGridData=function(r,q){var p,o,n,m,l=this,k=[],j=l.main.select("."+Q.axisX).selectAll(".tick").size();if("year"===r){for(p=l.getXDomain(),o=p[0].getFullYear(),n=p[1].getFullYear(),m=o;n>=m;m++){k.push(new Date(m+"-01-01 00:00:00"))}}else{k=q.ticks(10),k.length>j&&(k=k.filter(function(b){return(""+b).indexOf(".")<0}))}return k},T.getGridFilterToRemove=function(b){return b?function(a){var d=!1;return[].concat(b).forEach(function(c){("value" in c&&a.value===c.value||"class" in c&&a["class"]===c["class"])&&(d=!0)}),d}:function(){return !0}},T.removeGridLines=function(j,i){var p=this,o=p.config,n=p.getGridFilterToRemove(j),m=function(b){return !n(b)},l=i?Q.xgridLines:Q.ygridLines,k=i?Q.xgridLine:Q.ygridLine;p.main.select("."+l).selectAll("."+k).filter(n).transition().duration(o.transition_duration).style("opacity",0).remove(),i?o.grid_x_lines=o.grid_x_lines.filter(m):o.grid_y_lines=o.grid_y_lines.filter(m)},T.initTooltip=function(){var e,d=this,f=d.config;if(d.tooltip=d.selectChart.style("position","relative").append("div").attr("class",Q.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),f.tooltip_init_show){if(d.isTimeSeries()&&N(f.tooltip_init_x)){for(f.tooltip_init_x=d.parseDate(f.tooltip_init_x),e=0;e<d.data.targets[0].values.length&&d.data.targets[0].values[e].x-f.tooltip_init_x!==0;e++){}f.tooltip_init_x=e}d.tooltip.html(f.tooltip_contents.call(d,d.data.targets.map(function(b){return d.addName(b.values[f.tooltip_init_x])}),d.axis.getXAxisTickFormat(),d.getYFormat(d.hasArcType()),d.color)),d.tooltip.style("top",f.tooltip_init_position.top).style("left",f.tooltip_init_position.left).style("display","block")}},T.getTooltipContent=function(ai,ah,ag,af){var ae,ad,ac,A,z,y,x=this,w=x.config,v=w.tooltip_format_title||ah,u=w.tooltip_format_name||function(b){return b},t=w.tooltip_format_value||ag,s=x.isOrderAsc();if(0===w.data_groups.length){ai.sort(function(f,e){var h=f?f.value:null,g=e?e.value:null;return s?h-g:g-h})}else{var r=x.orderTargets(x.data.targets).map(function(b){return b.id});ai.sort(function(f,e){var h=f?f.value:null,g=e?e.value:null;return h>0&&g>0&&(h=f?r.indexOf(f.id):null,g=e?r.indexOf(e.id):null),s?h-g:g-h})}for(ad=0;ad<ai.length;ad++){if(ai[ad]&&(ai[ad].value||0===ai[ad].value)&&(ae||(ac=C(v?v(ai[ad].x):ai[ad].x),ae="<table class='"+x.CLASS.tooltip+"'>"+(ac||0===ac?"<tr><th colspan='2'>"+ac+"</th></tr>":"")),A=C(t(ai[ad].value,ai[ad].ratio,ai[ad].id,ai[ad].index,ai)),void 0!==A)){if(null===ai[ad].name){continue}z=C(u(ai[ad].name,ai[ad].ratio,ai[ad].id,ai[ad].index)),y=x.levelColor?x.levelColor(ai[ad].value):af(ai[ad].id),ae+="<tr class='"+x.CLASS.tooltipName+"-"+x.getTargetSelectorSuffix(ai[ad].id)+"'>",ae+="<td class='name'><span style='background-color:"+y+"'></span>"+z+"</td>",ae+="<td class='value'>"+A+"</td>",ae+="</tr>"}}return ae+"</table>"},T.tooltipPosition=function(ac,A,z,y){var x,w,v,u,t,s=this,r=s.config,q=s.d3,p=s.hasArcType(),o=q.mouse(y);return p?(w=(s.width-(s.isLegendRight?s.getLegendWidth():0))/2+o[0],u=s.height/2+o[1]+20):(x=s.getSvgLeft(!0),r.axis_rotated?(w=x+o[0]+100,v=w+A,t=s.currentWidth-s.getCurrentPaddingRight(),u=s.x(ac[0].x)+20):(w=x+s.getCurrentPaddingLeft(!0)+s.x(ac[0].x)+20,v=w+A,t=x+s.currentWidth-s.getCurrentPaddingRight(),u=o[1]+15),v>t&&(w-=v-t+20),u+z>s.currentHeight&&(u-=z+30)),0>u&&(u=0),{top:u,left:w}},T.showTooltip=function(t,s){var r,q,p,o=this,n=o.config,m=o.hasArcType(),l=t.filter(function(b){return b&&P(b.value)}),i=n.tooltip_position||T.tooltipPosition;0!==l.length&&n.tooltip_show&&(o.tooltip.html(n.tooltip_contents.call(o,t,o.axis.getXAxisTickFormat(),o.getYFormat(m),o.color)).style("display","block"),r=o.tooltip.property("offsetWidth"),q=o.tooltip.property("offsetHeight"),p=i.call(this,l,r,q,s),o.tooltip.style("top",p.top+"px").style("left",p.left+"px"))},T.hideTooltip=function(){this.tooltip.style("display","none")},T.initLegend=function(){var b=this;return b.legendItemTextBox={},b.legendHasRendered=!1,b.legend=b.svg.append("g").attr("transform",b.getTranslate("legend")),b.config.legend_show?void b.updateLegendWithDefaults():(b.legend.style("visibility","hidden"),void (b.hiddenLegendIds=b.mapToIds(b.data.targets)))},T.updateLegendWithDefaults=function(){var b=this;b.updateLegend(b.mapToIds(b.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},T.updateSizeForLegend=function(g,f){var j=this,i=j.config,h={top:j.isLegendTop?j.getCurrentPaddingTop()+i.legend_inset_y+5.5:j.currentHeight-g-j.getCurrentPaddingBottom()-i.legend_inset_y,left:j.isLegendLeft?j.getCurrentPaddingLeft()+i.legend_inset_x+0.5:j.currentWidth-f-j.getCurrentPaddingRight()-i.legend_inset_x+0.5};j.margin3={top:j.isLegendRight?0:j.isLegendInset?h.top:j.currentHeight-g,right:NaN,bottom:0,left:j.isLegendRight?j.currentWidth-f:j.isLegendInset?h.left:0}},T.transformLegend=function(d){var c=this;(d?c.legend.transition():c.legend).attr("transform",c.getTranslate("legend"))},T.updateLegendStep=function(b){this.legendStep=b},T.updateLegendItemWidth=function(b){this.legendItemWidth=b},T.updateLegendItemHeight=function(b){this.legendItemHeight=b},T.getLegendWidth=function(){var b=this;return b.config.legend_show?b.isLegendRight||b.isLegendInset?b.legendItemWidth*(b.legendStep+1):b.currentWidth:0},T.getLegendHeight=function(){var d=this,c=0;return d.config.legend_show&&(c=d.isLegendRight?d.currentHeight:Math.max(20,d.legendItemHeight)*(d.legendStep+1)),c},T.opacityForLegend=function(b){return b.classed(Q.legendItemHidden)?null:1},T.opacityForUnfocusedLegend=function(b){return b.classed(Q.legendItemHidden)?null:0.3},T.toggleFocusLegend=function(e,d){var f=this;e=f.mapToTargetIds(e),f.legend.selectAll("."+Q.legendItem).filter(function(a){return e.indexOf(a)>=0}).classed(Q.legendItemFocused,d).transition().duration(100).style("opacity",function(){var b=d?f.opacityForLegend:f.opacityForUnfocusedLegend;return b.call(f,f.d3.select(this))})},T.revertLegend=function(){var d=this,c=d.d3;d.legend.selectAll("."+Q.legendItem).classed(Q.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return d.opacityForLegend(c.select(this))})},T.showLegend=function(e){var d=this,f=d.config;f.legend_show||(f.legend_show=!0,d.legend.style("visibility","visible"),d.legendHasRendered||d.updateLegendWithDefaults()),d.removeHiddenLegendIds(e),d.legend.selectAll(d.selectorLegends(e)).style("visibility","visible").transition().style("opacity",function(){return d.opacityForLegend(d.d3.select(this))})},T.hideLegend=function(e){var d=this,f=d.config;f.legend_show&&G(e)&&(f.legend_show=!1,d.legend.style("visibility","hidden")),d.addHiddenLegendIds(e),d.legend.selectAll(d.selectorLegends(e)).style("opacity",0).style("visibility","hidden")},T.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},T.updateLegend=function(aJ,aI,aH){function aG(d,c){return an.legendItemTextBox[c]||(an.legendItemTextBox[c]=an.getTextRect(d.textContent,Q.legendItem,d)),an.legendItemTextBox[c]}function aF(aK,A,z){function y(e,c){c||(x=(a-af-d)/2,ah>x&&(x=(a-d)/2,af=0,l++)),q[e]=l,w[l]=an.isLegendInset?10:x,ae[e]=af,af+=d}var x,v,u=0===z,t=z===aJ.length-1,s=aG(aK,A),r=s.width+ag+(!t||an.isLegendRight||an.isLegendInset?ak:0)+am.legend_padding,p=s.height+al,d=an.isLegendRight||an.isLegendInset?p:r,a=an.isLegendRight||an.isLegendInset?an.getLegendHeight():an.getLegendWidth();return u&&(af=0,l=0,aj=0,ai=0),am.legend_show&&!an.isLegendToShow(A)?void (ad[A]=ac[A]=q[A]=ae[A]=0):(ad[A]=r,ac[A]=p,(!aj||r>=aj)&&(aj=r),(!ai||p>=ai)&&(ai=p),v=an.isLegendRight||an.isLegendInset?ai:aj,void (am.legend_equally?(Object.keys(ad).forEach(function(b){ad[b]=aj}),Object.keys(ac).forEach(function(b){ac[b]=ai}),x=(a-v*aJ.length)/2,ah>x?(af=0,l=0,aJ.forEach(function(b){y(b)})):y(A,!0)):y(A)))}var aE,aD,aC,aB,aA,az,ay,ax,aw,av,au,at,ar,aq,ap,ao,an=this,am=an.config,al=4,ak=10,aj=0,ai=0,ah=10,ag=am.legend_item_tile_width+5,af=0,ae={},ad={},ac={},w=[0],q={},l=0;aJ=aJ.filter(function(b){return !K(am.data_names[b])||null!==am.data_names[b]}),aI=aI||{},au=E(aI,"withTransition",!0),at=E(aI,"withTransitionForTransform",!0),an.isLegendInset&&(l=am.legend_inset_step?am.legend_inset_step:aJ.length,an.updateLegendStep(l)),an.isLegendRight?(aE=function(b){return aj*q[b]},aB=function(b){return w[q[b]]+ae[b]}):an.isLegendInset?(aE=function(b){return aj*q[b]+10},aB=function(b){return w[q[b]]+ae[b]}):(aE=function(b){return w[q[b]]+ae[b]},aB=function(b){return ai*q[b]}),aD=function(d,c){return aE(d,c)+4+am.legend_item_tile_width},aA=function(d,c){return aB(d,c)+9},aC=function(d,c){return aE(d,c)},az=function(d,c){return aB(d,c)-5},ay=function(d,c){return aE(d,c)-2},ax=function(d,c){return aE(d,c)-2+am.legend_item_tile_width},aw=function(d,c){return aB(d,c)+4},av=an.legend.selectAll("."+Q.legendItem).data(aJ).enter().append("g").attr("class",function(b){return an.generateClass(Q.legendItem,b)}).style("visibility",function(b){return an.isLegendToShow(b)?"visible":"hidden"}).style("cursor","pointer").on("click",function(b){am.legend_item_onclick?am.legend_item_onclick.call(an,b):an.d3.event.altKey?(an.api.hide(),an.api.show(b)):(an.api.toggle(b),an.isTargetToShow(b)?an.api.focus(b):an.api.revert())}).on("mouseover",function(b){am.legend_item_onmouseover?am.legend_item_onmouseover.call(an,b):(an.d3.select(this).classed(Q.legendItemFocused,!0),!an.transiting&&an.isTargetToShow(b)&&an.api.focus(b))}).on("mouseout",function(b){am.legend_item_onmouseout?am.legend_item_onmouseout.call(an,b):(an.d3.select(this).classed(Q.legendItemFocused,!1),an.api.revert())}),av.append("text").text(function(b){return K(am.data_names[b])?am.data_names[b]:b}).each(function(d,c){aF(this,d,c)}).style("pointer-events","none").attr("x",an.isLegendRight||an.isLegendInset?aD:-200).attr("y",an.isLegendRight||an.isLegendInset?-200:aA),av.append("rect").attr("class",Q.legendItemEvent).style("fill-opacity",0).attr("x",an.isLegendRight||an.isLegendInset?aC:-200).attr("y",an.isLegendRight||an.isLegendInset?-200:az),av.append("line").attr("class",Q.legendItemTile).style("stroke",an.color).style("pointer-events","none").attr("x1",an.isLegendRight||an.isLegendInset?ay:-200).attr("y1",an.isLegendRight||an.isLegendInset?-200:aw).attr("x2",an.isLegendRight||an.isLegendInset?ax:-200).attr("y2",an.isLegendRight||an.isLegendInset?-200:aw).attr("stroke-width",am.legend_item_tile_height),ao=an.legend.select("."+Q.legendBackground+" rect"),an.isLegendInset&&aj>0&&0===ao.size()&&(ao=an.legend.insert("g","."+Q.legendItem).attr("class",Q.legendBackground).append("rect")),ar=an.legend.selectAll("text").data(aJ).text(function(b){return K(am.data_names[b])?am.data_names[b]:b}).each(function(d,c){aF(this,d,c)}),(au?ar.transition():ar).attr("x",aD).attr("y",aA),aq=an.legend.selectAll("rect."+Q.legendItemEvent).data(aJ),(au?aq.transition():aq).attr("width",function(b){return ad[b]}).attr("height",function(b){return ac[b]}).attr("x",aC).attr("y",az),ap=an.legend.selectAll("line."+Q.legendItemTile).data(aJ),(au?ap.transition():ap).style("stroke",an.color).attr("x1",ay).attr("y1",aw).attr("x2",ax).attr("y2",aw),ao&&(au?ao.transition():ao).attr("height",an.getLegendHeight()-12).attr("width",aj*(l+1)+10),an.legend.selectAll("."+Q.legendItem).classed(Q.legendItemHidden,function(b){return !an.isTargetToShow(b)}),an.updateLegendItemWidth(aj),an.updateLegendItemHeight(ai),an.updateLegendStep(l),an.updateSizes(),an.updateScales(),an.updateSvgSize(),an.transformAll(at,aH),an.legendHasRendered=!0},T.initTitle=function(){var b=this;b.title=b.svg.append("text").text(b.config.title_text).attr("class",b.CLASS.title)},T.redrawTitle=function(){var b=this;b.title.attr("x",b.xForTitle.bind(b)).attr("y",b.yForTitle.bind(b))},T.xForTitle=function(){var f,e=this,h=e.config,g=h.title_position||"left";return f=g.indexOf("right")>=0?e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width-h.title_padding.right:g.indexOf("center")>=0?(e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width)/2:h.title_padding.left},T.yForTitle=function(){var b=this;return b.config.title_padding.top+b.getTextRect(b.title.node().textContent,b.CLASS.title,b.title.node()).height},T.getTitlePadding=function(){var b=this;return b.yForTitle()+b.config.title_padding.bottom},Z(aa,W),W.prototype.init=function(){var e=this.owner,d=e.config,f=e.main;e.axes.x=f.append("g").attr("class",Q.axis+" "+Q.axisX).attr("clip-path",e.clipPathForXAxis).attr("transform",e.getTranslate("x")).style("visibility",d.axis_x_show?"visible":"hidden"),e.axes.x.append("text").attr("class",Q.axisXLabel).attr("transform",d.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),e.axes.y=f.append("g").attr("class",Q.axis+" "+Q.axisY).attr("clip-path",d.axis_y_inner?"":e.clipPathForYAxis).attr("transform",e.getTranslate("y")).style("visibility",d.axis_y_show?"visible":"hidden"),e.axes.y.append("text").attr("class",Q.axisYLabel).attr("transform",d.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),e.axes.y2=f.append("g").attr("class",Q.axis+" "+Q.axisY2).attr("transform",e.getTranslate("y2")).style("visibility",d.axis_y2_show?"visible":"hidden"),e.axes.y2.append("text").attr("class",Q.axisY2Label).attr("transform",d.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},W.prototype.getXAxis=function(v,u,t,s,r,q,p){var o=this.owner,n=o.config,m={isCategory:o.isCategorized(),withOuterTick:r,tickMultiline:n.axis_x_tick_multiline,tickWidth:n.axis_x_tick_width,tickTextRotate:p?0:n.axis_x_tick_rotate,withoutTransition:q},g=V(o.d3,m).scale(v).orient(u);return o.isTimeSeries()&&s&&"function"!=typeof s&&(s=s.map(function(b){return o.parseDate(b)})),g.tickFormat(t).tickValues(s),o.isCategorized()&&(g.tickCentered(n.axis_x_tick_centered),G(n.axis_x_tick_culling)&&(n.axis_x_tick_culling=!1)),g},W.prototype.updateXAxisTickValues=function(g,f){var j,i=this.owner,h=i.config;return(h.axis_x_tick_fit||h.axis_x_tick_count)&&(j=this.generateTickValues(i.mapTargetsToUniqueXs(g),h.axis_x_tick_count,i.isTimeSeries())),f?f.tickValues(j):(i.xAxis.tickValues(j),i.subXAxis.tickValues(j)),j},W.prototype.getYAxis=function(v,u,t,s,r,q,p){var o=this.owner,n=o.config,m={withOuterTick:r,withoutTransition:q,tickTextRotate:p?0:n.axis_y_tick_rotate},g=V(o.d3,m).scale(v).orient(u).tickFormat(t);return o.isTimeSeriesY()?g.ticks(o.d3.time[n.axis_y_tick_time_value],n.axis_y_tick_time_interval):g.tickValues(s),g},W.prototype.getId=function(d){var c=this.owner.config;return d in c.data_axes?c.data_axes[d]:"y"},W.prototype.getXAxisTickFormat=function(){var e=this.owner,d=e.config,f=e.isTimeSeries()?e.defaultAxisTimeFormat:e.isCategorized()?e.categoryName:function(b){return 0>b?b.toFixed(0):b};return d.axis_x_tick_format&&(O(d.axis_x_tick_format)?f=d.axis_x_tick_format:e.isTimeSeries()&&(f=function(a){return a?e.axisTimeFormat(d.axis_x_tick_format)(a):""})),O(f)?function(a){return f.call(e,a)}:f},W.prototype.getTickValues=function(d,c){return d?d:c?c.tickValues():void 0},W.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},W.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},W.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},W.prototype.getLabelOptionByAxisId=function(f){var e,h=this.owner,g=h.config;return"y"===f?e=g.axis_y_label:"y2"===f?e=g.axis_y2_label:"x"===f&&(e=g.axis_x_label),e},W.prototype.getLabelText=function(d){var c=this.getLabelOptionByAxisId(d);return N(c)?c:c?c.text:null},W.prototype.setLabelText=function(g,f){var j=this.owner,i=j.config,h=this.getLabelOptionByAxisId(g);N(h)?"y"===g?i.axis_y_label=f:"y2"===g?i.axis_y2_label=f:"x"===g&&(i.axis_x_label=f):h&&(h.text=f)},W.prototype.getLabelPosition=function(f,e){var h=this.getLabelOptionByAxisId(f),g=h&&"object"==typeof h&&h.position?h.position:e;return{isInner:g.indexOf("inner")>=0,isOuter:g.indexOf("outer")>=0,isLeft:g.indexOf("left")>=0,isCenter:g.indexOf("center")>=0,isRight:g.indexOf("right")>=0,isTop:g.indexOf("top")>=0,isMiddle:g.indexOf("middle")>=0,isBottom:g.indexOf("bottom")>=0}},W.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},W.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},W.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},W.prototype.getLabelPositionById=function(b){return"y2"===b?this.getY2AxisLabelPosition():"y"===b?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},W.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},W.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},W.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},W.prototype.xForAxisLabel=function(e,d){var f=this.owner;return e?d.isLeft?0:d.isCenter?f.width/2:f.width:d.isBottom?-f.height:d.isMiddle?-f.height/2:0},W.prototype.dxForAxisLabel=function(d,c){return d?c.isLeft?"0.5em":c.isRight?"-0.5em":"0":c.isTop?"-0.5em":c.isBottom?"0.5em":"0"},W.prototype.textAnchorForAxisLabel=function(d,c){return d?c.isLeft?"start":c.isCenter?"middle":"end":c.isBottom?"start":c.isMiddle?"middle":"end"},W.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},W.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},W.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},W.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},W.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},W.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},W.prototype.dyForXAxisLabel=function(){var e=this.owner,d=e.config,f=this.getXAxisLabelPosition();return d.axis_rotated?f.isInner?"1.2em":-25-this.getMaxTickWidth("x"):f.isInner?"-0.5em":d.axis_x_height?d.axis_x_height-10:"3em"},W.prototype.dyForYAxisLabel=function(){var d=this.owner,c=this.getYAxisLabelPosition();return d.config.axis_rotated?c.isInner?"-0.5em":"3em":c.isInner?"1.2em":-10-(d.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},W.prototype.dyForY2AxisLabel=function(){var d=this.owner,c=this.getY2AxisLabelPosition();return d.config.axis_rotated?c.isInner?"1.2em":"-2.2em":c.isInner?"-0.5em":15+(d.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},W.prototype.textAnchorForXAxisLabel=function(){var b=this.owner;return this.textAnchorForAxisLabel(!b.config.axis_rotated,this.getXAxisLabelPosition())},W.prototype.textAnchorForYAxisLabel=function(){var b=this.owner;return this.textAnchorForAxisLabel(b.config.axis_rotated,this.getYAxisLabelPosition())},W.prototype.textAnchorForY2AxisLabel=function(){var b=this.owner;return this.textAnchorForAxisLabel(b.config.axis_rotated,this.getY2AxisLabelPosition())},W.prototype.getMaxTickWidth=function(t,s){var r,q,p,o,n,m=this.owner,l=m.config,k=0;return s&&m.currentMaxTickWidths[t]?m.currentMaxTickWidths[t]:(m.svg&&(r=m.filterTargetsToShow(m.data.targets),"y"===t?(q=m.y.copy().domain(m.getYDomain(r,"y")),p=this.getYAxis(q,m.yOrient,l.axis_y_tick_format,m.yAxisTickValues,!1,!0,!0)):"y2"===t?(q=m.y2.copy().domain(m.getYDomain(r,"y2")),p=this.getYAxis(q,m.y2Orient,l.axis_y2_tick_format,m.y2AxisTickValues,!1,!0,!0)):(q=m.x.copy().domain(m.getXDomain(r)),p=this.getXAxis(q,m.xOrient,m.xAxisTickFormat,m.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(r,p)),o=m.d3.select("body").append("div").classed("c3",!0),n=o.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),n.append("g").call(p).each(function(){m.d3.select(this).selectAll("text").each(function(){var b=this.getBoundingClientRect();k<b.width&&(k=b.width)}),o.remove()})),m.currentMaxTickWidths[t]=0>=k?m.currentMaxTickWidths[t]:k,m.currentMaxTickWidths[t])},W.prototype.updateLabels=function(g){var f=this.owner,j=f.main.select("."+Q.axisX+" ."+Q.axisXLabel),i=f.main.select("."+Q.axisY+" ."+Q.axisYLabel),h=f.main.select("."+Q.axisY2+" ."+Q.axisY2Label);(g?j.transition():j).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(g?i.transition():i).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(g?h.transition():h).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},W.prototype.getPadding=function(g,f,j,i){var h="number"==typeof g?g:g[f];return P(h)?"ratio"===g.unit?g[f]*i:this.convertPixelsToAxisPadding(h,i):j},W.prototype.convertPixelsToAxisPadding=function(f,e){var h=this.owner,g=h.config.axis_rotated?h.width:h.height;return e*(f/g)},W.prototype.generateTickValues=function(v,u,t){var s,r,q,p,o,n,m,l=v;if(u){if(s=O(u)?u():u,1===s){l=[v[0]]}else{if(2===s){l=[v[0],v[v.length-1]]}else{if(s>2){for(p=s-2,r=v[0],q=v[v.length-1],o=(q-r)/(p+1),l=[r],n=0;p>n;n++){m=+r+o*(n+1),l.push(t?new Date(m):m)}l.push(q)}}}}return t||(l=l.sort(function(d,c){return d-c})),l},W.prototype.generateTransitions=function(e){var d=this.owner,f=d.axes;return{axisX:e?f.x.transition().duration(e):f.x,axisY:e?f.y.transition().duration(e):f.y,axisY2:e?f.y2.transition().duration(e):f.y2,axisSubX:e?f.subx.transition().duration(e):f.subx}},W.prototype.redraw=function(e,d){var f=this.owner;f.axes.x.style("opacity",d?0:1),f.axes.y.style("opacity",d?0:1),f.axes.y2.style("opacity",d?0:1),f.axes.subx.style("opacity",d?0:1),e.axisX.call(f.xAxis),e.axisY.call(f.yAxis),e.axisY2.call(f.y2Axis),e.axisSubX.call(f.subXAxis)},T.getClipPath=function(a){var d=ab.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(d?"":document.URL.split("#")[0])+"#"+a+")"},T.appendClip=function(d,c){return d.append("clipPath").attr("id",c).append("rect")},T.getAxisClipX=function(d){var c=Math.max(30,this.margin.left);return d?-(1+c):-(c-1)},T.getAxisClipY=function(b){return b?-20:-this.margin.top},T.getXAxisClipX=function(){var b=this;return b.getAxisClipX(!b.config.axis_rotated)},T.getXAxisClipY=function(){var b=this;return b.getAxisClipY(!b.config.axis_rotated)},T.getYAxisClipX=function(){var b=this;return b.config.axis_y_inner?-1:b.getAxisClipX(b.config.axis_rotated)},T.getYAxisClipY=function(){var b=this;return b.getAxisClipY(b.config.axis_rotated)},T.getAxisClipWidth=function(f){var e=this,h=Math.max(30,e.margin.left),g=Math.max(30,e.margin.right);return f?e.width+2+h+g:e.margin.left+20},T.getAxisClipHeight=function(b){return(b?this.margin.bottom:this.margin.top+this.height)+20},T.getXAxisClipWidth=function(){var b=this;return b.getAxisClipWidth(!b.config.axis_rotated)},T.getXAxisClipHeight=function(){var b=this;return b.getAxisClipHeight(!b.config.axis_rotated)},T.getYAxisClipWidth=function(){var b=this;return b.getAxisClipWidth(b.config.axis_rotated)+(b.config.axis_y_inner?20:0)},T.getYAxisClipHeight=function(){var b=this;return b.getAxisClipHeight(b.config.axis_rotated)},T.initPie=function(){var e=this,d=e.d3,f=e.config;e.pie=d.layout.pie().value(function(b){return b.values.reduce(function(g,c){return g+c.value},0)}),f.data_order||e.pie.sort(null)},T.updateRadius=function(){var e=this,d=e.config,f=d.gauge_width||d.donut_width;e.radiusExpanded=Math.min(e.arcWidth,e.arcHeight)/2,e.radius=0.95*e.radiusExpanded,e.innerRadiusRatio=f?(e.radius-f)/e.radius:0.6,e.innerRadius=e.hasType("donut")||e.hasType("gauge")?e.radius*e.innerRadiusRatio:0},T.updateArc=function(){var b=this;b.svgArc=b.getSvgArc(),b.svgArcExpanded=b.getSvgArcExpanded(),b.svgArcExpandedSub=b.getSvgArcExpanded(0.98)},T.updateAngle=function(r){var q,p,o,n,m=this,l=m.config,k=!1,j=0;return l?(m.pie(m.filterTargetsToShow(m.data.targets)).forEach(function(a){k||a.data.id!==r.data.id||(k=!0,r=a,r.index=j),j++}),isNaN(r.startAngle)&&(r.startAngle=0),isNaN(r.endAngle)&&(r.endAngle=r.startAngle),m.isGaugeType(r.data)&&(q=l.gauge_min,p=l.gauge_max,o=Math.PI*(l.gauge_fullCircle?2:1)/(p-q),n=r.value<q?0:r.value<p?r.value-q:p-q,r.startAngle=l.gauge_startingAngle,r.endAngle=r.startAngle+o*n),k?r:null):null},T.getSvgArc=function(){var e=this,d=e.d3.svg.arc().outerRadius(e.radius).innerRadius(e.innerRadius),f=function(g,b){var a;return b?d(g):(a=e.updateAngle(g),a?d(a):"M 0 0")};return f.centroid=d.centroid,f},T.getSvgArcExpanded=function(e){var d=this,f=d.d3.svg.arc().outerRadius(d.radiusExpanded*(e?e:1)).innerRadius(d.innerRadius);return function(b){var c=d.updateAngle(b);return c?f(c):"M 0 0"}},T.getArc=function(e,d,f){return f||this.isArcType(e.data)?this.svgArc(e,d):"M 0 0"},T.transformForArcLabel=function(t){var s,r,q,p,o,n=this,m=n.config,l=n.updateAngle(t),k="";return l&&!n.hasType("gauge")&&(s=this.svgArc.centroid(l),r=isNaN(s[0])?0:s[0],q=isNaN(s[1])?0:s[1],p=Math.sqrt(r*r+q*q),o=n.hasType("donut")&&m.donut_label_ratio?O(m.donut_label_ratio)?m.donut_label_ratio(t,n.radius,p):m.donut_label_ratio:n.hasType("pie")&&m.pie_label_ratio?O(m.pie_label_ratio)?m.pie_label_ratio(t,n.radius,p):m.pie_label_ratio:n.radius&&p?(36/n.radius>0.375?1.175-36/n.radius:0.8)*n.radius/p:0,k="translate("+r*o+","+q*o+")"),k},T.getArcRatio=function(f){var e=this,h=e.config,g=Math.PI*(e.hasType("gauge")&&!h.gauge_fullCircle?1:2);return f?(f.endAngle-f.startAngle)/g:null},T.convertToArcData=function(b){return this.addName({id:b.data.id,value:b.value,ratio:this.getArcRatio(b),index:b.index})},T.textForArcLabel=function(i){var h,n,m,l,k,j=this;return j.shouldShowArcLabel()?(h=j.updateAngle(i),n=h?h.value:null,m=j.getArcRatio(h),l=i.data.id,j.hasType("gauge")||j.meetsArcLabelThreshold(m)?(k=j.getArcLabelFormat(),k?k(n,m,l):j.defaultArcValueFormat(n,m)):""):""},T.expandArc=function(a){var f,e=this;return e.transiting?void (f=ab.setInterval(function(){e.transiting||(ab.clearInterval(f),e.legend.selectAll(".c3-legend-item-focused").size()>0&&e.expandArc(a))},10)):(a=e.mapToTargetIds(a),void e.svg.selectAll(e.selectorTargets(a,"."+Q.chartArc)).each(function(b){e.shouldExpand(b.data.id)&&e.d3.select(this).selectAll("path").transition().duration(e.expandDuration(b.data.id)).attr("d",e.svgArcExpanded).transition().duration(2*e.expandDuration(b.data.id)).attr("d",e.svgArcExpandedSub).each(function(c){e.isDonutType(c.data)})}))},T.unexpandArc=function(d){var c=this;c.transiting||(d=c.mapToTargetIds(d),c.svg.selectAll(c.selectorTargets(d,"."+Q.chartArc)).selectAll("path").transition().duration(function(b){return c.expandDuration(b.data.id)}).attr("d",c.svgArc),c.svg.selectAll("."+Q.arc).style("opacity",1))},T.expandDuration=function(e){var d=this,f=d.config;return d.isDonutType(e)?f.donut_expand_duration:d.isGaugeType(e)?f.gauge_expand_duration:d.isPieType(e)?f.pie_expand_duration:50},T.shouldExpand=function(e){var d=this,f=d.config;return d.isDonutType(e)&&f.donut_expand||d.isGaugeType(e)&&f.gauge_expand||d.isPieType(e)&&f.pie_expand},T.shouldShowArcLabel=function(){var e=this,d=e.config,f=!0;return e.hasType("donut")?f=d.donut_label_show:e.hasType("pie")&&(f=d.pie_label_show),f},T.meetsArcLabelThreshold=function(f){var e=this,h=e.config,g=e.hasType("donut")?h.donut_label_threshold:h.pie_label_threshold;return f>=g},T.getArcLabelFormat=function(){var e=this,d=e.config,f=d.pie_label_format;return e.hasType("gauge")?f=d.gauge_label_format:e.hasType("donut")&&(f=d.donut_label_format),f},T.getArcTitle=function(){var b=this;return b.hasType("donut")?b.config.donut_title:""},T.updateTargetsForArc=function(j){var i,p,o=this,n=o.main,m=o.classChartArc.bind(o),l=o.classArcs.bind(o),k=o.classFocus.bind(o);i=n.select("."+Q.chartArcs).selectAll("."+Q.chartArc).data(o.pie(j)).attr("class",function(b){return m(b)+k(b.data)}),p=i.enter().append("g").attr("class",m),p.append("g").attr("class",l),p.append("text").attr("dy",o.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},T.initArc=function(){var b=this;b.arcs=b.main.select("."+Q.chart).append("g").attr("class",Q.chartArcs).attr("transform",b.getTranslate("arc")),b.arcs.append("text").attr("class",Q.chartArcsTitle).style("text-anchor","middle").text(b.getArcTitle())},T.redrawArc=function(j,i,p){var o,n=this,m=n.d3,l=n.config,k=n.main;o=k.selectAll("."+Q.arcs).selectAll("."+Q.arc).data(n.arcData.bind(n)),o.enter().append("path").attr("class",n.classArc.bind(n)).style("fill",function(b){return n.color(b.data)}).style("cursor",function(b){return l.interaction_enabled&&l.data_selection_isselectable(b)?"pointer":null}).style("opacity",0).each(function(b){n.isGaugeType(b.data)&&(b.startAngle=b.endAngle=l.gauge_startingAngle),this._current=b}),o.attr("transform",function(b){return !n.isGaugeType(b.data)&&p?"scale(0)":""}).style("opacity",function(b){return b===this._current?0:1}).on("mouseover",l.interaction_enabled?function(e){var d,f;n.transiting||(d=n.updateAngle(e),d&&(f=n.convertToArcData(d),n.expandArc(d.data.id),n.api.focus(d.data.id),n.toggleFocusLegend(d.data.id,!0),n.config.data_onmouseover(f,this)))}:null).on("mousemove",l.interaction_enabled?function(f){var e,h,g=n.updateAngle(f);g&&(e=n.convertToArcData(g),h=[e],n.showTooltip(h,this))}:null).on("mouseout",l.interaction_enabled?function(e){var d,f;n.transiting||(d=n.updateAngle(e),d&&(f=n.convertToArcData(d),n.unexpandArc(d.data.id),n.api.revert(),n.revertLegend(),n.hideTooltip(),n.config.data_onmouseout(f,this)))}:null).on("click",l.interaction_enabled?function(f,e){var h,g=n.updateAngle(f);g&&(h=n.convertToArcData(g),n.toggleShape&&n.toggleShape(this,h,e),n.config.data_onclick.call(n.api,h,this))}:null).each(function(){n.transiting=!0}).transition().duration(j).attrTween("d",function(e){var d,f=n.updateAngle(e);return f?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),d=m.interpolate(this._current,f),this._current=d(0),function(b){var a=d(b);return a.data=e.data,n.getArc(a,!0)}):function(){return"M 0 0"}}).attr("transform",p?"scale(1)":"").style("fill",function(b){return n.levelColor?n.levelColor(b.data.values[0].value):n.color(b.data.id)}).style("opacity",1).call(n.endall,function(){n.transiting=!1}),o.exit().transition().duration(i).style("opacity",0).remove(),k.selectAll("."+Q.chartArc).select("text").style("opacity",0).attr("class",function(b){return n.isGaugeType(b.data)?Q.gaugeValue:""}).text(n.textForArcLabel.bind(n)).attr("transform",n.transformForArcLabel.bind(n)).style("font-size",function(b){return n.isGaugeType(b.data)?Math.round(n.radius/5)+"px":""}).transition().duration(j).style("opacity",function(b){return n.isTargetToShow(b.data.id)&&n.isArcType(b.data)?1:0}),k.select("."+Q.chartArcsTitle).style("opacity",n.hasType("donut")||n.hasType("gauge")?1:0),n.hasType("gauge")&&(n.arcs.select("."+Q.chartArcsBackground).attr("d",function(){var b={data:[{value:l.gauge_max}],startAngle:l.gauge_startingAngle,endAngle:-1*l.gauge_startingAngle};return n.getArc(b,!0,!0)}),n.arcs.select("."+Q.chartArcsGaugeUnit).attr("dy",".75em").text(l.gauge_label_show?l.gauge_units:""),n.arcs.select("."+Q.chartArcsGaugeMin).attr("dx",-1*(n.innerRadius+(n.radius-n.innerRadius)/(l.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(l.gauge_label_show?l.gauge_min:""),n.arcs.select("."+Q.chartArcsGaugeMax).attr("dx",n.innerRadius+(n.radius-n.innerRadius)/(l.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(l.gauge_label_show?l.gauge_max:""))},T.initGauge=function(){var b=this.arcs;this.hasType("gauge")&&(b.append("path").attr("class",Q.chartArcsBackground),b.append("text").attr("class",Q.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),b.append("text").attr("class",Q.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),b.append("text").attr("class",Q.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},T.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},T.initRegion=function(){var b=this;b.region=b.main.append("g").attr("clip-path",b.clipPath).attr("class",Q.regions)},T.updateRegion=function(e){var d=this,f=d.config;d.region.style("visibility",d.hasArcType()?"hidden":"visible"),d.mainRegion=d.main.select("."+Q.regions).selectAll("."+Q.region).data(f.regions),d.mainRegion.enter().append("g").append("rect").style("fill-opacity",0),d.mainRegion.attr("class",d.classRegion.bind(d)),d.mainRegion.exit().transition().duration(e).style("opacity",0).remove()},T.redrawRegion=function(i){var h=this,n=h.mainRegion.selectAll("rect").each(function(){var b=h.d3.select(this.parentNode).datum();h.d3.select(this).datum(b)}),m=h.regionX.bind(h),l=h.regionY.bind(h),k=h.regionWidth.bind(h),j=h.regionHeight.bind(h);return[(i?n.transition():n).attr("x",m).attr("y",l).attr("width",k).attr("height",j).style("fill-opacity",function(b){return P(b.opacity)?b.opacity:0.1})]},T.regionX=function(g){var f,j=this,i=j.config,h="y"===g.axis?j.y:j.y2;return f="y"===g.axis||"y2"===g.axis?i.axis_rotated&&"start" in g?h(g.start):0:i.axis_rotated?0:"start" in g?j.x(j.isTimeSeries()?j.parseDate(g.start):g.start):0},T.regionY=function(g){var f,j=this,i=j.config,h="y"===g.axis?j.y:j.y2;return f="y"===g.axis||"y2"===g.axis?i.axis_rotated?0:"end" in g?h(g.end):0:i.axis_rotated&&"start" in g?j.x(j.isTimeSeries()?j.parseDate(g.start):g.start):0},T.regionWidth=function(h){var g,l=this,k=l.config,j=l.regionX(h),i="y"===h.axis?l.y:l.y2;return g="y"===h.axis||"y2"===h.axis?k.axis_rotated&&"end" in h?i(h.end):l.width:k.axis_rotated?l.width:"end" in h?l.x(l.isTimeSeries()?l.parseDate(h.end):h.end):l.width,j>g?0:g-j},T.regionHeight=function(h){var g,l=this,k=l.config,j=this.regionY(h),i="y"===h.axis?l.y:l.y2;return g="y"===h.axis||"y2"===h.axis?k.axis_rotated?l.height:"start" in h?i(h.start):l.height:k.axis_rotated&&"end" in h?l.x(l.isTimeSeries()?l.parseDate(h.end):h.end):l.height,j>g?0:g-j},T.isRegionOnX=function(b){return !b.axis||"x"===b.axis},T.drag=function(z){var y,x,w,v,u,t,s,r,q=this,p=q.config,o=q.main,l=q.d3;q.hasArcType()||p.data_selection_enabled&&(p.zoom_enabled&&!q.zoom.altDomain||p.data_selection_multiple&&(y=q.dragStart[0],x=q.dragStart[1],w=z[0],v=z[1],u=Math.min(y,w),t=Math.max(y,w),s=p.data_selection_grouped?q.margin.top:Math.min(x,v),r=p.data_selection_grouped?q.height:Math.max(x,v),o.select("."+Q.dragarea).attr("x",u).attr("y",s).attr("width",t-u).attr("height",r-s),o.selectAll("."+Q.shapes).selectAll("."+Q.shape).filter(function(b){return p.data_selection_isselectable(b)}).each(function(af,ae){var ad,ac,A,n,j,i,h=l.select(this),g=h.classed(Q.SELECTED),f=h.classed(Q.INCLUDED),ag=!1;if(h.classed(Q.circle)){ad=1*h.attr("cx"),ac=1*h.attr("cy"),j=q.togglePoint,ag=ad>u&&t>ad&&ac>s&&r>ac}else{if(!h.classed(Q.bar)){return}i=B(this),ad=i.x,ac=i.y,A=i.width,n=i.height,j=q.togglePath,ag=!(ad>t||u>ad+A||ac>r||s>ac+n)}ag^f&&(h.classed(Q.INCLUDED,!f),h.classed(Q.SELECTED,!g),j.call(q,!g,h,af,ae))})))},T.dragstart=function(e){var d=this,f=d.config;d.hasArcType()||f.data_selection_enabled&&(d.dragStart=e,d.main.select("."+Q.chart).append("rect").attr("class",Q.dragarea).style("opacity",0.1),d.dragging=!0)},T.dragend=function(){var d=this,c=d.config;d.hasArcType()||c.data_selection_enabled&&(d.main.select("."+Q.dragarea).transition().duration(100).style("opacity",0).remove(),d.main.selectAll("."+Q.shape).classed(Q.INCLUDED,!1),d.dragging=!1)},T.selectPoint=function(j,i,p){var o=this,n=o.config,m=(n.axis_rotated?o.circleY:o.circleX).bind(o),l=(n.axis_rotated?o.circleX:o.circleY).bind(o),k=o.pointSelectR.bind(o);n.data_onselected.call(o.api,i,j.node()),o.main.select("."+Q.selectedCircles+o.getTargetSelectorSuffix(i.id)).selectAll("."+Q.selectedCircle+"-"+p).data([i]).enter().append("circle").attr("class",function(){return o.generateClass(Q.selectedCircle,p)}).attr("cx",m).attr("cy",l).attr("stroke",function(){return o.color(i)}).attr("r",function(b){return 1.4*o.pointSelectR(b)}).transition().duration(100).attr("r",k)},T.unselectPoint=function(f,e,h){var g=this;g.config.data_onunselected.call(g.api,e,f.node()),g.main.select("."+Q.selectedCircles+g.getTargetSelectorSuffix(e.id)).selectAll("."+Q.selectedCircle+"-"+h).transition().duration(100).attr("r",0).remove()},T.togglePoint=function(f,e,h,g){f?this.selectPoint(e,h,g):this.unselectPoint(e,h,g)},T.selectPath=function(e,d){var f=this;f.config.data_onselected.call(f,d,e.node()),f.config.interaction_brighten&&e.transition().duration(100).style("fill",function(){return f.d3.rgb(f.color(d)).brighter(0.75)})},T.unselectPath=function(e,d){var f=this;f.config.data_onunselected.call(f,d,e.node()),f.config.interaction_brighten&&e.transition().duration(100).style("fill",function(){return f.color(d)})},T.togglePath=function(f,e,h,g){f?this.selectPath(e,h,g):this.unselectPath(e,h,g)},T.getToggle=function(f,e){var h,g=this;return"circle"===f.nodeName?h=g.isStepType(e)?function(){}:g.togglePoint:"path"===f.nodeName&&(h=g.togglePath),h},T.toggleShape=function(r,q,p){var o=this,n=o.d3,m=o.config,l=n.select(r),k=l.classed(Q.SELECTED),j=o.getToggle(r,q).bind(o);m.data_selection_enabled&&m.data_selection_isselectable(q)&&(m.data_selection_multiple||o.main.selectAll("."+Q.shapes+(m.data_selection_grouped?o.getTargetSelectorSuffix(q.id):"")).selectAll("."+Q.shape).each(function(e,d){var f=n.select(this);f.classed(Q.SELECTED)&&j(!1,f.classed(Q.SELECTED,!1),e,d)}),l.classed(Q.SELECTED,!k),j(!k,l,q,p))},T.initBrush=function(){var d=this,c=d.d3;d.brush=c.svg.brush().on("brush",function(){d.redrawForBrush()}),d.brush.update=function(){return d.context&&d.context.select("."+Q.brush).call(this),this},d.brush.scale=function(a){return d.config.axis_rotated?this.y(a):this.x(a)}},T.initSubchart=function(){var f=this,e=f.config,h=f.context=f.svg.append("g").attr("transform",f.getTranslate("context")),g=e.subchart_show?"visible":"hidden";h.style("visibility",g),h.append("g").attr("clip-path",f.clipPathForSubchart).attr("class",Q.chart),h.select("."+Q.chart).append("g").attr("class",Q.chartBars),h.select("."+Q.chart).append("g").attr("class",Q.chartLines),h.append("g").attr("clip-path",f.clipPath).attr("class",Q.brush).call(f.brush),f.axes.subx=h.append("g").attr("class",Q.axisX).attr("transform",f.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":f.clipPathForXAxis).style("visibility",e.subchart_axis_x_show?g:"hidden")},T.updateTargetsForSubchart=function(z){var y,x,w,v,u=this,t=u.context,s=u.config,r=u.classChartBar.bind(u),q=u.classBars.bind(u),p=u.classChartLine.bind(u),o=u.classLines.bind(u),l=u.classAreas.bind(u);s.subchart_show&&(v=t.select("."+Q.chartBars).selectAll("."+Q.chartBar).data(z).attr("class",r),w=v.enter().append("g").style("opacity",0).attr("class",r),w.append("g").attr("class",q),x=t.select("."+Q.chartLines).selectAll("."+Q.chartLine).data(z).attr("class",p),y=x.enter().append("g").style("opacity",0).attr("class",p),y.append("g").attr("class",o),y.append("g").attr("class",l),t.selectAll("."+Q.brush+" rect").attr(s.axis_rotated?"width":"height",s.axis_rotated?u.width2:u.height2))},T.updateBarForSubchart=function(d){var c=this;c.contextBar=c.context.selectAll("."+Q.bars).selectAll("."+Q.bar).data(c.barData.bind(c)),c.contextBar.enter().append("path").attr("class",c.classBar.bind(c)).style("stroke","none").style("fill",c.color),c.contextBar.style("opacity",c.initialOpacity.bind(c)),c.contextBar.exit().transition().duration(d).style("opacity",0).remove()},T.redrawBarForSubchart=function(e,d,f){(d?this.contextBar.transition(Math.random().toString()).duration(f):this.contextBar).attr("d",e).style("opacity",1)},T.updateLineForSubchart=function(d){var c=this;c.contextLine=c.context.selectAll("."+Q.lines).selectAll("."+Q.line).data(c.lineData.bind(c)),c.contextLine.enter().append("path").attr("class",c.classLine.bind(c)).style("stroke",c.color),c.contextLine.style("opacity",c.initialOpacity.bind(c)),c.contextLine.exit().transition().duration(d).style("opacity",0).remove()},T.redrawLineForSubchart=function(e,d,f){(d?this.contextLine.transition(Math.random().toString()).duration(f):this.contextLine).attr("d",e).style("opacity",1)},T.updateAreaForSubchart=function(e){var d=this,f=d.d3;d.contextArea=d.context.selectAll("."+Q.areas).selectAll("."+Q.area).data(d.lineData.bind(d)),d.contextArea.enter().append("path").attr("class",d.classArea.bind(d)).style("fill",d.color).style("opacity",function(){return d.orgAreaOpacity=+f.select(this).style("opacity"),0}),d.contextArea.style("opacity",0),d.contextArea.exit().transition().duration(e).style("opacity",0).remove()},T.redrawAreaForSubchart=function(e,d,f){(d?this.contextArea.transition(Math.random().toString()).duration(f):this.contextArea).attr("d",e).style("fill",this.color).style("opacity",this.orgAreaOpacity)},T.redrawSubchart=function(z,y,x,w,v,u,t){var s,r,q,p=this,o=p.d3,n=p.config;p.context.style("visibility",n.subchart_show?"visible":"hidden"),n.subchart_show&&(o.event&&"zoom"===o.event.type&&p.brush.extent(p.x.orgDomain()).update(),z&&(p.brush.empty()||p.brush.extent(p.x.orgDomain()).update(),s=p.generateDrawArea(v,!0),r=p.generateDrawBar(u,!0),q=p.generateDrawLine(t,!0),p.updateBarForSubchart(x),p.updateLineForSubchart(x),p.updateAreaForSubchart(x),p.redrawBarForSubchart(r,x,x),p.redrawLineForSubchart(q,x,x),p.redrawAreaForSubchart(s,x,x)))},T.redrawForBrush=function(){var d=this,c=d.x;d.redraw({withTransition:!1,withY:d.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),d.config.subchart_onbrush.call(d.api,c.orgDomain())},T.transformContext=function(f,e){var h,g=this;e&&e.axisSubX?h=e.axisSubX:(h=g.context.select("."+Q.axisX),f&&(h=h.transition())),g.context.attr("transform",g.getTranslate("context")),h.attr("transform",g.getTranslate("subx"))},T.getDefaultExtent=function(){var e=this,d=e.config,f=O(d.axis_x_extent)?d.axis_x_extent(e.getXDomain(e.data.targets)):d.axis_x_extent;return e.isTimeSeries()&&(f=[e.parseDate(f[0]),e.parseDate(f[1])]),f},T.initZoom=function(){var f,e=this,h=e.d3,g=e.config;e.zoom=h.behavior.zoom().on("zoomstart",function(){f=h.event.sourceEvent,e.zoom.altDomain=h.event.sourceEvent.altKey?e.x.orgDomain():null,g.zoom_onzoomstart.call(e.api,h.event.sourceEvent)}).on("zoom",function(){e.redrawForZoom.call(e)}).on("zoomend",function(){var a=h.event.sourceEvent;a&&f.clientX===a.clientX&&f.clientY===a.clientY||(e.redrawEventRect(),e.updateZoom(),g.zoom_onzoomend.call(e.api,e.x.orgDomain()))}),e.zoom.scale=function(b){return g.axis_rotated?this.y(b):this.x(b)},e.zoom.orgScaleExtent=function(){var b=g.zoom_extent?g.zoom_extent:[1,10];return[b[0],Math.max(e.getMaxDataCount()/b[1],b[1])]},e.zoom.updateScaleExtent=function(){var b=H(e.x.orgDomain())/H(e.getZoomDomain()),d=this.orgScaleExtent();return this.scaleExtent([d[0]*b,d[1]*b]),this}},T.getZoomDomain=function(){var g=this,f=g.config,j=g.d3,i=j.min([g.orgXDomain[0],f.zoom_x_min]),h=j.max([g.orgXDomain[1],f.zoom_x_max]);return[i,h]},T.updateZoom=function(){var d=this,c=d.config.zoom_enabled?d.zoom:function(){};d.main.select("."+Q.zoomRect).call(c).on("dblclick.zoom",null),d.main.selectAll("."+Q.eventRect).call(c).on("dblclick.zoom",null)},T.redrawForZoom=function(){var g=this,f=g.d3,j=g.config,i=g.zoom,h=g.x;if(j.zoom_enabled&&0!==g.filterTargetsToShow(g.data.targets).length){if("mousemove"===f.event.sourceEvent.type&&i.altDomain){return h.domain(i.altDomain),void i.scale(h).updateScaleExtent()}g.isCategorized()&&h.orgDomain()[0]===g.orgXDomain[0]&&h.domain([g.orgXDomain[0]-1e-10,h.orgDomain()[1]]),g.redraw({withTransition:!1,withY:j.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===f.event.sourceEvent.type&&(g.cancelClick=!0),j.zoom_onzoom.call(g.api,h.orgDomain())}},T.generateColor=function(){var i=this,h=i.config,n=i.d3,m=h.data_colors,l=F(h.color_pattern)?h.color_pattern:n.scale.category10().range(),k=h.data_color,j=[];return function(e){var d,f=e.id||e.data&&e.data.id||e;return m[f] instanceof Function?d=m[f](e):m[f]?d=m[f]:(j.indexOf(f)<0&&j.push(f),d=l[j.indexOf(f)%l.length],m[f]=d),k instanceof Function?k(d,e):d}},T.generateLevelColor=function(){var i=this,h=i.config,n=h.color_pattern,m=h.color_threshold,l="value"===m.unit,k=m.values&&m.values.length?m.values:[],j=m.max||100;return F(h.color_threshold)?function(e){var c,g,f=n[n.length-1];for(c=0;c<k.length;c++){if(g=l?e:100*e/j,g<k[c]){f=n[c];break}}return f}:null},T.getYFormat=function(f){var e=this,h=f&&!e.hasType("gauge")?e.defaultArcValueFormat:e.yFormat,g=f&&!e.hasType("gauge")?e.defaultArcValueFormat:e.y2Format;return function(b,i,d){var c="y2"===e.axis.getId(d)?g:h;return c.call(e,b,i)}},T.yFormat=function(f){var e=this,h=e.config,g=h.axis_y_tick_format?h.axis_y_tick_format:e.defaultValueFormat;return g(f)},T.y2Format=function(f){var e=this,h=e.config,g=h.axis_y2_tick_format?h.axis_y2_tick_format:e.defaultValueFormat;return g(f)},T.defaultValueFormat=function(b){return P(b)?+b:""},T.defaultArcValueFormat=function(d,c){return(100*c).toFixed(1)+"%"},T.dataLabelFormat=function(g){var f,j=this,i=j.config.data_labels,h=function(b){return P(b)?+b:""};return f="function"==typeof i.format?i.format:"object"==typeof i.format?i.format[g]?i.format[g]===!0?h:i.format[g]:function(){return""}:h},T.hasCaches=function(d){for(var c=0;c<d.length;c++){if(!(d[c] in this.cache)){return !1}}return !0},T.addCache=function(d,c){this.cache[d]=this.cloneTarget(c)},T.getCaches=function(e){var d,f=[];for(d=0;d<e.length;d++){e[d] in this.cache&&f.push(this.cloneTarget(this.cache[e[d]]))}return f};var Q=T.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};T.generateClass=function(d,c){return" "+d+" "+d+this.getTargetSelectorSuffix(c)},T.classText=function(b){return this.generateClass(Q.text,b.index)},T.classTexts=function(b){return this.generateClass(Q.texts,b.id)},T.classShape=function(b){return this.generateClass(Q.shape,b.index)},T.classShapes=function(b){return this.generateClass(Q.shapes,b.id)},T.classLine=function(b){return this.classShape(b)+this.generateClass(Q.line,b.id)},T.classLines=function(b){return this.classShapes(b)+this.generateClass(Q.lines,b.id)},T.classCircle=function(b){return this.classShape(b)+this.generateClass(Q.circle,b.index)},T.classCircles=function(b){return this.classShapes(b)+this.generateClass(Q.circles,b.id)},T.classBar=function(b){return this.classShape(b)+this.generateClass(Q.bar,b.index)},T.classBars=function(b){return this.classShapes(b)+this.generateClass(Q.bars,b.id)},T.classArc=function(b){return this.classShape(b.data)+this.generateClass(Q.arc,b.data.id)},T.classArcs=function(b){return this.classShapes(b.data)+this.generateClass(Q.arcs,b.data.id)},T.classArea=function(b){return this.classShape(b)+this.generateClass(Q.area,b.id)},T.classAreas=function(b){return this.classShapes(b)+this.generateClass(Q.areas,b.id)},T.classRegion=function(d,c){return this.generateClass(Q.region,c)+" "+("class" in d?d["class"]:"")},T.classEvent=function(b){return this.generateClass(Q.eventRect,b.index)},T.classTarget=function(f){var e=this,h=e.config.data_classes[f],g="";return h&&(g=" "+Q.target+"-"+h),e.generateClass(Q.target,f)+g},T.classFocus=function(b){return this.classFocused(b)+this.classDefocused(b)},T.classFocused=function(b){return" "+(this.focusedTargetIds.indexOf(b.id)>=0?Q.focused:"")},T.classDefocused=function(b){return" "+(this.defocusedTargetIds.indexOf(b.id)>=0?Q.defocused:"")},T.classChartText=function(b){return Q.chartText+this.classTarget(b.id)},T.classChartLine=function(b){return Q.chartLine+this.classTarget(b.id)},T.classChartBar=function(b){return Q.chartBar+this.classTarget(b.id)},T.classChartArc=function(b){return Q.chartArc+this.classTarget(b.data.id)},T.getTargetSelectorSuffix=function(b){return b||0===b?("-"+b).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},T.selectorTarget=function(d,c){return(c||"")+"."+Q.target+this.getTargetSelectorSuffix(d)},T.selectorTargets=function(e,d){var f=this;return e=e||[],e.length?e.map(function(b){return f.selectorTarget(b,d)}):null},T.selectorLegend=function(b){return"."+Q.legendItem+this.getTargetSelectorSuffix(b)},T.selectorLegends=function(d){var c=this;return d&&d.length?d.map(function(b){return c.selectorLegend(b)}):null};var P=T.isValue=function(b){return b||0===b},O=T.isFunction=function(b){return"function"==typeof b},N=T.isString=function(b){return"string"==typeof b},M=T.isUndefined=function(b){return"undefined"==typeof b},K=T.isDefined=function(b){return"undefined"!=typeof b},J=T.ceil10=function(b){return 10*Math.ceil(b/10)},I=T.asHalfPixel=function(b){return Math.ceil(b)+0.5},H=T.diffDomain=function(b){return b[1]-b[0]},G=T.isEmpty=function(b){return"undefined"==typeof b||null===b||N(b)&&0===b.length||"object"==typeof b&&0===Object.keys(b).length},F=T.notEmpty=function(b){return !T.isEmpty(b)},E=T.getOption=function(e,d,f){return K(e[d])?e[d]:f},D=T.hasValue=function(e,d){var f=!1;return Object.keys(e).forEach(function(a){e[a]===d&&(f=!0)}),f},C=T.sanitise=function(b){return"string"==typeof b?b.replace(/</g,"&lt;").replace(/>/g,"&gt;"):b},B=T.getPathBox=function(g){var f=g.getBoundingClientRect(),j=[g.pathSegList.getItem(0),g.pathSegList.getItem(1)],i=j[0].x,h=Math.min(j[0].y,j[1].y);return{x:i,y:h,width:f.width,height:f.height}};U.focus=function(e){var d,f=this.internal;e=f.mapToTargetIds(e),d=f.svg.selectAll(f.selectorTargets(e.filter(f.isTargetToShow,f))),this.revert(),this.defocus(),d.classed(Q.focused,!0).classed(Q.defocused,!1),f.hasArcType()&&f.expandArc(e),f.toggleFocusLegend(e,!0),f.focusedTargetIds=e,f.defocusedTargetIds=f.defocusedTargetIds.filter(function(a){return e.indexOf(a)<0})},U.defocus=function(e){var d,f=this.internal;e=f.mapToTargetIds(e),d=f.svg.selectAll(f.selectorTargets(e.filter(f.isTargetToShow,f))),d.classed(Q.focused,!1).classed(Q.defocused,!0),f.hasArcType()&&f.unexpandArc(e),f.toggleFocusLegend(e,!1),f.focusedTargetIds=f.focusedTargetIds.filter(function(a){return e.indexOf(a)<0}),f.defocusedTargetIds=e},U.revert=function(e){var d,f=this.internal;e=f.mapToTargetIds(e),d=f.svg.selectAll(f.selectorTargets(e)),d.classed(Q.focused,!1).classed(Q.defocused,!1),f.hasArcType()&&f.unexpandArc(e),f.config.legend_show&&(f.showLegend(e.filter(f.isLegendToShow.bind(f))),f.legend.selectAll(f.selectorLegends(e)).filter(function(){return f.d3.select(this).classed(Q.legendItemFocused)}).classed(Q.legendItemFocused,!1)),f.focusedTargetIds=[],f.defocusedTargetIds=[]},U.show=function(f,e){var h,g=this.internal;f=g.mapToTargetIds(f),e=e||{},g.removeHiddenTargetIds(f),h=g.svg.selectAll(g.selectorTargets(f)),h.transition().style("opacity",1,"important").call(g.endall,function(){h.style("opacity",null).style("opacity",1)}),e.withLegend&&g.showLegend(f),g.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},U.hide=function(f,e){var h,g=this.internal;f=g.mapToTargetIds(f),e=e||{},g.addHiddenTargetIds(f),h=g.svg.selectAll(g.selectorTargets(f)),h.transition().style("opacity",0,"important").call(g.endall,function(){h.style("opacity",null).style("opacity",0)}),e.withLegend&&g.hideLegend(f),g.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},U.toggle=function(f,e){var h=this,g=this.internal;g.mapToTargetIds(f).forEach(function(b){g.isTargetToShow(b)?h.hide(b,e):h.show(b,e)})},U.zoom=function(d){var c=this.internal;return d&&(c.isTimeSeries()&&(d=d.map(function(b){return c.parseDate(b)})),c.brush.extent(d),c.redraw({withUpdateXDomain:!0,withY:c.config.zoom_rescale}),c.config.zoom_onzoom.call(this,c.x.orgDomain())),c.brush.extent()},U.zoom.enable=function(d){var c=this.internal;c.config.zoom_enabled=d,c.updateAndRedraw()},U.unzoom=function(){var b=this.internal;b.brush.clear().update(),b.redraw({withUpdateXDomain:!0})},U.zoom.max=function(f){var e=this.internal,h=e.config,g=e.d3;return 0===f||f?void (h.zoom_x_max=g.max([e.orgXDomain[1],f])):h.zoom_x_max},U.zoom.min=function(f){var e=this.internal,h=e.config,g=e.d3;return 0===f||f?void (h.zoom_x_min=g.min([e.orgXDomain[0],f])):h.zoom_x_min},U.zoom.range=function(b){return arguments.length?(K(b.max)&&this.domain.max(b.max),void (K(b.min)&&this.domain.min(b.min))):{max:this.domain.max(),min:this.domain.min()}},U.load=function(e){var d=this.internal,f=d.config;return e.xs&&d.addXs(e.xs),"names" in e&&U.data.names.bind(this)(e.names),"classes" in e&&Object.keys(e.classes).forEach(function(a){f.data_classes[a]=e.classes[a]}),"categories" in e&&d.isCategorized()&&(f.axis_x_categories=e.categories),"axes" in e&&Object.keys(e.axes).forEach(function(a){f.data_axes[a]=e.axes[a]}),"colors" in e&&Object.keys(e.colors).forEach(function(a){f.data_colors[a]=e.colors[a]}),"cacheIds" in e&&d.hasCaches(e.cacheIds)?void d.load(d.getCaches(e.cacheIds),e.done):void ("unload" in e?d.unload(d.mapToTargetIds("boolean"==typeof e.unload&&e.unload?null:e.unload),function(){d.loadFromArgs(e)}):d.loadFromArgs(e))},U.unload=function(d){var c=this.internal;d=d||{},d instanceof Array?d={ids:d}:"string"==typeof d&&(d={ids:[d]}),c.unload(c.mapToTargetIds(d.ids),function(){c.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),d.done&&d.done()})},U.flow=function(ac){var A,z,y,x,w,v,u,t,s=this.internal,r=[],q=s.getMaxDataCount(),p=0,m=0;if(ac.json){z=s.convertJsonToData(ac.json,ac.keys)}else{if(ac.rows){z=s.convertRowsToData(ac.rows)}else{if(!ac.columns){return}z=s.convertColumnsToData(ac.columns)}}A=s.convertDataToTargets(z,!0),s.data.targets.forEach(function(b){var h,g,f=!1;for(h=0;h<A.length;h++){if(b.id===A[h].id){for(f=!0,b.values[b.values.length-1]&&(m=b.values[b.values.length-1].index+1),p=A[h].values.length,g=0;p>g;g++){A[h].values[g].index=m+g,s.isTimeSeries()||(A[h].values[g].x=m+g)}b.values=b.values.concat(A[h].values),A.splice(h,1);break}}f||r.push(b.id)}),s.data.targets.forEach(function(e){var d,f;for(d=0;d<r.length;d++){if(e.id===r[d]){for(m=e.values[e.values.length-1].index+1,f=0;p>f;f++){e.values.push({id:e.id,index:m+f,x:s.isTimeSeries()?s.getOtherTargetX(m+f):m+f,value:null})}}}}),s.data.targets.length&&A.forEach(function(e){var d,f=[];for(d=s.data.targets[0].values[0].index;m>d;d++){f.push({id:e.id,index:d,x:s.isTimeSeries()?s.getOtherTargetX(d):d,value:null})}e.values.forEach(function(b){b.index+=m,s.isTimeSeries()||(b.x+=m)}),e.values=f.concat(e.values)}),s.data.targets=s.data.targets.concat(A),y=s.getMaxDataCount(),w=s.data.targets[0],v=w.values[0],K(ac.to)?(p=0,t=s.isTimeSeries()?s.parseDate(ac.to):ac.to,w.values.forEach(function(b){b.x<t&&p++})):K(ac.length)&&(p=ac.length),q?1===q&&s.isTimeSeries()&&(u=(w.values[w.values.length-1].x-v.x)/2,x=[new Date(+v.x-u),new Date(+v.x+u)],s.updateXDomain(null,!0,!0,!1,x)):(u=s.isTimeSeries()?w.values.length>1?w.values[w.values.length-1].x-v.x:v.x-s.getXDomain(s.data.targets)[0]:1,x=[v.x-u,v.x],s.updateXDomain(null,!0,!0,!1,x)),s.updateTargets(s.data.targets),s.redraw({flow:{index:v.index,length:p,duration:P(ac.duration)?ac.duration:s.config.transition_duration,done:ac.done,orgDataCount:q},withLegend:!0,withTransition:q>1,withTrimXDomain:!1,withUpdateXAxis:!0})},T.generateFlow=function(f){var e=this,h=e.config,g=e.d3;return function(){var aB,aA,az,ay=f.targets,ax=f.flow,aw=f.drawBar,av=f.drawLine,au=f.drawArea,at=f.cx,ar=f.cy,aq=f.xv,ao=f.xForText,am=f.yForText,ak=f.duration,ah=1,af=ax.index,ad=ax.length,t=e.getValueOnIndex(e.data.targets[0].values,af),d=e.getValueOnIndex(e.data.targets[0].values,af+ad),b=e.x.domain(),ap=ax.duration||ak,an=ax.done||function(){},al=e.generateWait(),aj=e.xgrid||g.selectAll([]),ai=e.xgridLines||g.selectAll([]),ag=e.mainRegion||g.selectAll([]),ae=e.mainText||g.selectAll([]),ac=e.mainBar||g.selectAll([]),l=e.mainLine||g.selectAll([]),c=e.mainArea||g.selectAll([]),a=e.mainCircle||g.selectAll([]);e.flowing=!0,e.data.targets.forEach(function(i){i.values.splice(0,ad)}),az=e.updateXDomain(ay,!0,!0),e.updateXGrid&&e.updateXGrid(!0),ax.orgDataCount?aB=1===ax.orgDataCount||(t&&t.x)===(d&&d.x)?e.x(b[0])-e.x(az[0]):e.isTimeSeries()?e.x(b[0])-e.x(az[0]):e.x(t.x)-e.x(d.x):1!==e.data.targets[0].values.length?aB=e.x(b[0])-e.x(az[0]):e.isTimeSeries()?(t=e.getValueOnIndex(e.data.targets[0].values,0),d=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),aB=e.x(t.x)-e.x(d.x)):aB=H(az)/2,ah=H(b)/H(az),aA="translate("+aB+",0) scale("+ah+",1)",e.hideXGridFocus(),g.transition().ease("linear").duration(ap).each(function(){al.add(e.axes.x.transition().call(e.xAxis)),al.add(ac.transition().attr("transform",aA)),al.add(l.transition().attr("transform",aA)),al.add(c.transition().attr("transform",aA)),al.add(a.transition().attr("transform",aA)),al.add(ae.transition().attr("transform",aA)),al.add(ag.filter(e.isRegionOnX).transition().attr("transform",aA)),al.add(aj.transition().attr("transform",aA)),al.add(ai.transition().attr("transform",aA))}).call(al,function(){var i,m=[],k=[],j=[];if(ad){for(i=0;ad>i;i++){m.push("."+Q.shape+"-"+(af+i)),k.push("."+Q.text+"-"+(af+i)),j.push("."+Q.eventRect+"-"+(af+i))}e.svg.selectAll("."+Q.shapes).selectAll(m).remove(),e.svg.selectAll("."+Q.texts).selectAll(k).remove(),e.svg.selectAll("."+Q.eventRects).selectAll(j).remove(),e.svg.select("."+Q.xgrid).remove()}aj.attr("transform",null).attr(e.xgridAttr),ai.attr("transform",null),ai.select("line").attr("x1",h.axis_rotated?0:aq).attr("x2",h.axis_rotated?e.width:aq),ai.select("text").attr("x",h.axis_rotated?e.width:0).attr("y",aq),ac.attr("transform",null).attr("d",aw),l.attr("transform",null).attr("d",av),c.attr("transform",null).attr("d",au),a.attr("transform",null).attr("cx",at).attr("cy",ar),ae.attr("transform",null).attr("x",ao).attr("y",am).style("fill-opacity",e.opacityForText.bind(e)),ag.attr("transform",null),ag.select("rect").filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),h.interaction_enabled&&e.redrawEventRect(),an(),e.flowing=!1})}},U.selected=function(e){var d=this.internal,f=d.d3;return f.merge(d.main.selectAll("."+Q.shapes+d.getTargetSelectorSuffix(e)).selectAll("."+Q.shape).filter(function(){return f.select(this).classed(Q.SELECTED)}).map(function(b){return b.map(function(g){var c=g.__data__;return c.data?c.data:c})}))},U.select=function(h,g,l){var k=this.internal,j=k.d3,i=k.config;i.data_selection_enabled&&k.main.selectAll("."+Q.shapes).selectAll("."+Q.shape).each(function(f,e){var d=j.select(this),c=f.data?f.data.id:f.id,b=k.getToggle(this,f).bind(k),a=i.data_selection_grouped||!h||h.indexOf(c)>=0,q=!g||g.indexOf(e)>=0,p=d.classed(Q.SELECTED);d.classed(Q.line)||d.classed(Q.area)||(a&&q?i.data_selection_isselectable(f)&&!p&&b(!0,d.classed(Q.SELECTED,!0),f,e):K(l)&&l&&p&&b(!1,d.classed(Q.SELECTED,!1),f,e))})},U.unselect=function(g,f){var j=this.internal,i=j.d3,h=j.config;h.data_selection_enabled&&j.main.selectAll("."+Q.shapes).selectAll("."+Q.shape).each(function(o,l){var e=i.select(this),d=o.data?o.data.id:o.id,c=j.getToggle(this,o).bind(j),b=h.data_selection_grouped||!g||g.indexOf(d)>=0,a=!f||f.indexOf(l)>=0,p=e.classed(Q.SELECTED);e.classed(Q.line)||e.classed(Q.area)||b&&a&&h.data_selection_isselectable(o)&&p&&c(!1,e.classed(Q.SELECTED,!1),o,l)})},U.transform=function(f,e){var h=this.internal,g=["pie","donut"].indexOf(f)>=0?{withTransform:!0}:null;h.transformTo(e,f,g)},T.transformTo=function(h,g,l){var k=this,j=!k.hasArcType(),i=l||{withTransitionForAxis:j};i.withTransitionForTransform=!1,k.transiting=!1,k.setTargetType(h,g),k.updateTargets(k.data.targets),k.updateAndRedraw(i)},U.groups=function(e){var d=this.internal,f=d.config;return M(e)?f.data_groups:(f.data_groups=e,d.redraw(),f.data_groups)},U.xgrids=function(e){var d=this.internal,f=d.config;return e?(f.grid_x_lines=e,d.redrawWithoutRescale(),f.grid_x_lines):f.grid_x_lines},U.xgrids.add=function(d){var c=this.internal;return this.xgrids(c.config.grid_x_lines.concat(d?d:[]))},U.xgrids.remove=function(d){var c=this.internal;c.removeGridLines(d,!0)},U.ygrids=function(e){var d=this.internal,f=d.config;return e?(f.grid_y_lines=e,d.redrawWithoutRescale(),f.grid_y_lines):f.grid_y_lines},U.ygrids.add=function(d){var c=this.internal;return this.ygrids(c.config.grid_y_lines.concat(d?d:[]))},U.ygrids.remove=function(d){var c=this.internal;c.removeGridLines(d,!1)},U.regions=function(e){var d=this.internal,f=d.config;return e?(f.regions=e,d.redrawWithoutRescale(),f.regions):f.regions},U.regions.add=function(e){var d=this.internal,f=d.config;return e?(f.regions=f.regions.concat(e),d.redrawWithoutRescale(),f.regions):f.regions},U.regions.remove=function(h){var g,l,k,j=this.internal,i=j.config;return h=h||{},g=j.getOption(h,"duration",i.transition_duration),l=j.getOption(h,"classes",[Q.region]),k=j.main.select("."+Q.regions).selectAll(l.map(function(b){return"."+b})),(g?k.transition().duration(g):k).style("opacity",0).remove(),i.regions=i.regions.filter(function(d){var c=!1;return d["class"]?(d["class"].split(" ").forEach(function(b){l.indexOf(b)>=0&&(c=!0)}),!c):!0}),i.regions},U.data=function(d){var c=this.internal.data.targets;return"undefined"==typeof d?c:c.filter(function(a){return[].concat(d).indexOf(a.id)>=0})},U.data.shown=function(b){return this.internal.filterTargetsToShow(this.data(b))},U.data.values=function(e){var d,f=null;return e&&(d=this.data(e),f=d[0]?d[0].values.map(function(b){return b.value}):null),f},U.data.names=function(b){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",b)},U.data.colors=function(b){return this.internal.updateDataAttributes("colors",b)},U.data.axes=function(b){return this.internal.updateDataAttributes("axes",b)},U.category=function(f,e){var h=this.internal,g=h.config;return arguments.length>1&&(g.axis_x_categories[f]=e,h.redraw()),g.axis_x_categories[f]},U.categories=function(e){var d=this.internal,f=d.config;return arguments.length?(f.axis_x_categories=e,d.redraw(),f.axis_x_categories):f.axis_x_categories},U.color=function(d){var c=this.internal;return c.color(d)},U.x=function(d){var c=this.internal;return arguments.length&&(c.updateTargetX(c.data.targets,d),c.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),c.data.xs},U.xs=function(d){var c=this.internal;return arguments.length&&(c.updateTargetXs(c.data.targets,d),c.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),c.data.xs},U.axis=function(){},U.axis.labels=function(d){var c=this.internal;arguments.length&&(Object.keys(d).forEach(function(a){c.axis.setLabelText(a,d[a])}),c.axis.updateLabels())},U.axis.max=function(e){var d=this.internal,f=d.config;return arguments.length?("object"==typeof e?(P(e.x)&&(f.axis_x_max=e.x),P(e.y)&&(f.axis_y_max=e.y),P(e.y2)&&(f.axis_y2_max=e.y2)):f.axis_y_max=f.axis_y2_max=e,void d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:f.axis_x_max,y:f.axis_y_max,y2:f.axis_y2_max}},U.axis.min=function(e){var d=this.internal,f=d.config;return arguments.length?("object"==typeof e?(P(e.x)&&(f.axis_x_min=e.x),P(e.y)&&(f.axis_y_min=e.y),P(e.y2)&&(f.axis_y2_min=e.y2)):f.axis_y_min=f.axis_y2_min=e,void d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:f.axis_x_min,y:f.axis_y_min,y2:f.axis_y2_min}},U.axis.range=function(b){return arguments.length?(K(b.max)&&this.axis.max(b.max),void (K(b.min)&&this.axis.min(b.min))):{max:this.axis.max(),min:this.axis.min()}},U.legend=function(){},U.legend.show=function(d){var c=this.internal;c.showLegend(c.mapToTargetIds(d)),c.updateAndRedraw({withLegend:!0})},U.legend.hide=function(d){var c=this.internal;c.hideLegend(c.mapToTargetIds(d)),c.updateAndRedraw({withLegend:!0})},U.resize=function(e){var d=this.internal,f=d.config;f.size_width=e?e.width:null,f.size_height=e?e.height:null,this.flush()},U.flush=function(){var b=this.internal;b.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},U.destroy=function(){var a=this.internal;if(ab.clearInterval(a.intervalForObserveInserted),void 0!==a.resizeTimeout&&ab.clearTimeout(a.resizeTimeout),ab.detachEvent){ab.detachEvent("onresize",a.resizeFunction)}else{if(ab.removeEventListener){ab.removeEventListener("resize",a.resizeFunction)}else{var d=ab.onresize;d&&d.add&&d.remove&&d.remove(a.resizeFunction)}}return a.selectChart.classed("c3",!1).html(""),Object.keys(a).forEach(function(b){a[b]=null}),null},U.tooltip=function(){},U.tooltip.show=function(f){var e,h,g=this.internal;f.mouse&&(h=f.mouse),f.data?g.isMultipleX()?(h=[g.x(f.data.x),g.getYScale(f.data.id)(f.data.value)],e=null):e=P(f.data.index)?f.data.index:g.getIndexByX(f.data.x):"undefined"!=typeof f.x?e=g.getIndexByX(f.x):"undefined"!=typeof f.index&&(e=f.index),g.dispatchEvent("mouseover",e,h),g.dispatchEvent("mousemove",e,h),g.config.tooltip_onshow.call(g,f.data)},U.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)};var L;T.isSafari=function(){var a=ab.navigator.userAgent;return a.indexOf("Safari")>=0&&a.indexOf("Chrome")<0},T.isChrome=function(){var a=ab.navigator.userAgent;return a.indexOf("Chrome")>=0},Function.prototype.bind||(Function.prototype.bind=function(g){if("function"!=typeof this){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var f=Array.prototype.slice.call(arguments,1),j=this,i=function(){},h=function(){return j.apply(this instanceof i?this:g,f.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,h.prototype=new i,h}),function(){"SVGPathSeg" in ab||(ab.SVGPathSeg=function(e,d,f){this.pathSegType=e,this.pathSegTypeAsLetter=d,this._owningPathSegList=f},SVGPathSeg.PATHSEG_UNKNOWN=0,SVGPathSeg.PATHSEG_CLOSEPATH=1,SVGPathSeg.PATHSEG_MOVETO_ABS=2,SVGPathSeg.PATHSEG_MOVETO_REL=3,SVGPathSeg.PATHSEG_LINETO_ABS=4,SVGPathSeg.PATHSEG_LINETO_REL=5,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,SVGPathSeg.PATHSEG_ARC_ABS=10,SVGPathSeg.PATHSEG_ARC_REL=11,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},ab.SVGPathSegClosePath=function(b){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CLOSEPATH,"z",b)},SVGPathSegClosePath.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},SVGPathSegClosePath.prototype.clone=function(){return new SVGPathSegClosePath(void 0)},ab.SVGPathSegMovetoAbs=function(e,d,f){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_ABS,"M",e),this._x=d,this._y=f},SVGPathSegMovetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoAbs.prototype.clone=function(){return new SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(b){this._x=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(b){this._y=b,this._segmentChanged()},enumerable:!0}),ab.SVGPathSegMovetoRel=function(e,d,f){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_REL,"m",e),this._x=d,this._y=f},SVGPathSegMovetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoRel.prototype.clone=function(){return new SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(b){this._x=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(b){this._y=b,this._segmentChanged()},enumerable:!0}),ab.SVGPathSegLinetoAbs=function(e,d,f){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_ABS,"L",e),this._x=d,this._y=f},SVGPathSegLinetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoAbs.prototype.clone=function(){return new SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(b){this._x=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(b){this._y=b,this._segmentChanged()},enumerable:!0}),ab.SVGPathSegLinetoRel=function(e,d,f){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_REL,"l",e),this._x=d,this._y=f},SVGPathSegLinetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoRel.prototype.clone=function(){return new SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(b){this._x=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(b){this._y=b,this._segmentChanged()},enumerable:!0}),ab.SVGPathSegCurvetoCubicAbs=function(i,h,n,m,l,k,j){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",i),this._x=h,this._y=n,this._x1=m,this._y1=l,this._x2=k,this._y2=j},SVGPathSegCurvetoCubicAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(b){this._x=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(b){this._y=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(b){this._x1=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(b){this._y1=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(b){this._x2=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(b){this._y2=b,this._segmentChanged()},enumerable:!0}),ab.SVGPathSegCurvetoCubicRel=function(i,h,n,m,l,k,j){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",i),this._x=h,this._y=n,this._x1=m,this._y1=l,this._x2=k,this._y2=j},SVGPathSegCurvetoCubicRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(b){this._x=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(b){this._y=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(b){this._x1=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(b){this._y1=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(b){this._x2=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(b){this._y2=b,this._segmentChanged()},enumerable:!0}),ab.SVGPathSegCurvetoQuadraticAbs=function(g,f,j,i,h){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",g),this._x=f,this._y=j,this._x1=i,this._y1=h},SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(b){this._x=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(b){this._y=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(b){this._x1=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(b){this._y1=b,this._segmentChanged()},enumerable:!0}),ab.SVGPathSegCurvetoQuadraticRel=function(g,f,j,i,h){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",g),this._x=f,this._y=j,this._x1=i,this._y1=h},SVGPathSegCurvetoQuadraticRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(b){this._x=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(b){this._y=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(b){this._x1=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(b){this._y1=b,this._segmentChanged()},enumerable:!0}),ab.SVGPathSegArcAbs=function(j,i,p,o,n,m,l,k){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_ABS,"A",j),this._x=i,this._y=p,this._r1=o,this._r2=n,this._angle=m,this._largeArcFlag=l,this._sweepFlag=k},SVGPathSegArcAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcAbs.prototype.clone=function(){return new SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(b){this._x=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(b){this._y=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(b){this._r1=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(b){this._r2=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(b){this._angle=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(b){this._largeArcFlag=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(b){this._sweepFlag=b,this._segmentChanged()},enumerable:!0}),ab.SVGPathSegArcRel=function(j,i,p,o,n,m,l,k){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_REL,"a",j),this._x=i,this._y=p,this._r1=o,this._r2=n,this._angle=m,this._largeArcFlag=l,this._sweepFlag=k},SVGPathSegArcRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcRel.prototype.clone=function(){return new SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(b){this._x=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(b){this._y=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(b){this._r1=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(b){this._r2=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(b){this._angle=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(b){this._largeArcFlag=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(b){this._sweepFlag=b,this._segmentChanged()},enumerable:!0}),ab.SVGPathSegLinetoHorizontalAbs=function(d,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",d),this._x=c},SVGPathSegLinetoHorizontalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(b){this._x=b,this._segmentChanged()},enumerable:!0}),ab.SVGPathSegLinetoHorizontalRel=function(d,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",d),this._x=c},SVGPathSegLinetoHorizontalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(b){this._x=b,this._segmentChanged()},enumerable:!0}),ab.SVGPathSegLinetoVerticalAbs=function(d,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",d),this._y=c},SVGPathSegLinetoVerticalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(b){this._y=b,this._segmentChanged()},enumerable:!0}),ab.SVGPathSegLinetoVerticalRel=function(d,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",d),this._y=c},SVGPathSegLinetoVerticalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(b){this._y=b,this._segmentChanged()},enumerable:!0}),ab.SVGPathSegCurvetoCubicSmoothAbs=function(g,f,j,i,h){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",g),this._x=f,this._y=j,this._x2=i,this._y2=h},SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(b){this._x=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(b){this._y=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(b){this._x2=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(b){this._y2=b,this._segmentChanged()},enumerable:!0}),ab.SVGPathSegCurvetoCubicSmoothRel=function(g,f,j,i,h){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",g),this._x=f,this._y=j,this._x2=i,this._y2=h},SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(b){this._x=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(b){this._y=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(b){this._x2=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(b){this._y2=b,this._segmentChanged()},enumerable:!0}),ab.SVGPathSegCurvetoQuadraticSmoothAbs=function(e,d,f){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",e),this._x=d,this._y=f},SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(b){this._x=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(b){this._y=b,this._segmentChanged()},enumerable:!0}),ab.SVGPathSegCurvetoQuadraticSmoothRel=function(e,d,f){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",e),this._x=d,this._y=f},SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(b){this._x=b,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(b){this._y=b,this._segmentChanged()},enumerable:!0}),SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new SVGPathSegClosePath(void 0)},SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(d,c){return new SVGPathSegMovetoAbs(void 0,d,c)},SVGPathElement.prototype.createSVGPathSegMovetoRel=function(d,c){return new SVGPathSegMovetoRel(void 0,d,c)},SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(d,c){return new SVGPathSegLinetoAbs(void 0,d,c)},SVGPathElement.prototype.createSVGPathSegLinetoRel=function(d,c){return new SVGPathSegLinetoRel(void 0,d,c)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(h,g,l,k,j,i){return new SVGPathSegCurvetoCubicAbs(void 0,h,g,l,k,j,i)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(h,g,l,k,j,i){return new SVGPathSegCurvetoCubicRel(void 0,h,g,l,k,j,i)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(f,e,h,g){return new SVGPathSegCurvetoQuadraticAbs(void 0,f,e,h,g)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(f,e,h,g){return new SVGPathSegCurvetoQuadraticRel(void 0,f,e,h,g)},SVGPathElement.prototype.createSVGPathSegArcAbs=function(i,h,n,m,l,k,j){return new SVGPathSegArcAbs(void 0,i,h,n,m,l,k,j)},SVGPathElement.prototype.createSVGPathSegArcRel=function(i,h,n,m,l,k,j){return new SVGPathSegArcRel(void 0,i,h,n,m,l,k,j)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(b){return new SVGPathSegLinetoHorizontalAbs(void 0,b)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(b){return new SVGPathSegLinetoHorizontalRel(void 0,b)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(b){return new SVGPathSegLinetoVerticalAbs(void 0,b)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(b){return new SVGPathSegLinetoVerticalRel(void 0,b)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(f,e,h,g){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,f,e,h,g)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(f,e,h,g){return new SVGPathSegCurvetoCubicSmoothRel(void 0,f,e,h,g)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(d,c){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,d,c)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(d,c){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,d,c)}),"SVGPathSegList" in ab||(ab.SVGPathSegList=function(b){this._pathElement=b,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},Object.defineProperty(SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},SVGPathSegList.prototype._updateListFromPathMutations=function(d){if(this._pathElement){var c=!1;d.forEach(function(b){"d"==b.attributeName&&(c=!0)}),c&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.segmentChanged=function(b){this._writeListToPath()},SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(b){b._owningPathSegList=null}),this._list=[],this._writeListToPath()},SVGPathSegList.prototype.initialize=function(b){return this._checkPathSynchronizedToList(),this._list=[b],b._owningPathSegList=this,this._writeListToPath(),b},SVGPathSegList.prototype._checkValidIndex=function(b){if(isNaN(b)||0>b||b>=this.numberOfItems){throw"INDEX_SIZE_ERR"}},SVGPathSegList.prototype.getItem=function(b){return this._checkPathSynchronizedToList(),this._checkValidIndex(b),this._list[b]},SVGPathSegList.prototype.insertItemBefore=function(d,c){return this._checkPathSynchronizedToList(),c>this.numberOfItems&&(c=this.numberOfItems),d._owningPathSegList&&(d=d.clone()),this._list.splice(c,0,d),d._owningPathSegList=this,this._writeListToPath(),d},SVGPathSegList.prototype.replaceItem=function(d,c){return this._checkPathSynchronizedToList(),d._owningPathSegList&&(d=d.clone()),this._checkValidIndex(c),this._list[c]=d,d._owningPathSegList=this,this._writeListToPath(),d},SVGPathSegList.prototype.removeItem=function(d){this._checkPathSynchronizedToList(),this._checkValidIndex(d);var c=this._list[d];return this._list.splice(d,1),this._writeListToPath(),c},SVGPathSegList.prototype.appendItem=function(b){return this._checkPathSynchronizedToList(),b._owningPathSegList&&(b=b.clone()),this._list.push(b),b._owningPathSegList=this,this._writeListToPath(),b},SVGPathSegList._pathSegArrayAsString=function(e){var d="",f=!0;return e.forEach(function(b){f?(f=!1,d+=b._asPathString()):d+=" "+b._asPathString()}),d},SVGPathSegList.prototype._parsePath=function(i){if(!i||0==i.length){return[]}var h=this,n=function(){this.pathSegList=[]};n.prototype.appendSegment=function(b){this.pathSegList.push(b)};var m=function(b){this._string=b,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};m.prototype._isCurrentSpace=function(){var b=this._string[this._currentIndex];return" ">=b&&(" "==b||"\n"==b||"	"==b||"\r"==b||"\f"==b)},m.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();){this._currentIndex++}return this._currentIndex<this._endIndex},m.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex)?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},m.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},m.prototype.peekSegmentType=function(){var b=this._string[this._currentIndex];return this._pathSegTypeFromChar(b)},m.prototype._pathSegTypeFromChar=function(b){switch(b){case"Z":case"z":return SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return SVGPathSeg.PATHSEG_LINETO_REL;case"C":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return SVGPathSeg.PATHSEG_ARC_ABS;case"a":return SVGPathSeg.PATHSEG_ARC_REL;case"H":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return SVGPathSeg.PATHSEG_UNKNOWN}},m.prototype._nextCommandHelper=function(d,c){return("+"==d||"-"==d||"."==d||d>="0"&&"9">=d)&&c!=SVGPathSeg.PATHSEG_CLOSEPATH?c==SVGPathSeg.PATHSEG_MOVETO_ABS?SVGPathSeg.PATHSEG_LINETO_ABS:c==SVGPathSeg.PATHSEG_MOVETO_REL?SVGPathSeg.PATHSEG_LINETO_REL:c:SVGPathSeg.PATHSEG_UNKNOWN},m.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData()){return !0}var b=this.peekSegmentType();return b==SVGPathSeg.PATHSEG_MOVETO_ABS||b==SVGPathSeg.PATHSEG_MOVETO_REL},m.prototype._parseNumber=function(){var y=0,x=0,w=1,v=0,u=1,t=1,s=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,u=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var r=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";){this._currentIndex++}if(this._currentIndex!=r){for(var q=this._currentIndex-1,p=1;q>=r;){x+=p*(this._string.charAt(q--)-"0"),p*=10}}if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9"){return}for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";){v+=(this._string.charAt(this._currentIndex++)-"0")*(w*=0.1)}}if(this._currentIndex!=s&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,t=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9"){return}for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";){y*=10,y+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}}var o=x+v;if(o*=u,y&&(o*=Math.pow(10,t*y)),s!=this._currentIndex){return this._skipOptionalSpacesOrDelimiter(),o}}},m.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var d=!1,c=this._string.charAt(this._currentIndex++);if("0"==c){d=!1}else{if("1"!=c){return}d=!0}return this._skipOptionalSpacesOrDelimiter(),d}},m.prototype.parseSegment=function(){var b=this._string[this._currentIndex],f=this._pathSegTypeFromChar(b);if(f==SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==SVGPathSeg.PATHSEG_UNKNOWN){return null}if(f=this._nextCommandHelper(b,this._previousCommand),f==SVGPathSeg.PATHSEG_UNKNOWN){return null}}else{this._currentIndex++}switch(this._previousCommand=f,f){case SVGPathSeg.PATHSEG_MOVETO_REL:return new SVGPathSegMovetoRel(h,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_MOVETO_ABS:return new SVGPathSegMovetoAbs(h,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_REL:return new SVGPathSegLinetoRel(h,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_ABS:return new SVGPathSegLinetoAbs(h,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new SVGPathSegLinetoHorizontalRel(h,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new SVGPathSegLinetoHorizontalAbs(h,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new SVGPathSegLinetoVerticalRel(h,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new SVGPathSegLinetoVerticalAbs(h,this._parseNumber());case SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new SVGPathSegClosePath(h);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var e={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicRel(h,e.x,e.y,e.x1,e.y1,e.x2,e.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var e={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicAbs(h,e.x,e.y,e.x1,e.y1,e.x2,e.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var e={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothRel(h,e.x,e.y,e.x2,e.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var e={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothAbs(h,e.x,e.y,e.x2,e.y2);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var e={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticRel(h,e.x,e.y,e.x1,e.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var e={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticAbs(h,e.x,e.y,e.x1,e.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new SVGPathSegCurvetoQuadraticSmoothRel(h,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new SVGPathSegCurvetoQuadraticSmoothAbs(h,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_ARC_REL:var e={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcRel(h,e.x,e.y,e.x1,e.y1,e.arcAngle,e.arcLarge,e.arcSweep);case SVGPathSeg.PATHSEG_ARC_ABS:var e={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcAbs(h,e.x,e.y,e.x1,e.y1,e.arcAngle,e.arcLarge,e.arcSweep);default:throw"Unknown path seg type."}};var l=new n,k=new m(i);if(!k.initialCommandIsMoveTo()){return[]}for(;k.hasMoreData();){var j=k.parseSegment();if(!j){return[]}l.appendSegment(j)}return l.pathSegList})}(),"function"==typeof define&&define.amd?define("c3",["d3"],function(){return R}):"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=R:ab.c3=R}(window);