(function(){var a=window.AmCharts;a.AmStockChart=a.Class({construct:function(b){this.type="stock";this.cname="AmStockChart";a.addChart(this);this.version="3.21.2";this.theme=b;this.createEvents("buildStarted","zoomed","rollOverStockEvent","rollOutStockEvent","clickStockEvent","panelRemoved","dataUpdated","init","rendered","drawn","resized");this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" ");this.firstDayOfWeek=1;this.glueToTheEnd=!1;this.dataSetCounter=-1;this.zoomOutOnDataSetChange=!1;this.panels=[];this.dataSets=[];this.chartCursors=[];this.comparedDataSets=[];this.classNamePrefix="amcharts";this.categoryAxesSettings=new a.CategoryAxesSettings(b);this.valueAxesSettings=new a.ValueAxesSettings(b);this.panelsSettings=new a.PanelsSettings(b);this.chartScrollbarSettings=new a.ChartScrollbarSettings(b);this.chartCursorSettings=new a.ChartCursorSettings(b);this.stockEventsSettings=new a.StockEventsSettings(b);this.legendSettings=new a.LegendSettings(b);this.balloon=new a.AmBalloon(b);this.previousEndDate=new Date(0);this.previousStartDate=new Date(0);this.dataSetCount=this.graphCount=0;this.chartCreated=!1;this.processTimeout=0;this.autoResize=this.extendToFullPeriod=!0;this.langObj={};a.applyTheme(this,b,this.cname)},write:function(f){var e=this;if(e.listeners){for(var h in e.listeners){var g=e.listeners[h];e.addListener(g.event,g.method)}}e.fire({type:"buildStarted",chart:e});e.afterWriteTO&&clearTimeout(e.afterWriteTO);0<e.processTimeout?e.afterWriteTO=setTimeout(function(){e.afterWrite.call(e,f)},e.processTimeout):e.afterWrite(f)},afterWrite:function(e){var d=this.theme;window.AmCharts_path&&(this.path=window.AmCharts_path);void 0===this.path&&(this.path=a.getPath());void 0===this.path&&(this.path="amcharts/");this.path=a.normalizeUrl(this.path);void 0===this.pathToImages&&(this.pathToImages=this.path+"images/");this.initHC||(a.callInitHandler(this),this.initHC=!0);a.applyLang(this.language,this);this.chartCursors=[];var f=this.exportConfig;f&&a.AmExport&&!this.AmExport&&(this.AmExport=new a.AmExport(this,f));this.amExport&&a.AmExport&&(this.AmExport=a.extend(this.amExport,new a.AmExport(this),!0));this.AmExport&&this.AmExport.init();this.chartRendered=!1;e="object"!=typeof e?document.getElementById(e):e;this.zoomOutOnDataSetChange&&(this.endDate=this.startDate=void 0);this.categoryAxesSettings=a.processObject(this.categoryAxesSettings,a.CategoryAxesSettings,d);this.valueAxesSettings=a.processObject(this.valueAxesSettings,a.ValueAxesSettings,d);this.chartCursorSettings=a.processObject(this.chartCursorSettings,a.ChartCursorSettings,d);this.chartScrollbarSettings=a.processObject(this.chartScrollbarSettings,a.ChartScrollbarSettings,d);this.legendSettings=a.processObject(this.legendSettings,a.LegendSettings,d);this.panelsSettings=a.processObject(this.panelsSettings,a.PanelsSettings,d);this.stockEventsSettings=a.processObject(this.stockEventsSettings,a.StockEventsSettings,d);this.dataSetSelector&&(this.dataSetSelector=a.processObject(this.dataSetSelector,a.DataSetSelector,d));this.periodSelector&&(this.periodSelector=a.processObject(this.periodSelector,a.PeriodSelector,d));e.innerHTML="";this.div=e;this.measure();this.createLayout();this.updateDataSets();this.addDataSetSelector();this.addPeriodSelector();this.addPanels();this.updatePanels();this.addChartScrollbar();this.updateData();this.skipDefault||this.setDefaultPeriod();this.skipEvents=!1},setDefaultPeriod:function(){var b=this.periodSelector;b&&(this.animationPlayed=!1,b.setDefaultPeriod())},validateSize:function(){this.measurePanels()},updateDataSets:function(){var f=this.mainDataSet,e=this.dataSets,h;for(h=0;h<e.length;h++){var g=e[h],g=a.processObject(g,a.DataSet);e[h]=g;g.id||(this.dataSetCount++,g.id="ds"+this.dataSetCount);void 0===g.color&&(g.color=this.colors.length-1>h?this.colors[h]:a.randomColor())}!f&&a.ifArray(e)&&(this.mainDataSet=this.dataSets[0]);this.getSelections()},getLastDate:function(e){var d=a.getDate(e,this.dataDateFormat,"fff");e=this.categoryAxesSettings.minPeriod;var f=a.extractPeriod(e),d=a.changeDate(d,f.period,1*f.count,!0).getTime();-1==e.indexOf("fff")&&--d;return new Date(d)},getFirstDate:function(d){d=a.getDate(d,this.dataDateFormat,"fff");var c=a.extractPeriod(this.categoryAxesSettings.minPeriod);return new Date(a.resetDateToMin(d,c.period,1*c.count,this.firstDayOfWeek))},updateData:function(){var f=this,e=f.mainDataSet;if(e){f.parsingData=!1;var i=f.categoryAxesSettings;-1==a.getItemIndex(i.minPeriod,i.groupToPeriods)&&i.groupToPeriods.unshift(i.minPeriod);var h=e.dataProvider;if(a.ifArray(h)){var g=e.categoryField;f.firstDate=f.getFirstDate(h[0][g]);f.lastDate=f.getLastDate(h[h.length-1][g]);f.periodSelector&&f.periodSelector.setRanges(f.firstDate,f.lastDate);e.dataParsed||(f.parsingData=!0,0<f.processTimeout?setTimeout(function(){f.parseStockData.call(f,e,i.minPeriod,i.groupToPeriods,f.firstDayOfWeek,f.dataDateFormat)},f.processTimeout):f.parseStockData(e,i.minPeriod,i.groupToPeriods,f.firstDayOfWeek,f.dataDateFormat));this.updateComparingData()}else{f.firstDate=void 0,f.lastDate=void 0}f.fixGlue();if(!f.parsingData){f.onDataUpdated()}}},fixGlue:function(){if(this.glueToTheEnd&&this.startDate&&this.endDate&&this.lastDate){this.startDate=new Date(this.startDate.getTime()+(this.lastDate.getTime()-this.endDate.getTime())+1);var b=a.extractPeriod(this.categoryAxesSettings.minPeriod);this.startDate=a.resetDateToMin(this.startDate,b.period,b.count,this.firstDayOfWeek);this.endDate=this.lastDate;this.updateScrollbar=!0}},isDataParsed:function(){if(this.mainDataSet){for(var d=!0,c=0;c<this.comparedDataSets.length;c++){this.comparedDataSets[c].dataParsed||(d=!1)}if(this.mainDataSet.dataParsed&&d){return !0}}return !1},onDataUpdated:function(){this.isDataParsed()&&(this.updatePanelsWithNewData(),this.skipEvents||this.fire({type:"dataUpdated",chart:this}))},updateComparingData:function(){var f=this.comparedDataSets,e=this.categoryAxesSettings,h;for(h=0;h<f.length;h++){var g=f[h];g.dataParsed||(this.parsingData=!0,0<this.processTimeout?this.delayedParseStockData(h,g):this.parseStockData(g,e.minPeriod,e.groupToPeriods,this.firstDayOfWeek,this.dataDateFormat))}},delayedParseStockData:function(f,e){var h=this,g=h.categoryAxesSettings;setTimeout(function(){h.parseStockData.call(h,e,g.minPeriod,g.groupToPeriods,h.firstDayOfWeek,h.dataDateFormat)},h.processTimeout*f)},parseStockData:function(ah,ag,af,ae,aa){var ad=this,Z={},ab=ah.dataProvider,X=ah.categoryField;if(X){var ac=a.getItemIndex(ag,af),Y=af.length,U,P=ab.length,W,i={};for(U=ac;U<Y;U++){W=af[U],Z[W]=[]}var L={},V=ah.fieldMappings,O=V.length;for(U=0;U<P;U++){var T=ab[U],Q=a.getDate(T[X],aa,ag),S=Q.getTime(),R={},e;for(e=0;e<O;e++){R[V[e].toField]=T[V[e].fromField]}for(e=ac;e<Y;e++){W=af[e];var N=a.extractPeriod(W),M=N.period,K=N.count,J,o;if(e==ac||S>=i[W]||!i[W]){L[W]={};L[W].amCategoryIdField=String(a.resetDateToMin(Q,M,K,ae).getTime());var s;for(s=0;s<O;s++){N=V[s].toField,J=L[W],null!==R[N]&&(o=Number(R[N]),J[N+"Count"]=0,isNaN(o)||(J[N+"Open"]=o,J[N+"Sum"]=o,J[N+"High"]=o,J[N+"AbsHigh"]=o,J[N+"Low"]=o,J[N+"Close"]=o,J[N+"Count"]=1,J[N+"Average"]=o))}J.dataContext=T;J.rawData=[];J.rawData.push(T);Z[W].push(L[W]);e>ac&&(N=a.newDate(Q,ag),N=a.changeDate(N,M,K,!0),N=a.resetDateToMin(N,M,K,ae),i[W]=N.getTime());if(e==ac){for(var j in T){T.hasOwnProperty(j)&&(L[W][j]=T[j])}}L[W][X]=a.newDate(Q,ag)}else{for(J=L[W],J.rawData&&J.rawData.push(T),W=0;W<O;W++){N=V[W].toField,U==P-1&&(J[X]=a.newDate(Q,ag)),null!==R[N]&&(o=Number(R[N]),isNaN(o)||(isNaN(J[N+"Low"])&&(J[N+"Low"]=o),o<J[N+"Low"]&&(J[N+"Low"]=o),isNaN(J[N+"High"])&&(J[N+"High"]=o),o>J[N+"High"]&&(J[N+"High"]=o),isNaN(J[N+"AbsHigh"])&&(J[N+"AbsHigh"]=o),Math.abs(o)>J[N+"AbsHigh"]&&(J[N+"AbsHigh"]=o),J[N+"Close"]=o,M=a.getDecimals(J[N+"Sum"]),K=a.getDecimals(o),isNaN(J[N+"Sum"])&&(J[N+"Sum"]=0),J[N+"Sum"]+=o,J[N+"Sum"]=a.roundTo(J[N+"Sum"],Math.max(M,K)),J[N+"Count"]++,J[N+"Average"]=J[N+"Sum"]/J[N+"Count"]))}}}}}ah.agregatedDataProviders=Z;a.ifArray(ah.stockEvents)?0<ad.processTimeout?setTimeout(function(){ad.parseEvents.call(ad,ah,ad.panels,ad.stockEventsSettings,ad.firstDayOfWeek,ad,ad.dataDateFormat)},ad.processTimeout):ad.parseEvents(ah,ad.panels,ad.stockEventsSettings,ad.firstDayOfWeek,ad,ad.dataDateFormat):(ah.dataParsed=!0,ad.onDataUpdated())},parseEvents:function(D,C,A,z,s,x){z=D.stockEvents;var r=D.agregatedDataProviders,u=C.length,j,w,o,e,F,i;for(j=0;j<u;j++){i=C[j];F=i.graphs;o=F.length;for(w=0;w<o;w++){e=F[w],e.customBulletField="amCustomBullet"+e.id+"_"+i.id,e.bulletConfigField="amCustomBulletConfig"+e.id+"_"+i.id,e.chart=i}for(w=0;w<z.length;w++){o=z[w],e=o.graph,a.isString(e)&&(e=a.getObjById(F,e))&&(o.graph=e),e&&(o.panel=e.chart)}}for(var B in r){if(r.hasOwnProperty(B)){for(C=r[B],u=a.extractPeriod(B),j=C.length,w=0;w<z.length;w++){o=z[w];e=o.date instanceof Date;x&&!e&&(o.date=a.stringToDate(o.date,x));e=o.date.getTime();var E=this.getEventDataItem(e,C,D,0,j,u);E&&(e=o.graph,i=o.panel,e&&(F="amCustomBullet"+e.id+"_"+i.id,e="amCustomBulletConfig"+e.id+"_"+i.id,E[e]?i=E[e]:(i={},i.eventDispatcher=s,i.eventObjects=[],i.letters=[],i.descriptions=[],i.shapes=[],i.backgroundColors=[],i.backgroundAlphas=[],i.borderColors=[],i.borderAlphas=[],i.colors=[],i.rollOverColors=[],i.showOnAxis=[],i.values=[],i.showAts=[],i.fontSizes=[],i.showBullets=[],E[F]=a.StackedBullet,E[e]=i),i.eventObjects.push(o),i.letters.push(o.text),i.descriptions.push(o.description),o.type?i.shapes.push(o.type):i.shapes.push(A.type),void 0!==o.backgroundColor?i.backgroundColors.push(o.backgroundColor):i.backgroundColors.push(A.backgroundColor),isNaN(o.backgroundAlpha)?i.backgroundAlphas.push(A.backgroundAlpha):i.backgroundAlphas.push(o.backgroundAlpha),isNaN(o.borderAlpha)?i.borderAlphas.push(A.borderAlpha):i.borderAlphas.push(o.borderAlpha),void 0!==o.borderColor?i.borderColors.push(o.borderColor):i.borderColors.push(A.borderColor),void 0!==o.rollOverColor?i.rollOverColors.push(o.rollOverColor):i.rollOverColors.push(A.rollOverColor),void 0!==o.showAt?i.showAts.push(o.showAt):i.showAts.push(A.showAt),void 0!==o.fontSize&&i.fontSizes.push(o.fontSize),i.colors.push(o.color),i.values.push(o.value),i.showOnAxis.push(o.showOnAxis),i.showBullets.push(o.showBullet),i.date=new Date(o.date)))}}}D.dataParsed=!0;this.onDataUpdated()},getEventDataItem:function(y,x,w,v,p,u){var o=u.period,r=u.count,i=Math.floor(v+(p-v)/2),s=x[i],j=s[w.categoryField],e=this.dataDateFormat,z=j instanceof Date;e&&!z&&(j=a.stringToDate(j,e));e=j.getTime();"YYYY"==o&&(e=a.resetDateToMin(new Date(j),o,r,this.firstDayOfWeek).getTime());o="fff"==o?j.getTime()+1:a.resetDateToMin(a.changeDate(new Date(j),u.period,u.count),o,r,this.firstDayOfWeek).getTime();if(y>=e&&y<o){return s}if(!(1>=p-v)){return y<e?this.getEventDataItem(y,x,w,v,i,u):this.getEventDataItem(y,x,w,i,p,u)}},createLayout:function(){var g=this.div,f,j,i=this.classNamePrefix,h=document.createElement("div");h.style.position="relative";this.containerDiv=h;h.className=i+"-stock-div";g.appendChild(h);if(g=this.periodSelector){f=g.position}if(g=this.dataSetSelector){j=g.position}if("left"==f||"left"==j){g=document.createElement("div"),g.className=i+"-left-div",g.style.cssFloat="left",g.style.styleFloat="left",g.style.width="0px",g.style.position="absolute",h.appendChild(g),this.leftContainer=g}if("right"==f||"right"==j){f=document.createElement("div"),f.className=i+"-right-div",f.style.cssFloat="right",f.style.styleFloat="right",f.style.width="0px",h.appendChild(f),this.rightContainer=f}f=document.createElement("div");f.className=i+"-center-div";h.appendChild(f);this.centerContainer=f;h=document.createElement("div");h.className=i+"-panels-div";f.appendChild(h);this.panelsContainer=h},addPanels:function(){this.measurePanels(!0);for(var e=this.panels,d=0;d<e.length;d++){var f=e[d],f=a.processObject(f,a.StockPanel,this.theme,!0);e[d]=f;this.addStockPanel(f,d)}this.panelsAdded=!0},measurePanels:function(i){this.measure();var g=this.chartScrollbarSettings,n=this.divRealHeight,m=this.divRealWidth;if(this.div){var k=this.panelsSettings.panelSpacing;g.enabled&&(n-=g.height);(g=this.periodSelector)&&!g.vertical&&(g=g.offsetHeight,n-=g+k);(g=this.dataSetSelector)&&!g.vertical&&(g=g.offsetHeight,n-=g+k);i||n==this.prevPH&&this.prevPW==m||this.fire({type:"resized",chart:this});this.prevPW!=m&&(this.prevPW=m);if(n!=this.prevPH){i=this.panels;0<n&&(this.panelsContainer.style.height=n+"px");for(var m=0,j,g=0;g<i.length;g++){if(j=i[g]){var h=j.percentHeight;isNaN(h)&&(h=100/i.length,j.percentHeight=h);m+=h}}this.panelsHeight=Math.max(n-k*(i.length-1),0);for(g=0;g<i.length;g++){if(j=i[g]){j.percentHeight=j.percentHeight/m*100,j.panelBox&&(j.panelBox.style.height=Math.round(j.percentHeight*this.panelsHeight/100)+"px")}}this.prevPH=n}}},addStockPanel:function(f,e){var h=this.panelsSettings,g=document.createElement("div");0<e&&!this.panels[e-1].showCategoryAxis&&(g.style.marginTop=h.panelSpacing+"px");f.hideBalloonReal();f.panelBox=g;f.stockChart=this;f.langObj=this.langObj;f.id||(f.id="stockPanel"+e);g.className="amChartsPanel "+this.classNamePrefix+"-stock-panel-div "+this.classNamePrefix+"-stock-panel-div-"+f.id;f.pathToImages=this.pathToImages;f.path=this.path;g.style.height=Math.round(f.percentHeight*this.panelsHeight/100)+"px";g.style.width="100%";this.panelsContainer.appendChild(g);0<h.backgroundAlpha&&(g.style.backgroundColor=h.backgroundColor);if(g=f.stockLegend){g=a.processObject(g,a.StockLegend,this.theme),g.container=void 0,g.title=f.title,g.marginLeft=h.marginLeft,g.marginRight=h.marginRight,g.verticalGap=3,g.position="top",a.copyProperties(this.legendSettings,g),f.addLegend(g,g.divId)}f.zoomOutText="";this.addCursor(f)},enableCursors:function(e){var d=this.chartCursors,f;for(f=0;f<d.length;f++){d[f].enabled=e}},updatePanels:function(){var d=this.panels,c;for(c=0;c<d.length;c++){this.updatePanel(d[c])}this.mainDataSet&&this.updateGraphs();this.currentPeriod=void 0},updatePanel:function(f){f.seriesIdField="amCategoryIdField";f.dataProvider=[];f.chartData=[];f.graphs=[];var e=f.categoryAxis,i=this.categoryAxesSettings;a.copyProperties(this.panelsSettings,f);a.copyProperties(i,e);e.parseDates=!0;f.addClassNames=this.addClassNames;f.classNamePrefix=this.classNamePrefix;f.zoomOutOnDataUpdate=!1;void 0!==this.mouseWheelScrollEnabled&&(f.mouseWheelScrollEnabled=this.mouseWheelScrollEnabled);void 0!==this.mouseWheelZoomEnabled&&(f.mouseWheelZoomEnabled=this.mouseWheelZoomEnabled);f.dataDateFormat=this.dataDateFormat;f.language=this.language;f.showCategoryAxis?"top"==e.position?f.marginTop=i.axisHeight:f.marginBottom=i.axisHeight:(f.categoryAxis.labelsEnabled=!1,f.chartCursor&&(f.chartCursor.categoryBalloonEnabled=!1));var i=f.valueAxes,h=i.length,g;0===h&&(g=new a.ValueAxis(this.theme),f.addValueAxis(g));e=new a.AmBalloon(this.theme);a.copyProperties(this.balloon,e);f.balloon=e;i=f.valueAxes;h=i.length;for(e=0;e<h;e++){g=i[e],a.copyProperties(this.valueAxesSettings,g)}f.listenersAdded=!1;f.write(f.panelBox)},zoom:function(d,c){this.zoomChart(d,c)},zoomOut:function(){this.zoomChart(this.firstDate,this.lastDate)},updatePanelsWithNewData:function(){var r=this.mainDataSet,q=this.scrollbarChart;this.updateGraphs();if(r){var p=this.panels;this.currentPeriod=void 0;var o;for(o=0;o<p.length;o++){var i=p[o];i.categoryField=r.categoryField;0===r.dataProvider.length&&(i.dataProvider=[]);i.scrollbarChart=q}if(q){p=this.categoryAxesSettings;o=p.minPeriod;q.categoryField=r.categoryField;i=q.dataProvider;if(0<r.dataProvider.length){var m=this.chartScrollbarSettings.usePeriod;if(m){var g=r.agregatedDataProviders[o],j=r.categoryField,e=this.getFirstDate(g[0][j]).getTime();this.getLastDate(g[g.length-1][j]).getTime()-e<a.getPeriodDuration(m)&&(m=o);q.dataProvider=r.agregatedDataProviders[m]}else{q.dataProvider=r.agregatedDataProviders[o]}}else{q.dataProvider=[]}m=q.categoryAxis;m.minPeriod=o;m.firstDayOfWeek=this.firstDayOfWeek;m.equalSpacing=p.equalSpacing;m.axisAlpha=0;m.markPeriodChange=p.markPeriodChange;q.bbsetr=!0;i!=q.dataProvider&&q.validateData();p=this.panelsSettings;q.maxSelectedTime=p.maxSelectedTime;q.minSelectedTime=p.minSelectedTime}0<r.dataProvider.length&&(this.fixGlue(),this.zoomChart(this.startDate,this.endDate))}this.panelDataInvalidated=!1},addChartScrollbar:function(){var h=this.chartScrollbarSettings,e=this.scrollbarChart;e&&(e.clear(),e.destroy());if(h.enabled){var n=this.panelsSettings,m=this.categoryAxesSettings,e=new a.AmSerialChart(this.theme);e.svgIcons=n.svgIcons;e.language=this.language;e.pathToImages=this.pathToImages;e.autoMargins=!1;e.addClassNames=!0;this.scrollbarChart=e;e.id="scrollbarChart";e.scrollbarOnly=!0;e.zoomOutText="";n.fontFamily&&(e.fontFamily=n.fontFamily);isNaN(n.fontSize)||(e.fontSize=n.fontSize);e.marginLeft=n.marginLeft;e.marginRight=n.marginRight;e.marginTop=0;e.marginBottom=0;var n=m.dateFormats,i=e.categoryAxis;i.boldPeriodBeginning=m.boldPeriodBeginning;n&&(i.dateFormats=m.dateFormats);i.labelsEnabled=!1;i.parseDates=!0;m=h.graph;if(a.isString(m)){n=this.panels;for(i=0;i<n.length;i++){var j=a.getObjById(n[i].stockGraphs,h.graph);j&&(m=j)}h.graph=m}var g;m&&(g=new a.AmGraph(this.theme),g.valueField=m.valueField,g.periodValue=m.periodValue,g.type=m.type,g.connect=m.connect,g.minDistance=h.minDistance,e.addGraph(g));m=new a.ChartScrollbar(this.theme);e.addChartScrollbar(m);a.copyProperties(h,m);m.scrollbarHeight=h.height;m.graph=g;this.listenTo(m,"zoomed",this.handleScrollbarZoom);g=document.createElement("div");g.className=this.classNamePrefix+"-scrollbar-chart-div";g.style.height=h.height+"px";m=this.periodSelectorContainer;n=this.periodSelector;i=this.centerContainer;"bottom"==h.position?n?"bottom"==n.position?i.insertBefore(g,m):i.appendChild(g):i.appendChild(g):n?"top"==n.position?i.insertBefore(g,m.nextSibling):i.insertBefore(g,i.firstChild):i.insertBefore(g,i.firstChild);e.write(g)}},handleScrollbarZoom:function(e){if(this.skipScrollbarEvent){this.skipScrollbarEvent=!1}else{var d=e.endDate,f={};f.startDate=e.startDate;f.endDate=d;this.updateScrollbar=!1;this.handleZoom(f)}},addPeriodSelector:function(){var t=this.periodSelector;if(t){var s=this.categoryAxesSettings.minPeriod;t.minDuration=a.getPeriodDuration(s);t.minPeriod=s;t.chart=this;var r=this.dataSetSelector,q,s=this.dssContainer;r&&(q=r.position);var r=this.panelsSettings.panelSpacing,j=document.createElement("div");this.periodSelectorContainer=j;var p=this.leftContainer,i=this.rightContainer,m=this.centerContainer,e=this.panelsContainer,o=t.width+2*r+"px";switch(t.position){case"left":p.style.width=t.width+"px";p.appendChild(j);m.style.paddingLeft=o;break;case"right":m.style.marginRight=o;i.appendChild(j);i.style.width=t.width+"px";break;case"top":e.style.clear="both";m.insertBefore(j,e);j.style.paddingBottom=r+"px";j.style.overflow="hidden";break;case"bottom":j.style.marginTop=r+"px","bottom"==q?m.insertBefore(j,s):m.appendChild(j)}this.listenTo(t,"changed",this.handlePeriodSelectorZoom);t.write(j)}},addDataSetSelector:function(){var j=this.dataSetSelector;if(j){j.chart=this;j.dataProvider=this.dataSets;var g=j.position,p=this.panelsSettings.panelSpacing,o=document.createElement("div");this.dssContainer=o;var n=this.leftContainer,m=this.rightContainer,i=this.centerContainer,k=this.panelsContainer,p=j.width+2*p+"px";switch(g){case"left":n.style.width=j.width+"px";n.appendChild(o);i.style.paddingLeft=p;break;case"right":i.style.marginRight=p;m.appendChild(o);m.style.width=j.width+"px";break;case"top":k.style.clear="both";i.insertBefore(o,k);o.style.overflow="hidden";break;case"bottom":i.appendChild(o)}j.write(o)}},handlePeriodSelectorZoom:function(d){var c=this.scrollbarChart;c&&(c.updateScrollbar=!0);d.predefinedPeriod?(this.predefinedStart=d.startDate,this.predefinedEnd=d.endDate):this.predefinedEnd=this.predefinedStart=null;this.zoomOutValueAxes();this.zoomChart(d.startDate,d.endDate)},zoomOutValueAxes:function(){var g=this.panels;if(this.panelsSettings.zoomOutAxes){for(var f=0;f<g.length;f++){var j=g[f].valueAxes;if(j){for(var i=0;i<j.length;i++){var h=j[i];h.minZoom=NaN;h.maxZoom=NaN}}}}},addCursor:function(f){var e=this.chartCursorSettings;if(e.enabled){var h=new a.ChartCursor(this.theme);a.copyProperties(e,h);var g=e.categoryBalloonFunction;f.chartCursor&&(a.copyProperties(f.chartCursor,h),f.chartCursor.categoryBalloonFunction&&(g=f.chartCursor.categoryBalloonFunction));h.categoryBalloonFunction=g;f.removeChartCursor();f.addChartCursor(h);"mouse"==e.cursorPosition?this.listenTo(h,"moved",this.handleCursorChange):this.listenTo(h,"changed",this.handleCursorChange);this.listenTo(h,"onHideCursor",this.handleCursorChange);this.listenTo(h,"zoomStarted",this.handleCursorChange);this.listenTo(h,"zoomed",this.handleCursorZoom);this.chartCursors.push(h)}},handleCursorChange:function(f){f=f.target;var e=this.chartCursors,h;for(h=0;h<e.length;h++){var g=e[h];g!=f&&g.syncWithCursor(f,this.chartCursorSettings.onePanelOnly)}},handleCursorZoom:function(g){var f=this.scrollbarChart;f&&(f.updateScrollbar=!0);var f={},j,i;if(this.categoryAxesSettings.equalSpacing){i=this.mainDataSet.categoryField;var h=this.mainDataSet.agregatedDataProviders[this.currentPeriod];j=new Date(h[g.start][i]);i=new Date(h[g.end][i])}else{j=new Date(g.start),i=new Date(g.end)}f.startDate=j;f.endDate=i;this.handleZoom(f);this.handleCursorChange(g)},handleZoom:function(b){this.zoomChart(b.startDate,b.endDate)},zoomChart:function(F,E){var C=this;F||(F=C.firstDate);var B=a.newDate(F),u=C.firstDate,z=C.lastDate,s=C.currentPeriod,w=C.categoryAxesSettings,o=w.minPeriod,x=C.panelsSettings,r=C.periodSelector,e=C.panels,H=C.comparedGraphs,i=C.scrollbarChart,D=C.firstDayOfWeek;if(u&&z){F||(F=u);E||(E=z);if(s){var G=a.extractPeriod(s);F.getTime()==E.getTime()&&G!=o&&(E=a.changeDate(E,G.period,G.count),E.setTime(E.getTime()-1))}F.getTime()<u.getTime()&&(F=u);F.getTime()>z.getTime()&&(F=z);E.getTime()<u.getTime()&&(E=u);E.getTime()>z.getTime()&&(E=z);o=a.getItemIndex(o,w.groupToPeriods);w=s;s=C.choosePeriod(o,F,E);C.currentPeriod=s;var o=a.extractPeriod(s),j=a.getPeriodDuration(o.period,o.count);1>E.getTime()-F.getTime()&&(F=new Date(E.getTime()-1));G=a.newDate(F);C.extendToFullPeriod&&(G.getTime()-u.getTime()<0.1*j&&(G=a.resetDateToMin(F,o.period,o.count,D)),z.getTime()-E.getTime()<0.1*j&&(E=a.resetDateToMin(z,o.period,o.count,D),E=a.changeDate(E,o.period,o.count,!0)));for(u=0;u<e.length;u++){z=e[u],z.chartCursor&&z.chartCursor.panning&&(G=B)}for(u=0;u<e.length;u++){z=e[u];B=!1;if(s!=w){for(B=0;B<H.length;B++){j=H[B].graph,j.dataProvider=j.dataSet.agregatedDataProviders[s]}B=z.categoryAxis;B.firstDayOfWeek=D;B.minPeriod=s;z.dataProvider=C.mainDataSet.agregatedDataProviders[s];if(B=z.chartCursor){B.categoryBalloonDateFormat=C.chartCursorSettings.categoryBalloonDateFormat(o.period),z.showCategoryAxis||(B.categoryBalloonEnabled=!1)}z.startTime=G.getTime();z.endTime=E.getTime();z.start=NaN;z.validateData(!0);B=!0}z.chartCursor&&z.chartCursor.panning&&(B=!0);B||(z.startTime=void 0,z.endTime=void 0,z.zoomToDates(G,E));0<x.startDuration&&C.animationPlayed&&!B?(z.startDuration=0,z.animateAgain()):0<x.startDuration&&!B&&z.animateAgain()}C.animationPlayed=!0;x=a.newDate(E);i&&C.updateScrollbar&&(i.zoomToDates(F,x),C.skipScrollbarEvent=!0,setTimeout(function(){C.resetSkip.call(C)},100));C.updateScrollbar=!0;C.startDate=F;C.endDate=E;r&&r.zoom(F,E);C.skipEvents||F.getTime()==C.previousStartDate.getTime()&&E.getTime()==C.previousEndDate.getTime()||(r={type:"zoomed"},r.startDate=F,r.endDate=E,r.chart=C,r.period=s,C.fire(r),C.previousStartDate=a.newDate(F),C.previousEndDate=a.newDate(E))}C.eventsHidden&&C.showHideEvents(!1);C.dispDUpd()},dispDUpd:function(){this.skipEvents||(this.chartCreated||(this.chartCreated=!0,this.fire({type:"init",chart:this})),this.chartRendered||(this.chartRendered=!0,this.fire({type:"rendered",chart:this})),this.fire({type:"drawn",chart:this}));this.animationPlayed=this.chartCreated=!0},resetSkip:function(){this.skipScrollbarEvent=!1},updateGraphs:function(){this.getSelections();if(0<this.dataSets.length){var T=this.panels;this.comparedGraphs=[];var S;for(S=0;S<T.length;S++){var R=T[S],Q=R.valueAxes,M;for(M=0;M<Q.length;M++){var P=Q[M];P.prevLog&&(P.logarithmic=P.prevLog);P.recalculateToPercents="always"==R.recalculateToPercents?!0:!1}Q=this.mainDataSet;M=this.comparedDataSets;P=R.stockGraphs;R.graphs=[];var L,N,J;for(L=0;L<P.length;L++){var O=P[L],O=a.processObject(O,a.StockGraph,this.theme);P[L]=O;if(!O.title||O.resetTitleOnDataSetChange){O.title=Q.title,O.resetTitleOnDataSetChange=!0}O.useDataSetColors&&(O.lineColor=Q.color,O.fillColors=void 0,O.bulletColor=void 0);var K=!1,G=Q.fieldMappings;for(N=0;N<G.length;N++){J=G[N];var s=O.valueField;s&&J.toField==s&&(K=!0);(s=O.openField)&&J.toField==s&&(K=!0);(s=O.closeField)&&J.toField==s&&(K=!0);(s=O.lowField)&&J.toField==s&&(K=!0)}R.graphs.push(O);R.processGraphs();O.hideFromLegend=K?!1:!0;s=!1;"always"==R.recalculateToPercents&&(s=!0);var I=R.stockLegend,i,j,H,o;I&&(I=a.processObject(I,a.StockLegend,this.theme),R.stockLegend=I,i=I.valueTextComparing,j=I.valueTextRegular,H=I.periodValueTextComparing,o=I.periodValueTextRegular);if(O.comparable){var F=M.length;if(O.valueAxis){0<F&&O.valueAxis.logarithmic&&"never"!=R.recalculateToPercents&&(O.valueAxis.logarithmic=!1,O.valueAxis.prevLog=!0);0<F&&"whenComparing"==R.recalculateToPercents&&(O.valueAxis.recalculateToPercents=!0);I&&O.valueAxis&&!0===O.valueAxis.recalculateToPercents&&(s=!0);var u;for(u=0;u<F;u++){var x=M[u],w=O.comparedGraphs[x.id];w||(w=new a.AmGraph(this.theme),w.id="comparedGraph_"+O.id+"_"+x.id);O.compareGraphType&&(w.type=O.compareGraphType);O.compareGraph&&a.copyProperties(O.compareGraph,w);w.periodValue=O.periodValue;w.recalculateValue=O.recalculateValue;w.dataSet=x;w.behindColumns=O.behindColumns;O.comparedGraphs[x.id]=w;w.seriesIdField="amCategoryIdField";w.connect=O.connect;w.clustered=O.clustered;w.showBalloon=O.showBalloon;this.passFields(O,w);var e=O.compareField;e||(e=O.valueField);w.customBulletsHidden=!O.showEventsOnComparedGraphs;K=!1;G=x.fieldMappings;for(N=0;N<G.length;N++){J=G[N],J.toField==e&&(K=!0)}if(K){w.valueField=e;w.title=x.title?x.title:O.title;w.lineColor=x.color;O.compareGraphLineColor&&(w.lineColor=O.compareGraphLineColor);N=O.compareGraphLineThickness;isNaN(N)||(w.lineThickness=N);N=O.compareGraphDashLength;isNaN(N)||(w.dashLength=N);N=O.compareGraphLineAlpha;isNaN(N)||(w.lineAlpha=N);N=O.compareGraphCornerRadiusTop;isNaN(N)||(w.cornerRadiusTop=N);N=O.compareGraphCornerRadiusBottom;isNaN(N)||(w.cornerRadiusBottom=N);N=O.compareGraphBalloonColor;isNaN(N)||(w.balloonColor=N);N=O.compareGraphBulletColor;isNaN(N)||(w.bulletColor=N);if(N=O.compareGraphFillColors){w.fillColors=N}if(N=O.compareGraphNegativeFillColors){w.negativeFillColors=N}if(N=O.compareGraphFillAlphas){w.fillAlphas=N}if(N=O.compareGraphNegativeFillAlphas){w.negativeFillAlphas=N}if(N=O.compareGraphBullet){w.bullet=N}if(N=O.compareGraphNumberFormatter){w.numberFormatter=N}N=O.compareGraphPrecision;isNaN(N)||(w.precision=N);if(N=O.compareGraphBalloonText){w.balloonText=N}N=O.compareGraphBulletSize;isNaN(N)||(w.bulletSize=N);N=O.compareGraphBulletAlpha;isNaN(N)||(w.bulletAlpha=N);N=O.compareGraphBulletBorderAlpha;isNaN(N)||(w.bulletBorderAlpha=N);if(N=O.compareGraphBulletBorderColor){w.bulletBorderColor=N}N=O.compareGraphBulletBorderThickness;isNaN(N)||(w.bulletBorderThickness=N);w.visibleInLegend=O.compareGraphVisibleInLegend;w.balloonFunction=O.compareGraphBalloonFunction;w.hideBulletsCount=O.hideBulletsCount;w.valueAxis=O.valueAxis;I&&(s&&i?(w.legendValueTextR=i,w.legendPeriodValueTextR=H):(j&&(w.legendValueTextR=j),w.legendPeriodValueTextR=o));R.showComparedOnTop?R.graphs.push(w):R.graphs.unshift(w);this.comparedGraphs.push({graph:w,dataSet:x})}}}}I&&(s&&i?(O.legendValueTextR=i,O.legendPeriodValueTextR=H):(j&&(O.legendValueTextR=j),O.legendPeriodValueTextR=o))}}}},passFields:function(g,f){for(var j="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className".split(" "),i=0;i<j.length;i++){var h=j[i];f[h+"Field"]=g[h+"Field"]}},choosePeriod:function(v,u,t){var s=this.categoryAxesSettings,o=s.groupToPeriods,r=o[v],j=o[v+1],p=a.extractPeriod(r),p=a.getPeriodDuration(p.period,p.count),e=u.getTime(),q=t.getTime(),i=s.maxSeries;s.alwaysGroup&&r==s.minPeriod&&(r=1<o.length?o[1]:o[0]);return(q-e)/p>i&&0<i&&j?this.choosePeriod(v+1,u,t):r},getSelections:function(){var f=[],e=this.dataSets,h;for(h=0;h<e.length;h++){var g=e[h];g.compared&&f.push(g)}this.comparedDataSets=f;e=this.panels;for(h=0;h<e.length;h++){g=e[h],g.hideDrawingIcons&&("never"!=g.recalculateToPercents&&0<f.length?g.hideDrawingIcons(!0):g.drawingIconsEnabled&&g.hideDrawingIcons(!1))}},addPanel:function(b){this.panels.push(b);this.prevPH=void 0;a.removeChart(b);a.addChart(b)},addPanelAt:function(d,c){this.panels.splice(c,0,d);this.prevPH=void 0;a.removeChart(d);a.addChart(d)},removePanel:function(e){var d=this.panels;this.prevPH=void 0;var f;for(f=d.length-1;0<=f;f--){d[f]==e&&(this.fire({type:"panelRemoved",panel:e,chart:this}),d.splice(f,1),e.destroy(),e.clear())}},validateData:function(d){var c=this;c.validateDataTO&&clearTimeout(c.validateDataTO);c.validateDataTO=setTimeout(function(){c.validateDataReal.call(c,d)},100)},validateDataReal:function(b){b||this.resetDataParsed();this.updateDataSets();this.mainDataSet.compared=!1;this.updateData();(b=this.dataSetSelector)&&b.write(b.div)},resetDataParsed:function(){var d=this.dataSets,c;for(c=0;c<d.length;c++){d[c].dataParsed=!1}},validateNow:function(d,c){this.skipDefault=!0;this.chartRendered=!1;this.prevPH=void 0;this.skipEvents=c;this.clear(!0);this.initTO&&clearTimeout(this.initTO);d&&this.resetDataParsed();this.write(this.div)},hideStockEvents:function(){this.showHideEvents(!1);this.eventsHidden=!0},showStockEvents:function(){this.showHideEvents(!0);this.eventsHidden=!1},showHideEvents:function(h){var g=this.panels,l;for(l=0;l<g.length;l++){var k=g[l].graphs,j;for(j=0;j<k.length;j++){var i=k[j];!0===h?i.showCustomBullets(!0):i.hideCustomBullets(!0)}}},invalidateSize:function(){var d=this;clearTimeout(d.validateTO);var c=setTimeout(function(){d.validateNow()},5);d.validateTO=c},measure:function(){var e=this.div;if(e){var d=e.offsetWidth,f=e.offsetHeight;e.clientHeight&&(d=e.clientWidth,f=e.clientHeight);this.divRealWidth=d;this.divRealHeight=f}},handleResize:function(){var d=this,c=setTimeout(function(){d.validateSizeReal()},150);d.initTO=c},validateSizeReal:function(){this.previousWidth=this.divRealWidth;this.previousHeight=this.divRealHeight;this.measure();if(this.divRealWidth!=this.previousWidth||this.divRealHeight!=this.previousHeight){0<this.divRealWidth&&0<this.divRealHeight&&this.fire({type:"resized",chart:this}),this.divRealHeight!=this.previousHeight&&this.validateNow()}},clear:function(f){var e=this.panels,h;if(e){for(h=0;h<e.length;h++){var g=e[h];f||(g.cleanChart(),g.destroy());g.clear(f)}}(e=this.scrollbarChart)&&e.clear();this.validateDataTO&&clearTimeout(this.validateDataTO);if(e=this.div){e.innerHTML=""}f||(a.removeChart(this),this.div=null,a.deleteObject(this))}});a.StockEvent=a.Class({construct:function(){}})})();(function(){var a=window.AmCharts;a.DataSet=a.Class({construct:function(){this.cname="DataSet";this.fieldMappings=[];this.dataProvider=[];this.agregatedDataProviders=[];this.stockEvents=[];this.compared=!1;this.showInCompare=this.showInSelect=!0}})})();(function(){var a=window.AmCharts;a.PeriodSelector=a.Class({construct:function(b){this.cname="PeriodSelector";this.theme=b;this.createEvents("changed");this.inputFieldsEnabled=!0;this.position="bottom";this.width=180;this.fromText="From: ";this.toText="to: ";this.periodsText="Zoom: ";this.accessibilityText="Select a timeframe to show chart data";this.periods=[];this.inputFieldWidth=100;this.dateFormat="DD-MM-YYYY";this.hideOutOfScopePeriods=!0;a.applyTheme(this,b,this.cname)},zoom:function(e,d){var f=this.chart;this.inputFieldsEnabled&&(this.startDateField.value=a.formatDate(e,this.dateFormat,f),this.endDateField.value=a.formatDate(d,this.dateFormat,f));this.markButtonAsSelected()},write:function(y){var x=this,w=x.chart,v=w.classNamePrefix;y.className="amChartsPeriodSelector "+v+"-period-selector-div";var p=x.width,u=x.position;x.width=void 0;x.position=void 0;a.applyStyles(y.style,x);x.width=p;x.position=u;x.div=y;y.innerHTML='<fieldset style="border: none; padding:0"><legend style="display: none;">'+(w.langObj.periodSelectorAccessibilityText||x.accessibilityText)+"</legend></fieldset>";var o=y.firstChild;y=x.theme;p=x.position;p="top"==p||"bottom"==p?!1:!0;x.vertical=p;var r=u=0;if(x.inputFieldsEnabled){var i=document.createElement("div");o.appendChild(i);var s=document.createTextNode(w.langObj.fromText||x.fromText);i.appendChild(s);p?a.addBr(i):(i.style.styleFloat="left",i.style.display="inline");var j=document.createElement("input");j.setAttribute("aria-label",w.langObj.fromText||x.fromText);j.className="amChartsInputField "+v+"-start-date-input";y&&a.applyStyles(j.style,y.PeriodInputField);j.style.textAlign="center";j.onblur=function(b){x.handleCalChange(b)};a.isNN&&j.addEventListener("keypress",function(b){x.handleCalendarChange.call(x,b)},!0);a.isIE&&j.attachEvent("onkeypress",function(b){x.handleCalendarChange.call(x,b)});i.appendChild(j);x.startDateField=j;if(p){s=x.width-6+"px",a.addBr(i)}else{var s=x.inputFieldWidth+"px",e=document.createTextNode(" ");i.appendChild(e)}j.style.width=s;j=document.createTextNode(w.langObj.toText||x.toText);i.appendChild(j);p&&a.addBr(i);j=document.createElement("input");j.setAttribute("aria-label",w.langObj.toText||x.toText);j.className="amChartsInputField "+v+"-end-date-input";y&&a.applyStyles(j.style,y.PeriodInputField);j.style.textAlign="center";j.onblur=function(){x.handleCalChange()};a.isNN&&j.addEventListener("keypress",function(b){x.handleCalendarChange.call(x,b)},!0);a.isIE&&j.attachEvent("onkeypress",function(b){x.handleCalendarChange.call(x,b)});i.appendChild(j);x.endDateField=j;p?a.addBr(i):u=j.offsetHeight+2;s&&(j.style.width=s)}i=x.periods;if(a.ifArray(i)){s=document.createElement("div");p||(s.style.cssFloat="right",s.style.styleFloat="right",s.style.display="inline");o.appendChild(s);p&&a.addBr(s);w=document.createTextNode(w.langObj.periodsText||x.periodsText);s.appendChild(w);x.periodContainer=s;for(var z,w=0;w<i.length;w++){o=i[w],z=document.createElement("input"),z.type="button",z.value=o.label,z.period=o.period,z.count=o.count,z.periodObj=o,z.className="amChartsButton "+v+"-period-input",y&&a.applyStyles(z.style,y.PeriodButton),p&&(z.style.width=x.width-1+"px"),z.style.boxSizing="border-box",s.appendChild(z),x.addEventListeners(z),o.button=z}!p&&z&&(r=z.offsetHeight)}x.offsetHeight=Math.max(u,r)},addEventListeners:function(d){var c=this;a.isNN&&d.addEventListener("click",function(b){c.handlePeriodChange.call(c,b)},!0);a.isIE&&d.attachEvent("onclick",function(b){c.handlePeriodChange.call(c,b)})},getPeriodDates:function(){var d=this.periods,c;for(c=0;c<d.length;c++){this.selectPeriodButton(d[c],!0)}},handleCalendarChange:function(b){13==b.keyCode&&this.handleCalChange(b)},handleCalChange:function(f){var e=this.dateFormat,i=a.stringToDate(this.startDateField.value,e),e=this.chart.getLastDate(a.stringToDate(this.endDateField.value,e));try{this.startDateField.blur(),this.endDateField.blur()}catch(g){}if(i&&e){var h={type:"changed"};h.startDate=i;h.endDate=e;h.chart=this.chart;h.event=f;this.fire(h)}},handlePeriodChange:function(b){this.selectPeriodButton((b.srcElement?b.srcElement:b.target).periodObj,!1,b)},setRanges:function(d,c){this.firstDate=d;this.lastDate=c;this.getPeriodDates()},selectPeriodButton:function(y,x,w){var v=y.button,p=v.count,u=v.period,o=this.chart,r,i,s=this.firstDate,j=this.lastDate,e,z=this.theme;r=this.selectFromStart;s&&j&&("MAX"==u?(r=s,i=j):"YTD"==u?(r=new Date,r.setMonth(0,1),r.setHours(0,0,0,0),0===p&&r.setDate(r.getDate()-1),i=this.lastDate):"YYYY"==u||"MM"==u?r?(r=s,i=new Date(s),"YYYY"==u&&(p*=12),i.setMonth(i.getMonth()+p)):(r=new Date(j),"YYYY"==u&&(u="MM",p*=12),"MM"==u&&(r=a.resetDateToMin(r,"DD")),a.changeDate(r,u,p,!1),i=j):"fff"==u?(a.getPeriodDuration(u,p),e=a.getPeriodDuration(u,p),r?(r=s,i.setMilliseconds(s.getMilliseconds()-e+1)):(r=new Date(j.getTime()),r.setMilliseconds(r.getMilliseconds()-e+1),i=this.lastDate)):(e=a.getPeriodDuration(u,p),r?(r=s,i=new Date(s.getTime()+e-1)):(r=new Date(j.getTime()-e+1),i=j)),y.startTime=r.getTime(),this.hideOutOfScopePeriods&&(x&&y.startTime<s.getTime()?v.style.display="none":v.style.display="inline"),r.getTime()>j.getTime()&&(e=a.getPeriodDuration("DD",1),r=new Date(j.getTime()-e)),r.getTime()<s.getTime()&&(r=s),"YTD"==u&&(y.startTime=r.getTime(),j.getFullYear()<(new Date).getFullYear()&&(v.style.display="none")),y.endTime=i.getTime(),x||(this.skipMark=!0,this.unselectButtons(),v.className="amChartsButtonSelected "+o.classNamePrefix+"-period-input-selected",z&&a.applyStyles(v.style,z.PeriodButtonSelected),y={type:"changed"},y.startDate=r,y.endDate=i,y.predefinedPeriod=u,y.chart=this.chart,y.count=p,y.event=w,this.fire(y)))},markButtonAsSelected:function(){if(!this.skipMark){var i=this.chart,e=this.periods,p=i.startDate.getTime(),o=i.endDate.getTime(),j=this.lastDate.getTime();o>j&&(o=j);j=this.theme;this.unselectButtons();var n;for(n=e.length-1;0<=n;n--){var g=e[n],m=g.button;g.startTime&&g.endTime&&p==g.startTime&&o==g.endTime&&(this.unselectButtons(),m.className="amChartsButtonSelected "+i.classNamePrefix+"-period-input-selected",j&&a.applyStyles(m.style,j.PeriodButtonSelected))}}this.skipMark=!1},unselectButtons:function(){var f=this.chart,e=this.periods,i,h=this.theme;for(i=e.length-1;0<=i;i--){var g=e[i].button;g.className="amChartsButton "+f.classNamePrefix+"-period-input";h&&a.applyStyles(g.style,h.PeriodButton)}},setDefaultPeriod:function(){var e=this.periods,d;if(this.chart.chartCreated){for(d=0;d<e.length;d++){var f=e[d];f.selected&&this.selectPeriodButton(f)}}}})})();(function(){var a=window.AmCharts;a.StockGraph=a.Class({inherits:a.AmGraph,construct:function(b){a.StockGraph.base.construct.call(this,b);this.cname="StockGraph";this.useDataSetColors=!0;this.periodValue="Close";this.compareGraphType="line";this.compareGraphVisibleInLegend=!0;this.comparable=this.resetTitleOnDataSetChange=!1;this.comparedGraphs={};this.showEventsOnComparedGraphs=!1;a.applyTheme(this,b,this.cname)}})})();(function(){var a=window.AmCharts;a.StockPanel=a.Class({inherits:a.AmSerialChart,construct:function(b){a.StockPanel.base.construct.call(this,b);this.cname="StockPanel";this.theme=b;this.showCategoryAxis=this.showComparedOnTop=!0;this.recalculateToPercents="whenComparing";this.panelHeaderPaddingBottom=this.panelHeaderPaddingLeft=this.panelHeaderPaddingRight=this.panelHeaderPaddingTop=0;this.trendLineAlpha=1;this.trendLineColor="#00CC00";this.trendLineColorHover="#CC0000";this.trendLineThickness=2;this.trendLineDashLength=0;this.stockGraphs=[];this.drawingIconsEnabled=!1;this.iconSize=38;this.autoMargins=this.allowTurningOff=this.eraseAll=this.erasingEnabled=this.drawingEnabled=!1;a.applyTheme(this,b,this.cname)},initChart:function(b){a.StockPanel.base.initChart.call(this,b);this.drawingIconsEnabled&&this.createDrawIcons();(b=this.chartCursor)&&this.listenTo(b,"draw",this.handleDraw)},addStockGraph:function(b){this.stockGraphs.push(b);return b},handleCursorZoom:function(b){b.start=NaN;b.end=NaN;a.StockPanel.base.handleCursorZoom.call(this,b)},removeStockGraph:function(e){var d=this.stockGraphs,f;for(f=d.length-1;0<=f;f--){d[f]==e&&d.splice(f,1)}},createDrawIcons:function(){var t=this,s=t.iconSize,r=t.container,q=t.pathToImages,j=t.realWidth-2*s-1-t.marginRight,p=a.rect(r,s,s,"#000",0.005),i=a.rect(r,s,s,"#000",0.005);i.translate(s+1,0);var m=r.image(q+"pencilIcon"+t.extension,0,0,s,s);a.setCN(t,m,"pencil");t.pencilButton=m;i.setAttr("cursor","pointer");p.setAttr("cursor","pointer");p.mouseup(function(){t.handlePencilClick()});var e=r.image(q+"pencilIconH"+t.extension,0,0,s,s);a.setCN(t,e,"pencil-pushed");t.pencilButtonPushed=e;t.drawingEnabled||e.hide();var o=r.image(q+"eraserIcon"+t.extension,s+1,0,s,s);a.setCN(t,o,"eraser");t.eraserButton=o;i.mouseup(function(){t.handleEraserClick()});p.touchend&&(p.touchend(function(){t.handlePencilClick()}),i.touchend(function(){t.handleEraserClick()}));s=r.image(q+"eraserIconH"+t.extension,s+1,0,s,s);a.setCN(t,s,"eraser-pushed");t.eraserButtonPushed=s;t.erasingEnabled||s.hide();r=r.set([m,e,o,s,p,i]);a.setCN(t,r,"drawing-tools");r.translate(j,1);this.hideIcons&&r.hide()},handlePencilClick:function(){var d=!this.drawingEnabled;this.disableDrawing(!d);this.erasingEnabled=!1;var c=this.eraserButtonPushed;c&&c.hide();c=this.pencilButtonPushed;d?c&&c.show():(c&&c.hide(),this.setMouseCursor("auto"))},disableDrawing:function(d){this.drawingEnabled=!d;var c=this.chartCursor;this.stockChart&&(this.stockChart.enableCursors(d),c&&c.enableDrawing(!d))},handleEraserClick:function(){this.disableDrawing(!0);var e=this.pencilButtonPushed;e&&e.hide();e=this.eraserButtonPushed;if(this.eraseAll){var e=this.trendLines,d;for(d=e.length-1;0<=d;d--){var f=e[d];f.isProtected||this.removeTrendLine(f)}this.validateNow()}else{(this.erasingEnabled=d=!this.erasingEnabled)?(e&&e.show(),this.setTrendColorHover(this.trendLineColorHover),this.setMouseCursor("auto")):(e&&e.hide(),this.setTrendColorHover())}},setTrendColorHover:function(f){var e=this.trendLines,h;for(h=e.length-1;0<=h;h--){var g=e[h];g.isProtected||(g.rollOverColor=f);this.listenTo(g,"click",this.handleTrendClick)}},handleDraw:function(h){var e=this.drawOnAxis;a.isString(e)&&(e=this.getValueAxisById(e));e||(e=this.valueAxes[0]);this.drawOnAxis=e;var n=this.categoryAxis,m=h.initialX,i=h.finalX,j=h.initialY;h=h.finalY;var g=new a.TrendLine(this.theme);g.initialDate=n.coordinateToDate(m);g.finalDate=n.coordinateToDate(i);g.initialValue=e.coordinateToValue(j);g.finalValue=e.coordinateToValue(h);g.lineAlpha=this.trendLineAlpha;g.lineColor=this.trendLineColor;g.lineThickness=this.trendLineThickness;g.dashLength=this.trendLineDashLength;g.valueAxis=e;g.categoryAxis=n;this.addTrendLine(g);this.listenTo(g,"click",this.handleTrendClick);this.validateNow()},hideDrawingIcons:function(b){(this.hideIcons=b)&&this.disableDrawing(b)},handleTrendClick:function(b){this.erasingEnabled&&(b=b.trendLine,this.eraseAll||b.isProtected||this.removeTrendLine(b),this.validateNow())},handleWheelReal:function(h,g){var l=this.scrollbarChart;if(!this.wheelBusy&&l){var k=1,j=1;this.mouseWheelZoomEnabled?g||(k=-1):g&&(k=-1);if(k!=j){var i=this.mouseX/this.plotAreaWidth,k=k*i,j=j*(1-i)}if(l=l.chartScrollbar){l.getPercents(),i=0.05*(l.percentEnd-l.percentStart),0.005>i&&(i=0.005),0>h?(k=l.percentStart+k*i,j=l.percentEnd+j*i):(k=l.percentStart-k*i,j=l.percentEnd-j*i),j>k&&l.percentZoom(k,j,!0)}}}})})();(function(){var a=window.AmCharts;a.CategoryAxesSettings=a.Class({construct:function(b){this.cname="CategoryAxesSettings";this.minPeriod="DD";this.equalSpacing=!1;this.axisHeight=28;this.tickLength=this.axisAlpha=0;this.gridCount=10;this.maxSeries=150;this.groupToPeriods="ss 10ss 30ss mm 10mm 30mm hh DD WW MM YYYY".split(" ");this.markPeriodChange=this.autoGridCount=!0;a.applyTheme(this,b,this.cname)}})})();(function(){var a=window.AmCharts;a.ChartCursorSettings=a.Class({construct:function(b){this.cname="ChartCursorSettings";this.enabled=!0;this.bulletsEnabled=this.valueBalloonsEnabled=!1;this.graphBulletSize=1;this.onePanelOnly=!1;this.categoryBalloonDateFormats=[{period:"YYYY",format:"YYYY"},{period:"MM",format:"MMM, YYYY"},{period:"WW",format:"MMM DD, YYYY"},{period:"DD",format:"MMM DD, YYYY"},{period:"hh",format:"JJ:NN"},{period:"mm",format:"JJ:NN"},{period:"ss",format:"JJ:NN:SS"},{period:"fff",format:"JJ:NN:SS"}];a.applyTheme(this,b,this.cname)},categoryBalloonDateFormat:function(f){var e=this.categoryBalloonDateFormats,h,g;for(g=0;g<e.length;g++){e[g].period==f&&(h=e[g].format)}return h}})})();(function(){var a=window.AmCharts;a.ChartScrollbarSettings=a.Class({construct:function(b){this.cname="ChartScrollbarSettings";this.height=40;this.enabled=!0;this.color="#FFFFFF";this.updateOnReleaseOnly=this.autoGridCount=!0;this.hideResizeGrips=!1;this.position="bottom";this.minDistance=1;a.applyTheme(this,b,this.cname)}})})();(function(){var a=window.AmCharts;a.LegendSettings=a.Class({construct:function(b){this.cname="LegendSettings";this.marginBottom=this.marginTop=0;this.usePositiveNegativeOnPercentsOnly=!0;this.positiveValueColor="#00CC00";this.negativeValueColor="#CC0000";this.autoMargins=this.equalWidths=this.textClickEnabled=!1;a.applyTheme(this,b,this.cname)}})})();(function(){var a=window.AmCharts;a.PanelsSettings=a.Class({construct:function(b){this.cname="PanelsSettings";this.marginBottom=this.marginTop=this.marginRight=this.marginLeft=0;this.backgroundColor="#FFFFFF";this.backgroundAlpha=0;this.panelSpacing=8;this.panEventsEnabled=!0;this.creditsPosition="top-right";this.svgIcons=this.zoomOutAxes=!0;a.applyTheme(this,b,this.cname)}})})();(function(){var a=window.AmCharts;a.StockEventsSettings=a.Class({construct:function(b){this.cname="StockEventsSettings";this.type="sign";this.backgroundAlpha=1;this.backgroundColor="#DADADA";this.borderAlpha=1;this.borderColor="#888888";this.balloonColor=this.rollOverColor="#CC0000";a.applyTheme(this,b,this.cname)}})})();(function(){var a=window.AmCharts;a.ValueAxesSettings=a.Class({construct:function(b){this.cname="ValueAxesSettings";this.tickLength=0;this.showFirstLabel=this.autoGridCount=this.inside=!0;this.showLastLabel=!1;this.axisAlpha=0;a.applyTheme(this,b,this.cname)}})})();(function(){var a=window.AmCharts;a.getItemIndex=function(f,e){var h=-1,g;for(g=0;g<e.length;g++){f==e[g]&&(h=g)}return h};a.addBr=function(b){b.appendChild(document.createElement("br"))};a.applyStyles=function(h,g){if(g&&h){for(var l in h){var k=l,j=g[k];if(void 0!==j){try{h[k]=j}catch(i){}}}}}})();(function(){var a=window.AmCharts;a.StockLegend=a.Class({inherits:a.AmLegend,construct:function(b){a.StockLegend.base.construct.call(this,b);this.cname="StockLegend";this.valueTextComparing="[[percents.value]]%";this.valueTextRegular="[[value]]";a.applyTheme(this,b,this.cname)},drawLegend:function(){var f=this;a.StockLegend.base.drawLegend.call(f);var e=f.chart;if(e.allowTurningOff){var h=f.container,g=h.image(e.pathToImages+"xIcon"+e.extension,e.realWidth-19,3,19,19),e=h.image(e.pathToImages+"xIconH"+e.extension,e.realWidth-19,3,19,19);e.hide();f.xButtonHover=e;g.mouseup(function(){f.handleXClick()}).mouseover(function(){f.handleXOver()});e.mouseup(function(){f.handleXClick()}).mouseout(function(){f.handleXOut()})}},handleXOver:function(){this.xButtonHover.show()},handleXOut:function(){this.xButtonHover.hide()},handleXClick:function(){var d=this.chart,c=d.stockChart;c.removePanel(d);c.validateNow()}})})();(function(){var a=window.AmCharts;a.DataSetSelector=a.Class({construct:function(b){this.cname="DataSetSelector";this.theme=b;this.createEvents("dataSetSelected","dataSetCompared","dataSetUncompared");this.position="left";this.selectText="Select:";this.comboBoxSelectText="Select...";this.compareText="Compare to:";this.width=180;this.dataProvider=[];this.listHeight=150;this.listCheckBoxSize=14;this.rollOverBackgroundColor="#b2e1ff";this.selectedBackgroundColor="#7fceff";a.applyTheme(this,b,this.cname)},write:function(x){var w=this,v,u=w.theme,p=w.chart;x.className="amChartsDataSetSelector "+p.classNamePrefix+"-data-set-selector-div";var t=w.width;v=w.position;w.width=void 0;w.position=void 0;a.applyStyles(x.style,w);w.div=x;w.width=t;w.position=v;x.innerHTML="";var t=w.position,o;o="top"==t||"bottom"==t?!1:!0;w.vertical=o;var r;o&&(r=w.width+"px");var t=w.dataProvider,i,s;if(1<w.countDataSets("showInSelect")){v=document.createTextNode(p.langObj.selectText||w.selectText);x.appendChild(v);o&&a.addBr(x);var j=document.createElement("select");r&&(j.style.width=r);w.selectCB=j;u&&a.applyStyles(j.style,u.DataSetSelect);j.className=p.classNamePrefix+"-data-set-select";x.appendChild(j);a.isNN&&j.addEventListener("change",function(b){w.handleDataSetChange.call(w,b)},!0);a.isIE&&j.attachEvent("onchange",function(b){w.handleDataSetChange.call(w,b)});for(v=0;v<t.length;v++){if(i=t[v],!0===i.showInSelect){s=document.createElement("option");s.className=p.classNamePrefix+"-data-set-select-option";s.text=i.title;s.value=v;i==w.chart.mainDataSet&&(s.selected=!0);try{j.add(s,null)}catch(e){j.add(s)}}}w.offsetHeight=j.offsetHeight}if(0<w.countDataSets("showInCompare")&&1<t.length){if(o?(a.addBr(x),a.addBr(x)):(v=document.createTextNode(" "),x.appendChild(v)),v=document.createTextNode(p.langObj.compareText||w.compareText),x.appendChild(v),s=w.listCheckBoxSize,o){a.addBr(x);r=document.createElement("div");x.appendChild(r);r.className="amChartsCompareList "+p.classNamePrefix+"-compare-div";u&&a.applyStyles(r.style,u.DataSetCompareList);r.style.overflow="auto";r.style.overflowX="hidden";r.style.width=w.width-2+"px";r.style.maxHeight=w.listHeight+"px";for(v=0;v<t.length;v++){i=t[v],!0===i.showInCompare&&i!=w.chart.mainDataSet&&(u=document.createElement("div"),u.style.padding="4px",u.style.position="relative",u.name="amCBContainer",u.className=p.classNamePrefix+"-compare-item-div",u.dataSet=i,u.style.height=s+"px",i.compared&&(u.style.backgroundColor=w.selectedBackgroundColor),r.appendChild(u),o=document.createElement("div"),o.style.width=s+"px",o.style.height=s+"px",o.style.position="absolute",o.style.backgroundColor=i.color,u.appendChild(o),o=document.createElement("div"),o.style.width="100%",o.style.position="absolute",o.style.left=s+10+"px",u.appendChild(o),i=document.createTextNode(i.title),o.style.whiteSpace="nowrap",o.style.cursor="default",o.appendChild(i),w.addEventListeners(u))}a.addBr(x);a.addBr(x)}else{u=document.createElement("select");w.compareCB=u;r&&(u.style.width=r);x.appendChild(u);a.isNN&&u.addEventListener("change",function(b){w.handleCBSelect.call(w,b)},!0);a.isIE&&u.attachEvent("onchange",function(b){w.handleCBSelect.call(w,b)});s=document.createElement("option");s.text=p.langObj.comboBoxSelectText||w.comboBoxSelectText;try{u.add(s,null)}catch(e){u.add(s)}for(v=0;v<t.length;v++){if(i=t[v],!0===i.showInCompare&&i!=w.chart.mainDataSet){s=document.createElement("option");s.text=i.title;s.value=v;i.compared&&(s.selected=!0);try{u.add(s,null)}catch(e){u.add(s)}}}w.offsetHeight=u.offsetHeight}}},addEventListeners:function(d){var c=this;a.isNN&&(d.addEventListener("mouseover",function(b){c.handleRollOver.call(c,b)},!0),d.addEventListener("mouseout",function(b){c.handleRollOut.call(c,b)},!0),d.addEventListener("click",function(b){c.handleClick.call(c,b)},!0));a.isIE&&(d.attachEvent("onmouseout",function(b){c.handleRollOut.call(c,b)}),d.attachEvent("onmouseover",function(b){c.handleRollOver.call(c,b)}),d.attachEvent("onclick",function(b){c.handleClick.call(c,b)}))},handleDataSetChange:function(){var d=this.selectCB,d=this.dataProvider[d.options[d.selectedIndex].value],c=this.chart;c.mainDataSet=d;c.zoomOutOnDataSetChange&&(c.startDate=void 0,c.endDate=void 0);c.validateData(!0);this.fire({type:"dataSetSelected",dataSet:d,chart:this.chart})},handleRollOver:function(b){b=this.getRealDiv(b);b.dataSet.compared||(b.style.backgroundColor=this.rollOverBackgroundColor)},handleRollOut:function(b){b=this.getRealDiv(b);b.dataSet.compared||(b.style.removeProperty&&b.style.removeProperty("background-color"),b.style.removeAttribute&&b.style.removeAttribute("backgroundColor"))},handleCBSelect:function(g){var f=this.compareCB,j=this.dataProvider,i,h;for(i=0;i<j.length;i++){h=j[i],h.compared&&(g={type:"dataSetUncompared",dataSet:h}),h.compared=!1}j=f.selectedIndex;0<j&&(h=this.dataProvider[f.options[j].value],h.compared||(g={type:"dataSetCompared",dataSet:h}),h.compared=!0);f=this.chart;f.validateData(!0);g.chart=f;this.fire(g)},handleClick:function(d){d=this.getRealDiv(d).dataSet;!0===d.compared?(d.compared=!1,d={type:"dataSetUncompared",dataSet:d}):(d.compared=!0,d={type:"dataSetCompared",dataSet:d});var c=this.chart;c.validateData(!0);d.chart=c;this.fire(d)},getRealDiv:function(b){b||(b=window.event);b=b.currentTarget?b.currentTarget:b.srcElement;"amCBContainer"==b.parentNode.name&&(b=b.parentNode);return b},countDataSets:function(f){var e=this.dataProvider,h=0,g;for(g=0;g<e.length;g++){!0===e[g][f]&&h++}return h}})})();(function(){var a=window.AmCharts;a.StackedBullet=a.Class({construct:function(){this.stackDown=!1;this.mastHeight=8;this.shapes=[];this.backgroundColors=[];this.backgroundAlphas=[];this.borderAlphas=[];this.borderColors=[];this.colors=[];this.rollOverColors=[];this.showOnAxiss=[];this.values=[];this.showAts=[];this.textColor="#000000";this.nextY=0;this.size=16},parseConfig:function(){var b=this.bulletConfig;this.eventObjects=b.eventObjects;this.letters=b.letters;this.shapes=b.shapes;this.backgroundColors=b.backgroundColors;this.backgroundAlphas=b.backgroundAlphas;this.borderColors=b.borderColors;this.borderAlphas=b.borderAlphas;this.colors=b.colors;this.rollOverColors=b.rollOverColors;this.date=b.date;this.showOnAxiss=b.showOnAxis;this.axisCoordinate=b.minCoord;this.showAts=b.showAts;this.values=b.values;this.fontSizes=b.fontSizes;this.showBullets=b.showBullets},write:function(f){this.parseConfig();this.container=f;this.bullets=[];this.fontSize=this.chart.fontSize;if(this.graph){var e=this.graph.fontSize;e&&(this.fontSize=e)}e=this.letters.length;(this.mastHeight+2*(this.fontSize/2+2))*e>this.availableSpace&&(this.stackDown=!0);this.set=f.set();this.cset=f.set();this.set.push(this.cset);this.set.doNotScale=!0;f=0;var h;for(h=0;h<e;h++){this.shape=this.shapes[h];this.backgroundColor=this.backgroundColors[h];this.backgroundAlpha=this.backgroundAlphas[h];this.borderAlpha=this.borderAlphas[h];this.borderColor=this.borderColors[h];this.rollOverColor=this.rollOverColors[h];this.showOnAxis=this.showOnAxiss[h];this.showBullet=this.showBullets[h];this.color=this.colors[h];this.value=this.values[h];this.showAt=this.showAts[h];var g=this.fontSizes[h];isNaN(g)||(this.fontSize=g);this.addLetter(this.letters[h],f,h);this.showOnAxis||f++}},addLetter:function(D,C,A){var z=this.container;C=z.set();var s=-1,x=this.stackDown,r=this.graph.valueAxis;this.showOnAxis&&(this.stackDown=r.reversed?!0:!1);this.stackDown&&(s=1);var u=0,j=0,w=0,o,e=this.fontSize,F=this.mastHeight,i=this.shape,B=this.textColor;void 0!==this.color&&(B=this.color);void 0===D&&(D="");D=a.fixBrakes(D);D=a.text(z,D,B,this.chart.fontFamily,this.fontSize);D.node.style.pointerEvents="none";z=D.getBBox();this.labelWidth=B=z.width;this.labelHeight=z.height;var E,z=0;switch(i){case"sign":E=this.drawSign(C);u=F+4+e/2;z=F+e+4;1==s&&(u-=4);break;case"flag":E=this.drawFlag(C);j=B/2+3;u=F+4+e/2;z=F+e+4;1==s&&(u-=4);break;case"pin":E=this.drawPin(C);u=6+e/2;z=e+8;break;case"triangleUp":E=this.drawTriangleUp(C);u=-e-1;z=e+4;s=-1;break;case"triangleDown":E=this.drawTriangleDown(C);u=e+1;z=e+4;s=-1;break;case"triangleLeft":E=this.drawTriangleLeft(C);j=e;z=e+4;s=-1;break;case"triangleRight":E=this.drawTriangleRight(C);j=-e;s=-1;z=e+4;break;case"arrowUp":E=this.drawArrowUp(C);D.hide();break;case"arrowDown":E=this.drawArrowDown(C);D.hide();z=e+4;break;case"text":s=-1;E=this.drawTextBackground(C,D);u=this.labelHeight+3;z=e+10;break;case"round":E=this.drawCircle(C)}this.bullets[A]=E;this.showOnAxis?(o=isNaN(this.nextAxisY)?this.axisCoordinate:this.nextY,w=u*s,this.nextAxisY=o+s*z):this.value?(o=this.value,r.recalculateToPercents&&(o=o/r.recBaseValue*100-100),o=r.getCoordinate(o)-this.bulletY,w=u*s):this.showAt?(E=this.graphDataItem.values,r.recalculateToPercents&&(E=this.graphDataItem.percents),E&&(o=r.getCoordinate(E[this.showAt])-this.bulletY,w=u*s)):(o=this.nextY,w=u*s);D.translate(j,w);C.push(D);C.translate(0,o);this.addEventListeners(C,A);this.nextY=o+s*z;this.stackDown=x},addEventListeners:function(e,d){var f=this;e.click(function(){f.handleClick(d)}).mouseover(function(){f.handleMouseOver(d)}).touchend(function(){f.handleMouseOver(d,!0);f.handleClick(d);setTimeout(function(){f.handleMouseOut.call(f,d)},200)}).mouseout(function(){f.handleMouseOut(d)}).touchstart(function(){f.handleMouseOver(d)})},drawPin:function(e){var d=-1;this.stackDown&&(d=1);var f=this.fontSize+4;return this.drawRealPolygon(e,[0,f/2,f/2,-f/2,-f/2,0],[0,d*f/4,d*(f+f/4),d*(f+f/4),d*f/4,0])},drawSign:function(g){var e=-1;this.stackDown&&(e=1);var l=this.mastHeight*e,j=this.fontSize/2+2,h=a.line(this.container,[0,0],[0,l],this.borderColor,this.borderAlpha,1),i=a.circle(this.container,j,this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);i.translate(0,l+j*e);g.push(h);g.push(i);this.cset.push(g);return i},drawFlag:function(f){var e=-1;this.stackDown&&(e=1);var i=this.fontSize+4,h=this.labelWidth+6,g=this.mastHeight,e=1==e?e*g:e*g-i,g=a.line(this.container,[0,0],[0,e],this.borderColor,this.borderAlpha,1),i=a.polygon(this.container,[0,h,h,0],[0,0,i,i],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);i.translate(0,e);f.push(g);f.push(i);this.cset.push(f);return i},drawTriangleUp:function(d){var c=this.fontSize+7;return this.drawRealPolygon(d,[0,c/2,-c/2,0],[0,c,c,0])},drawArrowUp:function(f){var e=this.size,h=e/2,g=e/4;return this.drawRealPolygon(f,[0,h,g,g,-g,-g,-h,0],[0,h,h,e,e,h,h,0])},drawArrowDown:function(f){var e=this.size,h=e/2,g=e/4;return this.drawRealPolygon(f,[0,h,g,g,-g,-g,-h,0],[0,-h,-h,-e,-e,-h,-h,0])},drawTriangleDown:function(d){var c=this.fontSize+7;return this.drawRealPolygon(d,[0,c/2,-c/2,0],[0,-c,-c,0])},drawTriangleLeft:function(d){var c=this.fontSize+7;return this.drawRealPolygon(d,[0,c,c,0],[0,-c/2,c/2,0])},drawTriangleRight:function(d){var c=this.fontSize+7;return this.drawRealPolygon(d,[0,-c,-c,0],[0,-c/2,c/2,0])},drawRealPolygon:function(e,d,f){d=a.polygon(this.container,d,f,this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);e.push(d);this.cset.push(e);return d},drawCircle:function(d){var c=a.circle(this.container,this.fontSize/2,this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);d.push(c);this.cset.push(d);return c},drawTextBackground:function(g,f){var j=f.getBBox(),i=-j.width/2-5,h=j.width/2+5,j=-j.height-12;return this.drawRealPolygon(g,[i,-5,0,5,h,h,i,i],[-5,-5,0,-5,-5,j,j,-5])},handleMouseOver:function(f,e){e||this.bullets[f].attr({fill:this.rollOverColors[f]});var i=this.eventObjects[f],h={type:"rollOverStockEvent",eventObject:i,graph:this.graph,date:this.date},g=this.bulletConfig.eventDispatcher;h.chart=g;g.fire(h);i.url&&this.bullets[f].setAttr("cursor","pointer");h=this.chart;h.showBalloon(a.fixNewLines(i.description),g.stockEventsSettings.balloonColor,!0);i=h.graphs;for(g=0;g<i.length;g++){i[g].hideBalloon()}},handleClick:function(e){e=this.eventObjects[e];var d={type:"clickStockEvent",eventObject:e,graph:this.graph,date:this.date},f=this.bulletConfig.eventDispatcher;d.chart=f;f.fire(d);d=e.urlTarget;d||(d=f.stockEventsSettings.urlTarget);a.getURL(e.url,d)},handleMouseOut:function(d){this.bullets[d].attr({fill:this.backgroundColors[d]});d={type:"rollOutStockEvent",eventObject:this.eventObjects[d],graph:this.graph,date:this.date};var c=this.bulletConfig.eventDispatcher;d.chart=c;this.chart.hideBalloonReal();c.fire(d)}})})();