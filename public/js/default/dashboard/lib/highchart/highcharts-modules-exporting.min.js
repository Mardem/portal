(function(a){"object"===typeof module&&module.exports?module.exports=a:a(Highcharts)})(function(a){(function(s){var o=s.defaultOptions,l=s.doc,j=s.Chart,y=s.addEvent,z=s.removeEvent,c=s.fireEvent,e=s.createElement,i=s.discardElement,w=s.css,g=s.merge,d=s.pick,m=s.each,b=s.extend,x=s.isTouchDevice,I=s.win,t=s.Renderer.prototype.symbols;b(o.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"});o.navigation={buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24}};g(!0,o.navigation,{menuStyle:{border:"1px solid #999999",background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",background:"none",color:"#333333",fontSize:x?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"},buttonOptions:{symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",stroke:"none",padding:5}}});o.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}};s.post=function(h,n,k){var f;h=e("form",g({method:"post",action:h,enctype:"multipart/form-data"},k),{display:"none"},l.body);for(f in n){e("input",{type:"hidden",name:f,value:n[f]},null,h)}h.submit();i(h)};b(j.prototype,{sanitizeSVG:function(f,k){if(k&&k.exporting&&k.exporting.allowHTML){var h=f.match(/<\/svg>(.*?$)/);h&&(h='\x3cforeignObject x\x3d"0" y\x3d"0" width\x3d"'+k.chart.width+'" height\x3d"'+k.chart.height+'"\x3e\x3cbody xmlns\x3d"http://www.w3.org/1999/xhtml"\x3e'+h[1]+"\x3c/body\x3e\x3c/foreignObject\x3e",f=f.replace("\x3c/svg\x3e",h+"\x3c/svg\x3e"))}f=f.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'\x3csvg xmlns:xlink\x3d"http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href\x3d").replace(/\n/," ").replace(/<\/svg>.*?$/,"\x3c/svg\x3e").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1\x3d"rgb($2)" $1-opacity\x3d"$3"').replace(/&nbsp;/g,"\u00a0").replace(/&shy;/g,"\u00ad");return f=f.replace(/<IMG /g,"\x3cimage ").replace(/<(\/?)TITLE>/g,"\x3c$1title\x3e").replace(/height=([^" ]+)/g,'height\x3d"$1"').replace(/width=([^" ]+)/g,'width\x3d"$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href\x3d"$1"/\x3e').replace(/ id=([^" >]+)/g,' id\x3d"$1"').replace(/class=([^" >]+)/g,'class\x3d"$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(n){return n.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},getSVG:function(n){var r,q,h,k,f,p=g(this.options,n);l.createElementNS||(l.createElementNS=function(u,v){return l.createElement(v)});q=e("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},l.body);h=this.renderTo.style.width;f=this.renderTo.style.height;h=p.exporting.sourceWidth||p.chart.width||/px$/.test(h)&&parseInt(h,10)||600;f=p.exporting.sourceHeight||p.chart.height||/px$/.test(f)&&parseInt(f,10)||400;b(p.chart,{animation:!1,renderTo:q,forExport:!0,renderer:"SVGRenderer",width:h,height:f});p.exporting.enabled=!1;delete p.data;p.series=[];m(this.series,function(u){k=g(u.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:u.visible});k.isInternal||p.series.push(k)});m(this.axes,function(u){u.userOptions.internalKey=s.uniqueKey()});r=new s.Chart(p,this.callback);n&&m(["xAxis","yAxis","series"],function(u){var v={};n[u]&&(v[u]=n[u],r.update(v))});m(this.axes,function(v){var u=s.find(r.axes,function(C){return C.options.internalKey===v.userOptions.internalKey}),B=v.getExtremes(),A=B.userMin,B=B.userMax;!u||void 0===A&&void 0===B||u.setExtremes(A,B,!0,!1)});h=r.getChartHTML();h=this.sanitizeSVG(h,p);p=null;r.destroy();i(q);return h},getSVGForExport:function(f,k){var h=this.options.exporting;return this.getSVG(g({chart:{borderRadius:0}},h.chartOptions,k,{exporting:{sourceWidth:f&&f.sourceWidth||h.sourceWidth,sourceHeight:f&&f.sourceHeight||h.sourceHeight}}))},exportChart:function(f,h){h=this.getSVGForExport(f,h);f=g(this.options.exporting,f);s.post(f.url,{filename:f.filename||"chart",type:f.type,width:f.width||0,scale:f.scale,svg:h},f.formAttributes)},print:function(){var v=this,r=v.container,p=[],u=r.parentNode,n=l.body,h=n.childNodes,k=v.options.exporting.printMaxWidth,q,A;if(!v.isPrinting){v.isPrinting=!0;v.pointer.reset(null,0);c(v,"beforePrint");if(A=k&&v.chartWidth>k){q=[v.options.chart.width,void 0,!1],v.setSize(k,void 0,!1)}m(h,function(B,f){1===B.nodeType&&(p[f]=B.style.display,B.style.display="none")});n.appendChild(r);I.focus();I.print();setTimeout(function(){u.appendChild(r);m(h,function(B,f){1===B.nodeType&&(B.style.display=p[f])});v.isPrinting=!1;A&&v.setSize.apply(v,q);c(v,"afterPrint")},1000)}},contextMenu:function(H,D,A,F,v,n,u){var B=this,K=B.options.navigation,J=B.chartWidth,r=B.chartHeight,k="cache-"+H,q=B[k],G=Math.max(v,n),E,C;q||(B[k]=q=e("div",{className:H},{position:"absolute",zIndex:1000,padding:G+"px"},B.container),E=e("div",{className:"highcharts-menu"},null,q),w(E,b({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},K.menuStyle)),C=function(){w(q,{display:"none"});u&&u.setState(0);B.openMenu=!1},y(q,"mouseleave",function(){q.hideTimer=setTimeout(C,500)}),y(q,"mouseenter",function(){clearTimeout(q.hideTimer)}),k=y(l,"mouseup",function(f){B.pointer.inClass(f.target,H)||C()}),y(B,"destroy",k),m(D,function(h){if(h){var f;h.separator?f=e("hr",null,null,E):(f=e("div",{className:"highcharts-menu-item",onclick:function(p){p&&p.stopPropagation();C();h.onclick&&h.onclick.apply(B,arguments)},innerHTML:h.text||B.options.lang[h.textKey]},null,E),f.onmouseover=function(){w(this,K.menuItemHoverStyle)},f.onmouseout=function(){w(this,K.menuItemStyle)},w(f,b({cursor:"pointer"},K.menuItemStyle)));B.exportDivElements.push(f)}}),B.exportDivElements.push(E,q),B.exportMenuWidth=q.offsetWidth,B.exportMenuHeight=q.offsetHeight);D={display:"block"};A+B.exportMenuWidth>J?D.right=J-A-v-G+"px":D.left=A-G+"px";F+n+B.exportMenuHeight>r&&"top"!==u.alignOptions.verticalAlign?D.bottom=r-F-G+"px":D.top=F+n-G+"px";w(q,D);B.openMenu=!0},addButton:function(J){var G=this,E=G.renderer,H=g(G.options.navigation.buttonOptions,J),D=H.onclick,u=H.menuItems,C,F,B=H.symbolSize||12;G.btnCount||(G.btnCount=0);G.exportDivElements||(G.exportDivElements=[],G.exportSVGElements=[]);if(!1!==H.enabled){var A=H.theme,r=A.states,p=r&&r.hover,r=r&&r.select,v;delete A.states;D?v=function(f){f.stopPropagation();D.call(G,f)}:u&&(v=function(){G.contextMenu(F.menuClassName,u,F.translateX,F.translateY,F.width,F.height,F);F.setState(2)});H.text&&H.symbol?A.paddingLeft=d(A.paddingLeft,25):H.text||b(A,{width:H.width,height:H.height,padding:0});F=E.button(H.text,0,0,v,A,p,r).addClass(J.className).attr({"stroke-linecap":"round",title:G.options.lang[H._titleKey],zIndex:3});F.menuClassName=J.menuClassName||"highcharts-menu-"+G.btnCount++;H.symbol&&(C=E.symbol(H.symbol,H.symbolX-B/2,H.symbolY-B/2,B,B).addClass("highcharts-button-symbol").attr({zIndex:1}).add(F),C.attr({stroke:H.symbolStroke,fill:H.symbolFill,"stroke-width":H.symbolStrokeWidth||1}));F.add().align(b(H,{width:F.width,x:d(H.x,G.buttonOffset)}),!0,"spacingBox");G.buttonOffset+=(F.width+H.buttonSpacing)*("right"===H.align?-1:1);G.exportSVGElements.push(F,C)}},destroyExport:function(f){var k=f?f.target:this;f=k.exportSVGElements;var h=k.exportDivElements;f&&(m(f,function(n,p){n&&(n.onclick=n.ontouchstart=null,k.exportSVGElements[p]=n.destroy())}),f.length=0);h&&(m(h,function(n,p){clearTimeout(n.hideTimer);z(n,"mouseleave");k.exportDivElements[p]=n.onmouseout=n.onmouseover=n.ontouchstart=n.onclick=null;i(n)}),h.length=0)}});t.menu=function(h,n,k,f){return["M",h,n+2.5,"L",h+k,n+2.5,"M",h,n+f/2+0.5,"L",h+k,n+f/2+0.5,"M",h,n+f-1.5,"L",h+k,n+f-1.5]};j.prototype.renderExporting=function(){var h,n=this.options.exporting,k=n.buttons,f=this.isDirtyExporting||!this.exportSVGElements;this.buttonOffset=0;this.isDirtyExporting&&this.destroyExport();if(f&&!1!==n.enabled){for(h in k){this.addButton(k[h])}this.isDirtyExporting=!1}y(this,"destroy",this.destroyExport)};j.prototype.callbacks.push(function(f){f.renderExporting();y(f,"redraw",f.renderExporting);m(["exporting","navigation"],function(h){f[h]={update:function(n,k){f.isDirtyExporting=!0;g(!0,f.options[h],n);d(k,!0)&&f.redraw()}}})})})(a)});